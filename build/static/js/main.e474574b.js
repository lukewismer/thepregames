/*! For license information please see main.e474574b.js.LICENSE.txt */
(()=>{var e={7789:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function s(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(n){return!1}}function a(e,t,n){var s={};return n.isMergeableObject(e)&&i(e).forEach((function(t){s[t]=r(e[t],n)})),i(t).forEach((function(i){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(o(e,i)&&n.isMergeableObject(t[i])?s[i]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"===typeof n?n:l}(i,n)(e[i],t[i],n):s[i]=r(t[i],n))})),s}function l(e,n,i){(i=i||{}).arrayMerge=i.arrayMerge||s,i.isMergeableObject=i.isMergeableObject||t,i.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(n);return o===Array.isArray(e)?o?i.arrayMerge(e,n,i):a(e,n,i):r(n,i)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var c=l;e.exports=c},3452:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,s){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(s=r,r={}),r=r||{},s=s||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,s),o.onload||t(o,s),i.appendChild(o)}},2906:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function s(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(s=e[n],i=t[n],!(s===i||r(s)&&r(i)))return!1;var s,i;return!0}const i=function(e,t){var n;void 0===t&&(t=s);var r,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}}},1497:(e,t,n)=>{"use strict";var r=n(3218);function s(){}function i(){}i.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,i,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:s};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),s=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function _(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(1!==o||1!==a)do{if(o--,0>--a||s[o]!==i[a]){var l="\n"+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case A:return"Portal";case S:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ce=null,xe=null;function Se(e){if(e=_s(e)){if("function"!==typeof Ae)throw Error(i(280));var t=e.stateNode;t&&(t=ws(t),Ae(e.stateNode,e.type,t))}}function ke(e){Ce?xe?xe.push(e):xe=[e]:Ce=e}function Ee(){if(Ce){var e=Ce,t=xe;if(xe=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==Ce||null!==xe)&&(Ne(),Ee())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var je=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){je=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){je=!1}function Oe(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Be=null,Ue={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,s,i,o,a,l){Le=!1,Me=null,Oe.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return qe(s),e;if(o===r)return qe(s),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Qe=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,Xe=s.unstable_shouldYield,Ye=s.unstable_requestPaint,Je=s.unstable_now,Ze=s.unstable_getCurrentPriorityLevel,$e=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~s;0!==a?r=ht(a):0!==(i&=o)&&(r=ht(i))}else 0!==(o=n&~s)?r=ht(o):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-ot(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,At,Ct,xt,St,kt=!1,Et=[],Tt=null,Nt=null,It=null,Pt=new Map,Dt=new Map,jt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=_s(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Mt(e){var t=vs(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_s(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){kt=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==It&&Ft(It)&&(It=null),Pt.forEach(Bt),Dt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Nt&&zt(Nt,e),null!==It&&zt(It,e),Pt.forEach(t),Dt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Mt(n),null===n.blockedOn&&jt.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var s=_t,i=Ht.transition;Ht.transition=null;try{_t=1,Qt(e,t,n,r)}finally{_t=s,Ht.transition=i}}function Kt(e,t,n,r){var s=_t,i=Ht.transition;Ht.transition=null;try{_t=4,Qt(e,t,n,r)}finally{_t=s,Ht.transition=i}}function Qt(e,t,n,r){if(qt){var s=Xt(e,t,n,r);if(null===s)qr(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,s),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,s),!0;case"mouseover":return It=Lt(It,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pt.set(i,Lt(Pt.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dt.set(i,Lt(Dt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var i=_s(s);if(null!==i&&wt(i),null===(i=Xt(e,t,n,r))&&qr(e,t,r,Gt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Xt(e,t,n,r){if(Gt=null,null!==(e=vs(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,s="value"in Jt?Jt.value:Jt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===s[i-t];t++);return $t=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(vn),bn=sn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return xn}var kn=M({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(kn),Tn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),In=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Pn),jn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Rn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Qn=null;function Gn(e){Fr(e,0)}function Xn(e){if(Q(bs(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Qn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Qn)){var t=[];Wn(t,Qn,e,we(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Qn)}function ir(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!h.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ur(n,i);var o=ur(n,r);s&&o&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Cr={},xr={};function Sr(e){if(Cr[e])return Cr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Cr[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var kr=Sr("animationend"),Er=Sr("animationiteration"),Tr=Sr("animationstart"),Nr=Sr("transitionend"),Ir=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ir.set(e,t),l(t,[e])}for(var jr=0;jr<Pr.length;jr++){var Rr=Pr[jr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(kr,"onAnimationEnd"),Dr(Er,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,o,a,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Mr(s,a,c),i=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Mr(s,a,c),i=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var s=Wt;break;case 4:s=Kt;break;default:s=Qt}n=s.bind(null,t,n,e),s=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==a;){if(null===(o=vs(a)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=i,s=we(n),o=[];e:{var a=Ir.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Er:case Tr:l=yn;break;case Nr:l=In;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,s),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vs(c)&&!c[ps])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vs(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bs(l),f=null==c?a:bs(c),(a=new u(m,p+"leave",l,n,s)).target=h,a.relatedTarget=f,m=null,vs(s)===r&&((u=new u(d,p+"enter",c,n,s)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Qr(f))p++;for(f=0,m=d;m;m=Qr(m))f++;for(;0<p-f;)u=Qr(u),p--;for(;0<f-p;)d=Qr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Qr(u),d=Qr(d)}u=null}else u=null;null!==l&&Gr(o,a,l,u,!1),null!==c&&null!==h&&Gr(o,h,c,u,!0)}if("select"===(l=(a=r?bs(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(qn(a))if(Jn)g=or;else{g=sr;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(o,g,n,s):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bs(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,s)}var v;if(Rn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(v=en()):(Zt="value"in(Jt=s)?Jt.value:Jt.textContent,Vn=!0)),0<(y=Kr(r,_)).length&&(_=new bn(_,e,null,n,s),o.push({event:_,listeners:y}),v?_.data=v:null!==(v=zn(n))&&(_.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),$t=Zt=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(s=new bn("onBeforeInput","beforeinput",null,n,s),o.push({event:s,listeners:r}),s.data=v))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=De(e,n))&&r.unshift(Wr(e,i,s)),null!=(i=De(e,t))&&r.push(Wr(e,i,s))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,s){for(var i=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,s?null!=(l=De(n,i))&&o.unshift(Wr(n,l,a)):s||null!=(l=De(n,i))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function $r(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(as)}:rs;function as(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Vt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),ds="__reactFiber$"+hs,fs="__reactProps$"+hs,ps="__reactContainer$"+hs,ms="__reactEvents$"+hs,gs="__reactListeners$"+hs,ys="__reactHandles$"+hs;function vs(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[ds]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[ds])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function _s(e){return!(e=e[ds]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ws(e){return e[fs]||null}var As=[],Cs=-1;function xs(e){return{current:e}}function Ss(e){0>Cs||(e.current=As[Cs],As[Cs]=null,Cs--)}function ks(e,t){Cs++,As[Cs]=e.current,e.current=t}var Es={},Ts=xs(Es),Ns=xs(!1),Is=Es;function Ps(e,t){var n=e.type.contextTypes;if(!n)return Es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ds(e){return null!==(e=e.childContextTypes)&&void 0!==e}function js(){Ss(Ns),Ss(Ts)}function Rs(e,t,n){if(Ts.current!==Es)throw Error(i(168));ks(Ts,t),ks(Ns,n)}function Os(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,H(e)||"Unknown",s));return M({},n,r)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,Is=Ts.current,ks(Ts,e),ks(Ns,Ns.current),!0}function Ms(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Os(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,Ss(Ns),Ss(Ts),ks(Ts,e)):Ss(Ns),ks(Ns,n)}var Fs=null,Bs=!1,Us=!1;function zs(e){null===Fs?Fs=[e]:Fs.push(e)}function Vs(){if(!Us&&null!==Fs){Us=!0;var e=0,t=_t;try{var n=Fs;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fs=null,Bs=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),Qe($e,Vs),s}finally{_t=t,Us=!1}}return null}var Hs=[],qs=0,Ws=null,Ks=0,Qs=[],Gs=0,Xs=null,Ys=1,Js="";function Zs(e,t){Hs[qs++]=Ks,Hs[qs++]=Ws,Ws=e,Ks=t}function $s(e,t,n){Qs[Gs++]=Ys,Qs[Gs++]=Js,Qs[Gs++]=Xs,Xs=e;var r=Ys;e=Js;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var i=32-ot(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ys=1<<32-ot(t)+s|n<<s|r,Js=i+e}else Ys=1<<i|n<<s|r,Js=e}function ei(e){null!==e.return&&(Zs(e,1),$s(e,1,0))}function ti(e){for(;e===Ws;)Ws=Hs[--qs],Hs[qs]=null,Ks=Hs[--qs],Hs[qs]=null;for(;e===Xs;)Xs=Qs[--Gs],Qs[Gs]=null,Js=Qs[--Gs],Qs[Gs]=null,Ys=Qs[--Gs],Qs[Gs]=null}var ni=null,ri=null,si=!1,ii=null;function oi(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ai(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xs?{id:Ys,overflow:Js}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!ai(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&ai(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function hi(e){if(e!==ni)return!1;if(!si)return ui(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw di(),Error(i(418));for(;t;)oi(e,t),t=cs(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ri;e;)e=cs(e.nextSibling)}function fi(){ri=ni=null,si=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=b.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=s.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function _i(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===D&&vi(i)===t.type)?((r=s(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case A:return(t=Fc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case A:return n.key===s?u(e,t,n,r):null;case D:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||O(n))return null!==s?null:h(e,t,n,r,null);yi(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case A:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case D:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,s,null);yi(t,r)}return null}function m(s,i,a,l){for(var c=null,u=null,h=i,m=i=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(s,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(s,h),i=o(y,i,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(s,h),si&&Zs(s,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(s,a[m],l))&&(i=o(h,i,m),null===u?c=h:u.sibling=h,u=h);return si&&Zs(s,m),c}for(h=r(s,h);m<a.length;m++)null!==(g=p(h,s,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(s,e)})),si&&Zs(s,m),c}function g(s,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=f(s,m,v.value,c);if(null===_){null===m&&(m=y);break}e&&m&&null===_.alternate&&t(s,m),a=o(_,a,g),null===h?u=_:h.sibling=_,h=_,m=y}if(v.done)return n(s,m),si&&Zs(s,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(s,v.value,c))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return si&&Zs(s,g),u}for(m=r(s,m);!v.done;g++,v=l.next())null!==(v=p(m,s,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(s,e)})),si&&Zs(s,g),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===C){if(7===u.tag){n(r,u.sibling),(i=s(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&vi(c)===u.type){n(r,u.sibling),(i=s(u,o.props)).ref=gi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===C?((i=Oc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Rc(o.type,o.key,o.props,null,r.mode,l)).ref=gi(r,i,o),l.return=r,r=l)}return a(r);case A:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=s(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(o,r.mode,l)).return=r,r=i}return a(r);case D:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(O(o))return g(r,i,o,l);yi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,o)).return=r,r=i):(n(r,i),(i=Mc(o,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var bi=_i(!0),wi=_i(!1),Ai=xs(null),Ci=null,xi=null,Si=null;function ki(){Si=xi=Ci=null}function Ei(e){var t=Ai.current;Ss(Ai),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){Ci=e,Si=xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===xi){if(null===Ci)throw Error(i(308));xi=e,Ci.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var Pi=null;function Di(e){null===Pi?Pi=[e]:Pi.push(e)}function ji(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Di(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ri(e,r)}function Ri(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ri(e,n)}return null===(s=r.interleaved)?(t.next=t,Di(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ri(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var s=e.updateQueue;Oi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var h=s.baseState;for(o=0,u=c=l=null,a=i;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Oi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(d=a).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===u&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=h}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var qi={},Wi=xs(qi),Ki=xs(qi),Qi=xs(qi);function Gi(e){if(e===qi)throw Error(i(174));return e}function Xi(e,t){switch(ks(Qi,t),ks(Ki,e),ks(Wi,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Wi),ks(Wi,t)}function Yi(){Ss(Wi),Ss(Ki),Ss(Qi)}function Ji(e){Gi(Qi.current);var t=Gi(Wi.current),n=le(t,e.type);t!==n&&(ks(Ki,e),ks(Wi,n))}function Zi(e){Ki.current===e&&(Ss(Wi),Ss(Ki))}var $i=xs(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,so=b.ReactCurrentBatchConfig,io=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,s,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?$o:ea,e=n(r,s),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(i(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,s)}while(uo)}if(ro.current=Zo,t=null!==ao&&null!==ao.next,io=0,lo=ao=oo=null,co=!1,t)throw Error(i(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function _o(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=_o(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ao,s=r.baseQueue,o=n.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(null!==s){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((io&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,oo.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{o=s.lane,oo.lanes|=o,Ll|=o,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=_o(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);ar(o,t.memoizedState)||(_a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function xo(e,t){var n=oo,r=_o(),s=t(),o=!ar(r.memoizedState,s);if(o&&(r.memoizedState=s,_a=!0),r=r.queue,Lo(Eo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,ko.bind(null,n,r,s,t),void 0,null),null===Nl)throw Error(i(349));0!==(30&io)||So(n,t,s)}return s}function So(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&No(e)}function Eo(e,t,n){return n((function(){To(t)&&No(e)}))}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=Ri(e,1);null!==t&&nc(t,e,1,-1)}function Io(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return _o().memoizedState}function jo(e,t,n,r){var s=vo();oo.flags|=e,s.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Ro(e,t,n,r){var s=_o();r=void 0===r?null:r;var i=void 0;if(null!==ao){var o=ao.memoizedState;if(i=o.destroy,null!==r&&mo(r,o.deps))return void(s.memoizedState=Po(t,n,i,r))}oo.flags|=e,s.memoizedState=Po(1|t,n,i,r)}function Oo(e,t){return jo(8390656,8,e,t)}function Lo(e,t){return Ro(2048,8,e,t)}function Mo(e,t){return Ro(4,2,e,t)}function Fo(e,t){return Ro(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4,4,Bo.bind(null,t,e),n)}function zo(){}function Vo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Ll|=n,e.baseState=!0),t)}function Wo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{_t=n,so.transition=r}}function Ko(){return _o().memoizedState}function Qo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e))Yo(t,n);else if(null!==(n=ji(e,t,n,r))){nc(n,e,r,ec()),Jo(n,t,r)}}function Go(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Yo(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(s.next=s,Di(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=ji(e,t,s,r))&&(nc(n,e,r,s=ec()),Jo(n,t,r))}}function Xo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zo={readContext:Ii,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},$o={readContext:Ii,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Io,useDebugValue:zo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Io(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,s=vo();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Nl)throw Error(i(349));0!==(30&io)||So(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Oo(Eo.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,ko.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Nl.identifierPrefix;if(si){var n=Js;t=":"+t+"R"+(n=(Ys&~(1<<32-ot(Ys)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ii,useCallback:Vo,useContext:Ii,useEffect:Lo,useImperativeHandle:Uo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:Ho,useReducer:wo,useRef:Do,useState:function(){return wo(bo)},useDebugValue:zo,useDeferredValue:function(e){return qo(_o(),ao.memoizedState,e)},useTransition:function(){return[wo(bo)[0],_o().memoizedState]},useMutableSource:Co,useSyncExternalStore:xo,useId:Ko,unstable_isNewReconciler:!1},ta={readContext:Ii,useCallback:Vo,useContext:Ii,useEffect:Lo,useImperativeHandle:Uo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:Ho,useReducer:Ao,useRef:Do,useState:function(){return Ao(bo)},useDebugValue:zo,useDeferredValue:function(e){var t=_o();return null===ao?t.memoizedState=e:qo(t,ao.memoizedState,e)},useTransition:function(){return[Ao(bo)[0],_o().memoizedState]},useMutableSource:Co,useSyncExternalStore:xo,useId:Ko,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Fi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,s))&&(nc(t,e,s,r),Ui(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Fi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,s))&&(nc(t,e,s,r),Ui(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Fi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Bi(e,s,r))&&(nc(t,e,r,n),Ui(t,e,r))}};function ia(e,t,n,r,s,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function oa(e,t,n){var r=!1,s=Es,i=t.contextType;return"object"===typeof i&&null!==i?i=Ii(i):(s=Ds(t)?Is:Ts.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ps(e,s):Es),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Ii(i):(i=Ds(t)?Is:Ts.current,s.context=Ps(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Vi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),ha(0,t)},n}function pa(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ha(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var va=b.ReactCurrentOwner,_a=!1;function ba(e,t,n,r){t.child=null===e?wi(t,null,n,r):bi(t,e.child,n,r)}function wa(e,t,n,r,s){n=n.render;var i=t.ref;return Ni(t,s),r=go(e,t,n,r,i,s),n=yo(),null===e||_a?(si&&n&&ei(t),t.flags|=1,ba(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qa(e,t,s))}function Aa(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Dc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ca(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qa(e,t,s)}return t.flags|=1,(e=jc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,qa(e,t,s);0!==(131072&e.flags)&&(_a=!0)}}return ka(e,t,n,r,s)}function xa(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ks(jl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ks(jl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,ks(jl,Dl),Dl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ks(jl,Dl),Dl|=r;return ba(e,t,s,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,s){var i=Ds(n)?Is:Ts.current;return i=Ps(t,i),Ni(t,s),n=go(e,t,n,r,i,s),r=yo(),null===e||_a?(si&&r&&ei(t),t.flags|=1,ba(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qa(e,t,s))}function Ea(e,t,n,r,s){if(Ds(n)){var i=!0;Ls(t)}else i=!1;if(Ni(t,s),null===t.stateNode)Ha(e,t),oa(t,n,r),la(t,n,r,s),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ii(c):c=Ps(t,c=Ds(n)?Is:Ts.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Oi=!1;var d=t.memoizedState;o.state=d,Vi(t,r,o,s),l=t.memoizedState,a!==r||d!==l||Ns.current||Oi?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Oi||ia(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Mi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ii(l):l=Ps(t,l=Ds(n)?Is:Ts.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Oi=!1,d=t.memoizedState,o.state=d,Vi(t,r,o,s);var p=t.memoizedState;a!==h||d!==p||Ns.current||Oi?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Oi||ia(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,i,s)}function Ta(e,t,n,r,s,i){Sa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return s&&Ms(t,n,!1),qa(e,t,i);r=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,a,i)):ba(e,t,a,i),t.memoizedState=r.state,s&&Ms(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Rs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rs(0,t.context,!1),Xi(e,t.containerInfo)}function Ia(e,t,n,r,s){return fi(),pi(s),t.flags|=256,ba(e,t,n,r),t.child}var Pa,Da,ja,Ra,Oa={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,s=t.pendingProps,o=$i.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ks($i,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,s,0,null),e=Oc(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Oa,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,s,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Lc({mode:"visible",children:r.children},s,0,null),(o=Oc(o,s,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bi(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Oa,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ua(o=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Nl)){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|a))?0:s)&&s!==o.retryLane&&(o.retryLane=s,Ri(e,s),nc(r,e,s,-1))}return mc(),Ba(e,t,a,r=ua(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Qs[Gs++]=Ys,Qs[Gs++]=Js,Qs[Gs++]=Xs,Ys=e.id,Js=e.overflow,Xs=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,o,n);if(a){a=s.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==o?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=jc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=jc(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,s}return e=(a=e.child).sibling,s=jc(a,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Fa(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&pi(r),bi(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function za(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Va(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=$i.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ks($i,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),za(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===eo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}za(t,!0,n,null,i);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ds(t.type)&&js(),Ka(t),null;case 3:return r=t.stateNode,Yi(),Ss(Ns),Ss(Ts),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Da(e,t),Ka(t),null;case 5:Zi(t);var s=Gi(Qi.current);if(n=t.type,null!==e&&null!=t.stateNode)ja(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ka(t),null}if(e=Gi(Wi.current),hi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ds]=t,r[fs]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(s=0;s<Or.length;s++)Br(Or[s],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":se(r,o),Br("invalid",r)}for(var l in ve(n,o),s=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),s=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ds]=t,e[fs]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Br("cancel",e),Br("close",e),s=r;break;case"iframe":case"object":case"embed":Br("load",e),s=r;break;case"video":case"audio":for(s=0;s<Or.length;s++)Br(Or[s],e);s=r;break;case"source":Br("error",e),s=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),s=r;break;case"details":Br("toggle",e),s=r;break;case"input":Y(e,r),s=X(e,r),Br("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=M({},r,{value:void 0}),Br("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Br("invalid",e)}for(o in ve(n,s),c=s)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Br("scroll",e):null!=u&&_(e,o,u,l))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi(Qi.current),Gi(Wi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ds]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ss($i),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))di(),fi(),t.flags|=98560,o=!1;else if(o=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ds]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$i.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Yi(),Da(e,t),null===e&&Vr(t.stateNode.containerInfo),Ka(t),null;case 10:return Ei(t.type._context),Ka(t),null;case 19:if(Ss($i),null===(o=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Wa(o,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Wa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ks($i,1&$i.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Vl&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!si)return Ka(t),null}else 2*Je()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=$i.current,ks($i,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ga(e,t){switch(ti(t),t.tag){case 1:return Ds(t.type)&&js(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yi(),Ss(Ns),Ss(Ts),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Ss($i),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss($i),null;case 4:return Yi(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},ja=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Gi(Wi.current);var i,o=null;switch(n){case"input":s=X(e,s),r=X(e,r),o=[];break;case"select":s=M({},s,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":s=re(e,s),r=re(e,r),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ve(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ya=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function $a(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){xc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&el(t,n,i)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ds],delete t[fs],delete t[ms],delete t[gs],delete t[ys])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(a){}switch(n.tag){case 5:Ya||$a(n,t);case 6:var r=ul,s=hl;ul=null,dl(e,t,n),hl=s,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Vt(e)):ls(ul,n.stateNode));break;case 4:r=ul,s=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=s;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),s=s.next}while(s!==r)}dl(e,t,n);break;case 1:if(!Ya&&($a(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,dl(e,t,n),Ya=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(o,a,s),ul=null,hl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){xc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){xc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){xc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&$a(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&$a(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(g){xc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(s,o),_e(l,a);var u=_e(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(s,d):"dangerouslySetInnerHTML"===h?he(s,d):"children"===h?de(s,d):_(s,h,d,u)}switch(l){case"input":Z(s,o);break;case"textarea":ie(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(s,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(s,!!o.multiple,o.defaultValue,!0):ne(s,!!o.multiple,o.multiple?[]:"",!1))}s[fs]=o}catch(g){xc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){xc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){xc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(s=e.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(zl=Je())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||h,ml(t,e),Ya=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:$a(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xc(r,n,g)}}break;case 5:$a(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Za=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{s=d.stateNode,u?"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){xc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){xc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),cl(e,al(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(i(161))}}catch(a){xc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Za=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var s=Za,i=s.child;if(22===s.tag&&r){var o=null!==s.memoizedState||Xa;if(!o){var a=s.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Xa;var c=Ya;if(Xa=o,(Ya=l)&&!c)for(Za=s;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Al(s):null!==l?(l.return=o,Za=l):Al(s);for(;null!==i;)Za=i,_l(i,t,n),i=i.sibling;Za=s,Xa=a,Ya=c}bl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Za=i):bl(e)}}function bl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hi(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(i(163))}Ya||512&t.flags&&sl(t)}catch(f){xc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function wl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Al(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){xc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){xc(t,s,l)}}var i=t.return;try{sl(t)}catch(l){xc(t,i,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){xc(t,o,l)}}}catch(l){xc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Cl,xl=Math.ceil,Sl=b.ReactCurrentDispatcher,kl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Tl=0,Nl=null,Il=null,Pl=0,Dl=0,jl=xs(0),Rl=0,Ol=null,Ll=0,Ml=0,Fl=0,Bl=null,Ul=null,zl=0,Vl=1/0,Hl=null,ql=!1,Wl=null,Kl=null,Ql=!1,Gl=null,Xl=0,Yl=0,Jl=null,Zl=-1,$l=0;function ec(){return 0!==(6&Tl)?Je():-1!==Zl?Zl:Zl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Pl?Pl&-Pl:null!==mi.transition?(0===$l&&($l=mt()),$l):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(i(185));yt(e,n,r),0!==(2&Tl)&&e===Nl||(e===Nl&&(0===(2&Tl)&&(Ml|=n),4===Rl&&ac(e,Pl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Je()+500,Bs&&Vs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),a=1<<o,l=s[o];-1===l?0!==(a&n)&&0===(a&r)||(s[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=dt(e,e===Nl?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Bs=!0,zs(e)}(lc.bind(null,e)):zs(lc.bind(null,e)),os((function(){0===(6&Tl)&&Vs()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,$l=0,0!==(6&Tl))throw Error(i(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var s=Tl;Tl|=2;var o=pc();for(Nl===e&&Pl===t||(Hl=null,Vl=Je()+500,dc(e,t));;)try{vc();break}catch(l){fc(e,l)}ki(),Sl.current=o,Tl=s,null!==Il?t=0:(Nl=null,Pl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=ic(e,s))),1===t)throw n=Ol,dc(e,0),ac(e,r),rc(e,Je()),n;if(6===t)ac(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ol,dc(e,0),ac(e,r),rc(e,Je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Ul,Hl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(wc.bind(null,e,Ul,Hl),t);break}wc(e,Ul,Hl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>s&&(s=a),r&=~o}if(r=s,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=rs(wc.bind(null,e,Ul,Hl),r);break}wc(e,Ul,Hl);break;default:throw Error(i(329))}}}return rc(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(i(327));Ac();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ol,dc(e,0),ac(e,t),rc(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Hl),rc(e,Je()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Je()+500,Bs&&Vs())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Tl)&&Ac();var t=Tl;Tl|=1;var n=El.transition,r=_t;try{if(El.transition=null,_t=1,e)return e()}finally{_t=r,El.transition=n,0===(6&(Tl=t))&&Vs()}}function hc(){Dl=jl.current,Ss(jl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&js();break;case 3:Yi(),Ss(Ns),Ss(Ts),no();break;case 5:Zi(r);break;case 4:Yi();break;case 13:case 19:Ss($i);break;case 10:Ei(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,Il=e=jc(e.current,null),Pl=Dl=t,Rl=0,Ol=null,Fl=Ml=Ll=0,Ul=Bl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=s,r.next=o}n.pending=r}Pi=null}return e}function fc(e,t){for(;;){var n=Il;try{if(ki(),ro.current=Zo,co){for(var r=oo.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}co=!1}if(io=0,lo=ao=oo=null,uo=!1,ho=0,kl.current=null,null===n||null===n.return){Rl=1,Ol=t,Il=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(i(426))}else if(si&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),pi(ca(c,l));break e}}o=c=ca(c,l),4!==Rl&&(Rl=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,zi(o,fa(0,c,t));break e;case 1:l=c;var v=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Kl||!Kl.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,zi(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Zo,null===e?Zo:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Nl||0===(268435455&Ll)&&0===(268435455&Ml)||ac(Nl,Pl)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(Nl===e&&Pl===t||(Hl=null,dc(e,t));;)try{yc();break}catch(s){fc(e,s)}if(ki(),Tl=n,Sl.current=r,null!==Il)throw Error(i(261));return Nl=null,Pl=0,Rl}function yc(){for(;null!==Il;)_c(Il)}function vc(){for(;null!==Il&&!Xe();)_c(Il)}function _c(e){var t=Cl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?bc(e):Il=t,kl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Dl)))return void(Il=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Rl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Rl&&(Rl=5)}function wc(e,t,n){var r=_t,s=El.transition;try{El.transition=null,_t=1,function(e,t,n,r){do{Ac()}while(null!==Gl);if(0!==(6&Tl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,o),e===Nl&&(Il=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nc(tt,(function(){return Ac(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=El.transition,El.transition=null;var a=_t;_t=1;var l=Tl;Tl|=4,kl.current=null,function(e,t){if(es=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==s&&3!==d.nodeType||(l=a+s),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===s&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},qt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){xc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ts),qt=!!es,ts=es=null,e.current=n,vl(n,e,s),Ye(),Tl=l,_t=a,El.transition=o}else e.current=n;if(Ql&&(Ql=!1,Gl=e,Xl=s),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&Ac(),o=e.pendingLanes,0!==(1&o)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Vs()}(e,t,n,r)}finally{El.transition=s,_t=r}return null}function Ac(){if(null!==Gl){var e=bt(Xl),t=El.transition,n=_t;try{if(El.transition=null,_t=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Xl=0,0!==(6&Tl))throw Error(i(331));var s=Tl;for(Tl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(il(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Za=v;break e}Za=o.return}}var _=e.current;for(Za=_;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=_;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(A){xc(l,l.return,A)}if(l===a){Za=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break e}Za=l.return}}if(Tl=s,Vs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(A){}r=!0}return r}finally{_t=n,El.transition=t}}return!1}function Cc(e,t,n){e=Bi(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function xc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Bi(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Rl||3===Rl&&(130023424&Pl)===Pl&&500>Je()-zl?dc(e,0):Fl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ri(e,t))&&(yt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),kc(e,n)}function Nc(e,t){return Qe(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ic(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,s,o){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Oc(n.children,s,o,t);case x:a=8,s|=8;break;case S:return(e=Pc(12,n,t,2|s)).elementType=S,e.lanes=o,e;case N:return(e=Pc(13,n,t,s)).elementType=N,e.lanes=o,e;case I:return(e=Pc(19,n,t,s)).elementType=I,e.lanes=o,e;case j:return Lc(n,s,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case E:a=9;break e;case T:a=11;break e;case P:a=14;break e;case D:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,s)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,s,i,o,a,l){return e=new Bc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function zc(e){if(!e)return Es;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ds(n))return Os(e,n,t)}return t}function Vc(e,t,n,r,s,i,o,a,l){return(e=Uc(n,r,!0,e,0,i,0,a,l)).context=zc(null),n=e.current,(i=Fi(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Bi(n,i,s),e.current.lanes=s,yt(e,s,r),rc(e,r),e}function Hc(e,t,n,r){var s=t.current,i=ec(),o=tc(s);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(s,t,o))&&(nc(e,s,o,i),Ui(e,s,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ns.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fi();break;case 5:Ji(t);break;case 1:Ds(t.type)&&Ls(t);break;case 4:Xi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ks(Ai,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ks($i,1&$i.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(ks($i,1&$i.current),null!==(e=qa(e,t,n))?e.sibling:null);ks($i,1&$i.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),ks($i,$i.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return qa(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,si&&0!==(1048576&t.flags)&&$s(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var s=Ps(t,Ts.current);Ni(t,n),s=go(null,t,r,e,s,n);var o=yo();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ds(r)?(o=!0,Ls(t)):o=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Li(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,la(t,r,e,n),t=Ta(null,t,r,!0,o,n)):(t.tag=0,si&&o&&ei(t),ba(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),s){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ea(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Aa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,ka(e,t,r,s=t.elementType===r?s:na(r,s),n);case 1:return r=t.type,s=t.pendingProps,Ea(e,t,r,s=t.elementType===r?s:na(r,s),n);case 3:e:{if(Na(t),null===e)throw Error(i(387));r=t.pendingProps,s=(o=t.memoizedState).element,Mi(e,t),Vi(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ia(e,t,r,n,s=ca(Error(i(423)),t));break e}if(r!==s){t=Ia(e,t,r,n,s=ca(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===s){t=qa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ci(t),r=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,ns(r,s)?a=null:null!==o&&ns(r,o)&&(t.flags|=32),Sa(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ma(e,t,n);case 4:return Xi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,wa(e,t,r,s=t.elementType===r?s:na(r,s),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,ks(Ai,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===s.children&&!Ns.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fi(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ti(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ti(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ni(t,n),r=r(s=Ii(s)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return s=na(r=t.type,t.pendingProps),Aa(e,t,r,s=na(r.type,s),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:na(r,s),Ha(e,t),t.tag=1,Ds(r)?(e=!0,Ls(t)):e=!1,Ni(t,n),oa(t,r,s),la(t,r,s,n),Ta(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return xa(e,t,n)}throw Error(i(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof s){var a=s;s=function(){var e=qc(o);a.call(e)}}Hc(t,o,e,s)}else o=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=qc(o);i.call(e)}}var o=Vc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[ps]=o.current,Vr(8===e.nodeType?e.parentNode:e),uc(),o}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[ps]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,s,r);return qc(o)}Xc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Xc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[ps]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&Tl)&&(Vl=Je()+500,Vs()))}break;case 13:uc((function(){var t=Ri(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},At=function(e){if(13===e.tag){var t=Ri(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=Ri(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},xt=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Ae=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(i(90));Q(r),Z(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[_s,bs,ws,ke,Ee,cc]},tu={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{st=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(i(299));var n=!1,r="",s=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(i(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,s,0,o,a),e[ps]=t.current,Vr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(i(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[ps]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},6366:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,s="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=o.length)return!1;for(l=a;0!==l--;)if(!i(e[l],o[l]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((a=e.length)!=o.length)return!1;for(l=a;0!==l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!i(e[c[l]],o[c[l]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return i(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},4902:(e,t,n)=>{var r,s=n(2897).default,i=Object.create,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,h=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let s of l(t))u.call(e,s)||s===n||o(e,s,{get:()=>t[s],enumerable:!(r=a(t,s))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?i(c(e)):{},h(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)),f=(e,t,n)=>(((e,t,n)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),p={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(p,{default:()=>_}),e.exports=(r=p,h(o({},"__esModule",{value:!0}),r));var m=d(n(5043)),g=d(n(6366)),y=n(6081),v=n(2206);class _ extends m.Component{constructor(){var e;super(...arguments),e=this,f(this,"mounted",!1),f(this,"isReady",!1),f(this,"isPlaying",!1),f(this,"isLoading",!0),f(this,"loadOnReady",null),f(this,"startOnPlay",!0),f(this,"seekOnPlay",null),f(this,"onDurationCalled",!1),f(this,"handlePlayerMount",(e=>{this.player||(this.player=e,this.player.load(this.props.url)),this.progress()})),f(this,"getInternalPlayer",(e=>this.player?this.player[e]:null)),f(this,"progress",(()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,t=this.getSecondsLoaded(),n=this.getDuration();if(n){const r={playedSeconds:e,played:e/n};null!==t&&(r.loadedSeconds=t,r.loaded=t/n),r.playedSeconds===this.prevPlayed&&r.loadedSeconds===this.prevLoaded||this.props.onProgress(r),this.prevPlayed=r.playedSeconds,this.prevLoaded=r.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)})),f(this,"handleReady",(()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:t,volume:n,muted:r}=this.props;e(),r||null===n||this.player.setVolume(n),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):t&&this.player.play(),this.handleDurationCheck()})),f(this,"handlePlay",(()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:t,playbackRate:n}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&1!==n&&this.player.setPlaybackRate(n),e(),this.startOnPlay=!1),t(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()})),f(this,"handlePause",(e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)})),f(this,"handleEnded",(()=>{const{activePlayer:e,loop:t,onEnded:n}=this.props;e.loopOnEnded&&t&&this.seekTo(0),t||(this.isPlaying=!1,n())})),f(this,"handleError",(function(){e.isLoading=!1,e.props.onError(...arguments)})),f(this,"handleDurationCheck",(()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)})),f(this,"handleLoaded",(()=>{this.isLoading=!1}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:t,playing:n,volume:r,muted:s,playbackRate:i,pip:o,loop:a,activePlayer:l,disableDeferredLoading:c}=this.props;if(!(0,g.default)(e.url,t)){if(this.isLoading&&!l.forceLoad&&!c&&!(0,v.isMediaStream)(t))return console.warn("ReactPlayer: the attempt to load ".concat(t," is being deferred until the player has loaded")),void(this.loadOnReady=t);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(t,this.isReady)}e.playing||!n||this.isPlaying||this.player.play(),e.playing&&!n&&this.isPlaying&&this.player.pause(),!e.pip&&o&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!o&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==r&&null!==r&&this.player.setVolume(r),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==r&&setTimeout((()=>this.player.setVolume(r))))),e.playbackRate!==i&&this.player.setPlaybackRate&&this.player.setPlaybackRate(i),e.loop!==a&&this.player.setLoop&&this.player.setLoop(a)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,t,n){if(!this.isReady)return void(0!==e&&(this.seekOnPlay=e,setTimeout((()=>{this.seekOnPlay=null}),5e3)));if(t?"fraction"===t:e>0&&e<1){const t=this.player.getDuration();return t?void this.player.seekTo(t*e,n):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e,n)}render(){const e=this.props.activePlayer;return e?m.default.createElement(e,s(s({},this.props),{},{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}f(_,"displayName","Player"),f(_,"propTypes",y.propTypes),f(_,"defaultProps",y.defaultProps)},961:(e,t,n)=>{var r,s=n(2897).default,i=Object.create,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,h=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let s of l(t))u.call(e,s)||s===n||o(e,s,{get:()=>t[s],enumerable:!(r=a(t,s))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?i(c(e)):{},h(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)),f=(e,t,n)=>(((e,t,n)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),p={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(p,{createReactPlayer:()=>T}),e.exports=(r=p,h(o({},"__esModule",{value:!0}),r));var m=d(n(5043)),g=d(n(7789)),y=d(n(2906)),v=d(n(6366)),_=n(6081),b=n(2206),w=d(n(4902));const A=(0,b.lazy)((()=>n.e(353).then(n.t.bind(n,371,23)))),C="undefined"!==typeof window&&window.document&&"undefined"!==typeof document,x="undefined"!==typeof n.g&&n.g.window&&n.g.window.document,S=Object.keys(_.propTypes),k=C||x?m.Suspense:()=>null,E=[],T=(e,t)=>{var n;return n=class extends m.Component{constructor(){var n;super(...arguments),n=this,f(this,"state",{showPreview:!!this.props.light}),f(this,"references",{wrapper:e=>{this.wrapper=e},player:e=>{this.player=e}}),f(this,"handleClickPreview",(e=>{this.setState({showPreview:!1}),this.props.onClickPreview(e)})),f(this,"showPreview",(()=>{this.setState({showPreview:!0})})),f(this,"getDuration",(()=>this.player?this.player.getDuration():null)),f(this,"getCurrentTime",(()=>this.player?this.player.getCurrentTime():null)),f(this,"getSecondsLoaded",(()=>this.player?this.player.getSecondsLoaded():null)),f(this,"getInternalPlayer",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null})),f(this,"seekTo",((e,t,n)=>{if(!this.player)return null;this.player.seekTo(e,t,n)})),f(this,"handleReady",(()=>{this.props.onReady(this)})),f(this,"getActivePlayer",(0,y.default)((n=>{for(const t of[...E,...e])if(t.canPlay(n))return t;return t||null}))),f(this,"getConfig",(0,y.default)(((e,t)=>{const{config:n}=this.props;return g.default.all([_.defaultProps.config,_.defaultProps.config[t]||{},n,n[t]||{}])}))),f(this,"getAttributes",(0,y.default)((e=>(0,b.omit)(this.props,S)))),f(this,"renderActivePlayer",(e=>{if(!e)return null;const t=this.getActivePlayer(e);if(!t)return null;const n=this.getConfig(e,t.key);return m.default.createElement(w.default,s(s({},this.props),{},{key:t.key,ref:this.references.player,config:n,activePlayer:t.lazyPlayer||t,onReady:this.handleReady}))}))}shouldComponentUpdate(e,t){return!(0,v.default)(this.props,e)||!(0,v.default)(this.state,t)}componentDidUpdate(e){const{light:t}=this.props;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}renderPreview(e){if(!e)return null;const{light:t,playIcon:n,previewTabIndex:r,oEmbedUrl:s,previewAriaLabel:i}=this.props;return m.default.createElement(A,{url:e,light:t,playIcon:n,previewTabIndex:r,previewAriaLabel:i,oEmbedUrl:s,onClick:this.handleClickPreview})}render(){const{url:e,style:t,width:n,height:r,fallback:i,wrapper:o}=this.props,{showPreview:a}=this.state,l=this.getAttributes(e),c="string"===typeof o?this.references.wrapper:void 0;return m.default.createElement(o,s({ref:c,style:s(s({},t),{},{width:n,height:r})},l),m.default.createElement(k,{fallback:i},a?this.renderPreview(e):this.renderActivePlayer(e)))}},f(n,"displayName","ReactPlayer"),f(n,"propTypes",_.propTypes),f(n,"defaultProps",_.defaultProps),f(n,"addCustomPlayer",(e=>{E.push(e)})),f(n,"removeCustomPlayers",(()=>{E.length=0})),f(n,"canPlay",(t=>{for(const n of[...E,...e])if(n.canPlay(t))return!0;return!1})),f(n,"canEnablePIP",(t=>{for(const n of[...E,...e])if(n.canEnablePIP&&n.canEnablePIP(t))return!0;return!1})),n}},1043:(e,t,n)=>{var r,s=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let s of a(t))c.call(e,s)||s===n||i(e,s,{get:()=>t[s],enumerable:!(r=o(t,s))||r.enumerable});return e},h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{default:()=>m}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var d=((e,t,n)=>(n=null!=e?s(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n(8838)),f=n(961);const p=d.default[d.default.length-1];var m=(0,f.createReactPlayer)(d.default,p)},1520:(e,t,n)=>{var r,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(l,{AUDIO_EXTENSIONS:()=>x,DASH_EXTENSIONS:()=>E,FLV_EXTENSIONS:()=>T,HLS_EXTENSIONS:()=>k,MATCH_URL_DAILYMOTION:()=>b,MATCH_URL_FACEBOOK:()=>p,MATCH_URL_FACEBOOK_WATCH:()=>m,MATCH_URL_KALTURA:()=>C,MATCH_URL_MIXCLOUD:()=>w,MATCH_URL_MUX:()=>f,MATCH_URL_SOUNDCLOUD:()=>h,MATCH_URL_STREAMABLE:()=>g,MATCH_URL_TWITCH_CHANNEL:()=>_,MATCH_URL_TWITCH_VIDEO:()=>v,MATCH_URL_VIDYARD:()=>A,MATCH_URL_VIMEO:()=>d,MATCH_URL_WISTIA:()=>y,MATCH_URL_YOUTUBE:()=>u,VIDEO_EXTENSIONS:()=>S,canPlay:()=>I}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of o(t))a.call(e,l)||l===n||s(e,l,{get:()=>t[l],enumerable:!(r=i(t,l))||r.enumerable});return e})(s({},"__esModule",{value:!0}),r));var c=n(2206);const u=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,h=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,d=/vimeo\.com\/(?!progressive_redirect).+/,f=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,p=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,m=/^https?:\/\/fb\.watch\/.+$/,g=/streamable\.com\/([a-z0-9]+)$/,y=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,v=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,_=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,b=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,w=/mixcloud\.com\/([^/]+\/[^/]+)/,A=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,C=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,x=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,S=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,k=/\.(m3u8)($|\?)/i,E=/\.(mpd)($|\?)/i,T=/\.(flv)($|\?)/i,N=e=>{if(e instanceof Array){for(const t of e){if("string"===typeof t&&N(t))return!0;if(N(t.src))return!0}return!1}return!(!(0,c.isMediaStream)(e)&&!(0,c.isBlobUrl)(e))||(x.test(e)||S.test(e)||k.test(e)||E.test(e)||T.test(e))},I={youtube:e=>e instanceof Array?e.every((e=>u.test(e))):u.test(e),soundcloud:e=>h.test(e)&&!x.test(e),vimeo:e=>d.test(e)&&!S.test(e)&&!k.test(e),mux:e=>f.test(e),facebook:e=>p.test(e)||m.test(e),streamable:e=>g.test(e),wistia:e=>y.test(e),twitch:e=>v.test(e)||_.test(e),dailymotion:e=>b.test(e),mixcloud:e=>w.test(e),vidyard:e=>A.test(e),kaltura:e=>C.test(e),file:N}},8838:(e,t,n)=>{Object.create;var r,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=(Object.getPrototypeOf,Object.prototype.hasOwnProperty),l=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of o(t))a.call(e,l)||l===n||s(e,l,{get:()=>t[l],enumerable:!(r=i(t,l))||r.enumerable});return e},c={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(c,{default:()=>d}),e.exports=(r=c,l(s({},"__esModule",{value:!0}),r));var u=n(2206),h=n(1520),d=[{key:"youtube",name:"YouTube",canPlay:h.canPlay.youtube,lazyPlayer:(0,u.lazy)((()=>n.e(446).then(n.t.bind(n,1059,23))))},{key:"soundcloud",name:"SoundCloud",canPlay:h.canPlay.soundcloud,lazyPlayer:(0,u.lazy)((()=>n.e(979).then(n.t.bind(n,1848,23))))},{key:"vimeo",name:"Vimeo",canPlay:h.canPlay.vimeo,lazyPlayer:(0,u.lazy)((()=>n.e(173).then(n.t.bind(n,2458,23))))},{key:"mux",name:"Mux",canPlay:h.canPlay.mux,lazyPlayer:(0,u.lazy)((()=>n.e(723).then(n.t.bind(n,4384,23))))},{key:"facebook",name:"Facebook",canPlay:h.canPlay.facebook,lazyPlayer:(0,u.lazy)((()=>n.e(887).then(n.t.bind(n,6112,23))))},{key:"streamable",name:"Streamable",canPlay:h.canPlay.streamable,lazyPlayer:(0,u.lazy)((()=>n.e(627).then(n.t.bind(n,5912,23))))},{key:"wistia",name:"Wistia",canPlay:h.canPlay.wistia,lazyPlayer:(0,u.lazy)((()=>n.e(340).then(n.t.bind(n,4045,23))))},{key:"twitch",name:"Twitch",canPlay:h.canPlay.twitch,lazyPlayer:(0,u.lazy)((()=>n.e(42).then(n.t.bind(n,3267,23))))},{key:"dailymotion",name:"DailyMotion",canPlay:h.canPlay.dailymotion,lazyPlayer:(0,u.lazy)((()=>n.e(328).then(n.t.bind(n,5145,23))))},{key:"mixcloud",name:"Mixcloud",canPlay:h.canPlay.mixcloud,lazyPlayer:(0,u.lazy)((()=>n.e(570).then(n.t.bind(n,875,23))))},{key:"vidyard",name:"Vidyard",canPlay:h.canPlay.vidyard,lazyPlayer:(0,u.lazy)((()=>n.e(392).then(n.t.bind(n,5941,23))))},{key:"kaltura",name:"Kaltura",canPlay:h.canPlay.kaltura,lazyPlayer:(0,u.lazy)((()=>n.e(463).then(n.t.bind(n,8892,23))))},{key:"file",name:"FilePlayer",canPlay:h.canPlay.file,canEnablePIP:e=>h.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,u.supportsWebKitPresentationMode)())&&!h.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,u.lazy)((()=>n.e(458).then(n.t.bind(n,7691,23))))}]},6081:(e,t,n)=>{var r,s=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let s of a(t))c.call(e,s)||s===n||i(e,s,{get:()=>t[s],enumerable:!(r=o(t,s))||r.enumerable});return e},h={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(h,{defaultProps:()=>x,propTypes:()=>A}),e.exports=(r=h,u(i({},"__esModule",{value:!0}),r));var d=((e,t,n)=>(n=null!=e?s(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)))(n(5173));const{string:f,bool:p,number:m,array:g,oneOfType:y,shape:v,object:_,func:b,node:w}=d.default,A={url:y([f,g,_]),playing:p,loop:p,controls:p,volume:m,muted:p,playbackRate:m,width:y([f,m]),height:y([f,m]),style:_,progressInterval:m,playsinline:p,pip:p,stopOnUnmount:p,light:y([p,f,_]),playIcon:w,previewTabIndex:m,previewAriaLabel:f,fallback:w,oEmbedUrl:f,wrapper:y([f,b,v({render:b.isRequired})]),config:v({soundcloud:v({options:_}),youtube:v({playerVars:_,embedOptions:_,onUnstarted:b}),facebook:v({appId:f,version:f,playerId:f,attributes:_}),dailymotion:v({params:_}),vimeo:v({playerOptions:_,title:f}),mux:v({attributes:_,version:f}),file:v({attributes:_,tracks:g,forceVideo:p,forceAudio:p,forceHLS:p,forceSafariHLS:p,forceDisableHls:p,forceDASH:p,forceFLV:p,hlsOptions:_,hlsVersion:f,dashVersion:f,flvVersion:f}),wistia:v({options:_,playerId:f,customControls:g}),mixcloud:v({options:_}),twitch:v({options:_,playerId:f}),vidyard:v({options:_})}),onReady:b,onStart:b,onPlay:b,onPause:b,onBuffer:b,onBufferEnd:b,onEnded:b,onError:b,onDuration:b,onSeek:b,onPlaybackRateChange:b,onPlaybackQualityChange:b,onProgress:b,onClickPreview:b,onEnablePIP:b,onDisablePIP:b},C=()=>{},x={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:C},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:C,onStart:C,onPlay:C,onPause:C,onBuffer:C,onBufferEnd:C,onEnded:C,onError:C,onDuration:C,onSeek:C,onPlaybackRateChange:C,onPlaybackQualityChange:C,onProgress:C,onClickPreview:C,onEnablePIP:C,onDisablePIP:C}},2206:(e,t,n)=>{var r,s=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let s of a(t))c.call(e,s)||s===n||i(e,s,{get:()=>t[s],enumerable:!(r=o(t,s))||r.enumerable});return e},h=(e,t,n)=>(n=null!=e?s(l(e)):{},u(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),d={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(d,{callPlayer:()=>P,getConfig:()=>N,getSDK:()=>T,isBlobUrl:()=>j,isMediaStream:()=>D,lazy:()=>g,omit:()=>I,parseEndTime:()=>C,parseStartTime:()=>A,queryString:()=>S,randomString:()=>x,supportsWebKitPresentationMode:()=>R}),e.exports=(r=d,u(i({},"__esModule",{value:!0}),r));var f=h(n(5043)),p=h(n(3452)),m=h(n(7789));const g=e=>f.default.lazy((async()=>{const t=await e();return"function"===typeof t.default?t:t.default})),y=/[?&#](?:start|t)=([0-9hms]+)/,v=/[?&#]end=([0-9hms]+)/,_=/(\d+)(h|m|s)/g,b=/^\d+$/;function w(e,t){if(e instanceof Array)return;const n=e.match(t);if(n){const e=n[1];if(e.match(_))return function(e){let t=0,n=_.exec(e);for(;null!==n;){const[,r,s]=n;"h"===s&&(t+=60*parseInt(r,10)*60),"m"===s&&(t+=60*parseInt(r,10)),"s"===s&&(t+=parseInt(r,10)),n=_.exec(e)}return t}(e);if(b.test(e))return parseInt(e)}}function A(e){return w(e,y)}function C(e){return w(e,v)}function x(){return Math.random().toString(36).substr(2,5)}function S(e){return Object.keys(e).map((t=>"".concat(t,"=").concat(e[t]))).join("&")}function k(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const E={},T=function(e){0;return e}((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p.default;const i=k(t);return i&&r(i)?Promise.resolve(i):new Promise(((r,i)=>{if(E[e])return void E[e].push({resolve:r,reject:i});E[e]=[{resolve:r,reject:i}];const o=t=>{E[e].forEach((e=>e.resolve(t)))};if(n){const e=window[n];window[n]=function(){e&&e(),o(k(t))}}s(e,(r=>{r?(E[e].forEach((e=>e.reject(r))),E[e]=null):n||o(k(t))}))}))}));function N(e,t){return(0,m.default)(t.config,e.config)}function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=[].concat(...n),i={},o=Object.keys(e);for(const a of o)-1===s.indexOf(a)&&(i[a]=e[a]);return i}function P(e){if(!this.player||!this.player[e]){let t="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(t+="The method was not available"):t+="The player was not available",console.warn(t,"font-weight: bold",""),null}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.player[e](...n)}function D(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream}function j(e){return/^blob:/.test(e)}function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video");const t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t}},1153:(e,t,n)=>{"use strict";var r=n(5043),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,A=Object.prototype.hasOwnProperty,C={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var s,i={},o=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,s)&&!x.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:o,ref:a,props:i,_owner:C.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,s,i,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+T(l,0):i,w(o)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),N(o,t,s,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+T(a=e[c],c);l+=N(a,t,s,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,s,u=i+T(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],s=0;return N(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},j={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:j,ReactCurrentOwner:C};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=o,t.PureComponent=_,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)A.call(t,c)&&!x.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:s,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,j(A);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function A(e,n){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var i=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&s(c),b(n)}else s(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&R(w,h.startTime-n),l=!1}return l}finally{d=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,x=!1,S=null,k=-1,E=5,T=-1;function N(){return!(t.unstable_now()-T<E)}function I(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?C():(x=!1,S=null)}}else x=!1}if("function"===typeof _)C=function(){_(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=I,C=function(){D.postMessage(null)}}else C=function(){y(I,0)};function j(e){S=e,x||(x=!0,C())}function R(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:s,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,R(w,i-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,j(A))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},1760:(e,t,n)=>{var r={"./10C.png":145,"./10D.png":1662,"./10H.png":8114,"./10S.png":561,"./2C.png":3270,"./2D.png":5689,"./2H.png":4133,"./2S.png":7894,"./3C.png":5561,"./3D.png":5478,"./3H.png":1674,"./3S.png":3273,"./4C.png":5220,"./4D.png":5435,"./4H.png":8199,"./4S.png":596,"./5C.png":3391,"./5D.png":7520,"./5H.png":2620,"./5S.png":1359,"./6C.png":6930,"./6D.png":6909,"./6H.png":3921,"./6S.png":6850,"./7C.png":7381,"./7D.png":506,"./7H.png":5894,"./7S.png":7989,"./8C.png":4176,"./8D.png":5503,"./8H.png":4867,"./8S.png":1664,"./9C.png":3595,"./9D.png":3684,"./9H.png":3992,"./9S.png":8523,"./AC.png":4131,"./AD.png":3964,"./AH.png":5168,"./AS.png":4579,"./JC.png":7918,"./JD.png":6401,"./JH.png":6093,"./JS.png":78,"./KC.png":4401,"./KD.png":7662,"./KH.png":2562,"./KS.png":3985,"./QC.png":1219,"./QD.png":3820,"./QH.png":1392,"./QS.png":147,"./back_of_card.png":5375,"./blank_card.png":3708};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=i,e.exports=s,s.id=1760},611:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/dealer_icon.612c89028dda79d08671.webp"},8082:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Beer_logo.eded0617fc8acab9ae86.png"},145:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/10C.7aa0309b6261d4362f3b.png"},1662:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/10D.2507295074dce2851165.png"},8114:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/10H.cd3d1215b2c77402efff.png"},561:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/10S.0fd7c4053932e8852b12.png"},3270:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2C.74089ce158ab42163368.png"},5689:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2D.2726e4f7afd150ff27a8.png"},4133:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2H.4601328d8f3b550bcbfd.png"},7894:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/2S.466a5f5aec471ecbd6f4.png"},5561:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/3C.f50dfda07b5ef595c359.png"},5478:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/3D.ca60ad34c5e487be9cc4.png"},1674:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/3H.0f5e435b35621e9081ab.png"},3273:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/3S.9679544b522963930b22.png"},5220:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/4C.e170675c7ebcd9a27a0b.png"},5435:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/4D.6c9fc852f669b8b624e1.png"},8199:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/4H.0c7a9da8aa4eed3b38cd.png"},596:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/4S.be3a6f36e617f8d72dd7.png"},3391:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/5C.c0433d329935e3d8fda4.png"},7520:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/5D.0ae5c3d3d0f5bbe902f1.png"},2620:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/5H.3f69044596a864ae9db2.png"},1359:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/5S.243cf9695e5cd1c818b3.png"},6930:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/6C.3e3e60a62f57c7a27c6d.png"},6909:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/6D.5ab21bd070b6f8c68a4b.png"},3921:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/6H.ec187233d03efbe27413.png"},6850:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/6S.2186ee6168984a9ad50e.png"},7381:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/7C.b26c35a94c2ddc24f26d.png"},506:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/7D.e5d620430b0b0114eca1.png"},5894:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/7H.3f65f918680f02803bef.png"},7989:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/7S.836588f9a751d914626b.png"},4176:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/8C.233d9176e2577f31f420.png"},5503:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/8D.df4c80ed2bdc1a6f87c1.png"},4867:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/8H.2904a0169fbef8366c85.png"},1664:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/8S.baefdf9236101ee785e3.png"},3595:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/9C.8b5ffca49ace90d1f274.png"},3684:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/9D.0b4c90669ee832b6482f.png"},3992:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/9H.7d1171557cdc46e5e4cc.png"},8523:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/9S.8141f0d506e3efb158d7.png"},4131:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/AC.86ffb02f65eb98f8be80.png"},3964:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/AD.fe1aa11d4993c7f4e4d2.png"},5168:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/AH.8ee8e6a865e6ec3443c8.png"},4579:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/AS.a892639963f1bfa810f0.png"},7918:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/JC.2b82e0ad885f4c2675da.png"},6401:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/JD.f79b086d96cdabdacb0b.png"},6093:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/JH.44ec3312be58e2aec103.png"},78:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/JS.e0a7399204e47889ccd9.png"},4401:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/KC.409f32d5fe78ce212e2a.png"},7662:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/KD.9529fda3f74a51a5329a.png"},2562:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/KH.e93a5fbae397a30d5829.png"},3985:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/KS.cfa0a61dbfe567d03387.png"},1219:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/QC.7b0114eb6e6ce449d58c.png"},3820:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/QD.3c57aac1541c257b19f4.png"},1392:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/QH.5128094e2d0df84d0646.png"},147:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/QS.df6a386ef8d2890f548d.png"},5375:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/back_of_card.103c9acdf892e2830282.png"},3708:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAAEQCAMAAADbFyX8AAAAY1BMVEX///8AAAD29vaPj4+rq6vk5OScnJzz8/Ovr6/f39+CgoLZ2dn5+fm2trbo6Og5OTkoKChMTEzFxcVDQ0MYGBhxcXFmZmZXV1ctLS2Xl5cyMjKkpKTQ0NBeXl7CwsLt7e0RERED/kxdAAACDklEQVR4nO3UQVeCQBRAYZ6WoCgoZmWW+v9/ZZwy03awuNOcc7/FMMsL84aiuFjWqyoDXVPcq3eRi7a6DV9EPFf1PAPddB1t/dM92cTz30P4x6qI7rJ9iVnSlKEeX+P7q89inzhlqCbWy/5xik3qksFWX1Myu05NRrZP/fK2Tp0xwkM/6ZPYpc4YYR5V8RiH1BkjTGLalz+kzhjBcp7lPMt5lvMs51nOs5xnOc9ynuU8y3mW8yznWc6znGc5z3Ke5TzLeZbzLOdZzrOcZznPcp7lPMt5lvMs51nOs5xnOc9ynuU8y3mW8yznWc6znGc5z3Ke5TzLeZbzLOdZzrOcZznPcp7lPMt5lvMs51nOs5xnOc9ynuU8y3mW8yznWc6znGc5z3Ke5TzLeZbzLOdZzrOcZznPcp7lPMt5lvMs51nOs5xnOc9ynuU8y3mW8yznWc6znGc5z3Ke5TzLeZbzLOdZzrOcZznPcp7lPMt5lvMs51nOs5xnOc9ynuU8y3mW8yznWc6znGc5z3Ke5TzLeZbzLOdZzrOcZznPcp7lPMt5lvPyLm+yLC/78mUsUmeMMI9DUby1qTNGqOK9KPZRp+4YbhP90sRH6o7Bjv2Y96bZ3dHTU5Rfm22sEqcMc2qj+96VbSzKtDFDHM+/Q7LcRSy6psxAfdjGubt5j/dN5OK8n9yfwel4mGWguv7CPwG0RCraLGsRUQAAAABJRU5ErkJggg=="},9769:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/globe_colored_spinning.976575cfdf7e7c60b64b.png"},5675:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAACAASURBVHic7d15lF1Vge/x3z7nDnWrKpU5lYEkRQYIIYEAMgUnAiIiAsrSFkTEbp8+FLvf0vVWO3S/RffzrV6u191Pn4o4oS2KojwGQRRJGAMNQaIBAwlJKiEhMynIUNMdzn5/xBsJSaXqnjvse875ftZyLUzdfc8Pcuvu397n3HskAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM3IuA6A5mLtjV7vzvNONoF3XiCdYYxmS6ZLsmMktUtKOw0IHJSX1GukHmvVbY02GGlFEJgnO6YtWes6HBAFFABIkvZtfeg839NVVsEHJDPFdR4gPLNRCu6Qp5+0d174nOs0QLOiACSYtTd6vdvfepWM+Zyk013nAergYSPzr21TltzvOgjQbCgACXVgx0MXKLD/JqNTXWcB6s88YoLS59qmvesPrpMAzYICkDB79tzfkSlk/9VYfUL8/SNZClbmX9ond3zFmLcUXIcBXGMCSJC9ux6e45eCeyTNd50FcMUYPWGNvbK988KdrrMALlEAEmLf1ofO8zx7r6SxrrMATeDlkl961+hJF61zHQRwhQKQAPu3LXu7Z/Rre/BjfAAkyWhrULRLOo678CXXUQAXKAAxt2/rQyd6vn1KVmNcZwGa0Car9Fmjprx9t+sgQKN5rgOgfvbsub/D9+x9TP7AkLqMCrdbeyPvhUgcXvQxls1nv2alOa5zAE3u/N4db/uc6xBAo3EKIKYO7HjoAlm71HUOICIGfFOcn5v87o2ugwCNwg5ADFlrjaz9quscQIS0lJT6Z9chgEZiByCGencse5+1+pXrHEDEBCW/NI+PBiIp2AGIIWt1vesMQAR5fsn7L65DAI1CAYiZAzuXdkp6t+scQDSZa/lEAJKCF3rcBLpY/L0CYXX2bX/7aa5DAI3ARBE73vmuEwBRZk1wgesMQCNQAGLHnuI6ARBxJ7sOADQCBSB+TnAdAIg2M891AqARKAAxYtfdn5XU5joHEGmWO2YiGSgAMbK/LTfKdQYg8ow6XEcAGoECECOeX/JdZwBiIOU6ANAIFAAAABKIAgAAQAJRAAAASCAKAAAACcTFLmgK+w8UtfzxvVr7Up96e0uaMDGts84crVNPaZdHTQWAmqMAwKkgkH70H9v1/Vu2qfdA6bCf3aStmndiq/7hy11auLDdUUIAiCfWVnAmCKQvfGm9vv5/txwx+ZetWdunv/nEGj3yyGsNTgcA8UYBgDPf+8FWPfBAz7CPG8wH+sKXu7X55cEGpAKAZKAAwImenqJ+eMv2ET++v6+kb357Sx0TAUCyUADgxLKHX1P/QFDRmIcfek19vUc/VQAAqAwFAE68uLq34jH5gtW69f11SAMAyUMBgBOv7y2GGvfaa4UaJwGAZKIAwAkb2FDjKjtpAAAYCgUAAIAEogAAAJBAFAAAABKIAgAAQAJRAAAASCAKAAAACUQBAAAggSgAAAAkEAUAAIAESrkOgGh74cVe/eKXu7RixT7t2plX+6iU5s7N6eKLx+nySycqlTauIwIAjoICgFBKRat/+9pm3XbbTtk3fKvva68VtGJFQStW7NOtt+7Q1792gmbOaHEXFABwVJwCQCj//JVN+ulPD5/832zjxgFd9/EXtG37YOOCAQBGhAKAii1d1qO779k9osf29BR14z9tqm8gAEDFKACo2Pe/v72ixz/99F4999yBOqUBAIRBAUBFdu3O68U1vRWPe+yx1+uQBgAQFgUAFXllS7jz+ZtfGahxEgBANSgAqEhvXynUuL7eoMZJAADVoACgIsaE+1x/EBz+cYGwdcAc41MHAICRowCgItlMuALQ3d2vQvHg7F0sWK1f3xfqeVpyvGQBoBb4IiBUpKMj3Etm+468PvmpNTrv3DF68qm9euWVcNcSjB7NSxYAaoF3U1RkxvSsjNExvwBoKCtX7tfKlftDH9sYacZxfKsgANQCBQAVybX6mj27NfQWfjW6ulrUPspv+HFHyshsssbb7XvpPnlpayXjeT7nLCLGypSK/d3fcZ2jtqy1Vq97xuu3CjZbmQ2pfPpPZvT0HtfJ4A4FABU795wOJwVg8eLRDT/mMHrkZ1dnsqMyxm+dYzy/S1KX40yoBat3uo5QW0ZGkrX20D+X0gVb6N3wovG8R60J7kxlZz1sjAn3MR9EErdqi5EDO5d2KjA76n2cF17s1VVXr673YY7wk1tP1sIFbQ0/7psZz/tjKjuu38+MOlOUaMTHLmv1vZRSN5m2Gdtch0H9sT2Jis0/qU2nLWpv6DEXLmx3P/kbb3WmtfOP2VEzF/mZUeeKyR/xMskYfblkipuK/d3fsQe6O10HQn1RABDKDZ+Z3tDjffYz0xp6vDfZ52fHPN7SMXO+l25d5DII0ABpWX2y5GlNsX/jx1yHQf1QABDKW94ySu+9ZHxDjvWe94zX2We7Ov9v/tQyavr+dMvYt4lTZkiWMbL2R8W+DXdZu67DdRjUHgUAoX35i12aPqO+H8s77risvvylmXU9xlA8P7O8ZfTMOfJSTrcfALfMFcU+/yk7sG626ySoLQoAQmtr9/Xtb5ygcePqcyp8zJiUvvXNEzWq3cGpdj/zeKZ96mLJ8MUDSDxjdFIp8JfbwZfnu86C2qEAoCrTZ7Tolh+cpCmTMzV93omT0vruzfPUNbPx86/xM8tb2qe9VTL8fgB/MblUKj1o+9Y39gIg1A1vcKja8V053fbTBTqvRp/TP/fcDt1+2wKdeGJrTZ6vEsbzn8u2TT1TnO8HjmZqIO8ea3e4/zwuqsabXIw06nsAhmKtdP9v9ugb39ii7TvyFY+f3JnRDTccp0vfO0EhbzpYrX3Z9uMOGD891cnRgagw9uZUbvb1rmOgOhSAGHFdAMqKBavfPdijZQ+9pif+c6/6+4b+crFcq6/F54zWBReM1UUXjVM65e4lmWoZ+3gqO+ZtzgIA0WGtZy9Kt8xe6joIwqMAxEizFIA3yhesVv1xvzZu7Nfu3QUVS1Yp32jixLS6unI6dVG7splmOBNl1raMnjmX8/7AyFhpTSr38kJjzi+6zoJwKAAx0owFICrSrROf8dPtZ7rOAUSK0bWp3KxbXcdAOKx2kHhG2uyn289wnQOIGmP1OdcZEB4FAInnpUd1i98FoGJWWpTv3XS66xwIhzc9JJ6X6ehynQGIKqPSZa4zIBwKABLO2+KnMl2uUwBRZYx5j+sMCIcCgETzPLPVdQYg4k619mFujR1BFAAkmvGzA64zABGXVb5rjusQqBwFAMnmNcWXEACRVgw02XUGVI43PySaMZ7vOgMQdSZQbW4EgoaiACDRKABADZig8XfuQtUoAAAAJBAFAACABOKjG0AE2L5+lV7sVrDzVcnz5HWOl3/SHJmWjOtoACKKAgA0MZsvKH/HAyo8tkJ2IH/Yz0xrTpkLz1Xm8gsln808AJWhAABNyu47oL5//6GCTUf/riLb16/BXz2k4kublPu7a2VyLQ1OCCDKWDYAzchaDXz/l0NO/m9UWtOtwR/f3YBQAOKEAgA0ocJ//lHF59bW7fEAQAEAmk0QKP+rZRUPG/x/v5OsrUMgAHFEAQCaTOGJlQp2vFrxuODlrSquWlOHRADiiAIANJMgUP7Xj4QePnjXUnYBAIwIBQBoImFX/2XsAgAYKQoA0CyqXP2XsQsAYCQoAECTqHb1X8YuAICRoAAAzaBGq/8ydgEADIcCADSBWq3+y9gFADAcCgDgWo1X/2XsAgA4FgoA4FitV/9l7AIAOBYKAOBSnVb/ZewCABgKBQBwqF6r/zJ2AQAMhQIAuFLn1X8ZuwAAjoYCADhS79V/GbsAAI6GAgC40KDVfxm7AADejAIAONCo1X8ZuwAA3owCADRag1f/ZewCAHgjCgDQYI1e/ZexCwDgjSgAQCOVAuXvezj0cG/WdPlTJ4UeP3g3uwAADqIAAA1UeHKlgp17Qo/Pvv9Cpd+3JPT4YBO7AAAOogAAjVLluX9/9gylFp6o9NmnVLcLwLUAAEQBABqm2nP/mSsuOPgPnlfdLgDXAgAQBQBojBqt/svYBQBQLQoA0AA1W/2XsQsAoEoUAKDearz6L2MXAEA1KABAndV89V/GLgCAKlAAgHqq0+q/jF0AAGFRAIA6Kjz9XH1W/2Wep/RlwzzmGIKXt6r4/EuhxwOILgoAUEeFR54OPXa41X9Z+qyFVe0CFB57JvRYANFFAQDqpRSotP7l0MOHXf2XVXktQOmlTaHHAoguCgBQJ8G+/VIpCDV2pKv/smquBbD7DnAdAJBAFACgTkw2E3rsiFf/ZVVcC2ByWcmYUGMBRBcFAKgT05qTN2lcxeMqXf2Xhb0WwOs6ruIxAKKPAgDUUXrx6RWPqXj1XxZyFyC9+LRwxwMQaRQAoI7SF50nb9zoET8+dcaCUKv/Q8c7+xT582aN+PFe17RQJQVA9FEAgDoyrTnlbrhGpjU37GO96VPU8jdXVnlAo5brr5I3ZeLwx5swVrnPfETyeRsAkojffKDOvFnTlfuH6+XPmTHEAzyl33GmWr/0X0dUFIY93uhRav3HTyv91jMk7yi/4sYodeZC5f7x0/ImVn6NAoB44NLfGDmwc2mnArPDdY4oSecmPOVnRp3TqOOVNmxW6fmXFOx8Vcpm5U2dqNSik+RNGl+X4wWvvqbic2tlt+2SrJXpHK/UovmhLk4EhmavTrXO/pnrFKhMynUAIEn82TPkzx5iJ6AOvAljlVnSsH4DIEI4BQAAQAJRAAAASCAKAAAACUQBAAAggSgAAAAkEAUAAIAEogAAAJBAFAAAABKIAgAAQAJRAAAASCAKAAAACUQBAAAggSgAAAAkEAUAAIAE4nbAAJqOzRdUemG9Spu2SoWiTEe7UifNkjdjqutoQGxQAAA0lcIjT2vwzgdl9x047M8HJflzZ6rl2ivkTZ/iJhwQI5wCANAcrNXAD+/UwI/uOmLyLyute1l9X/m2in94ocHhgPihAABwz1oN/OAOFR5dMfxDB/Pq/+ZPVFy5ugHBgPiiAABwqzz5L3925GNKgfq/9VNKAFAFCgAAd8JM/mWUAKAqFAAAblQz+ZeVS8Czf6pdLiAhKAAAGq8Wk39ZKVD/TbdRAoAKUQAANFYtJ/8ySgBQMQoAgMapx+RfRgkAKkIBANAY9Zz8yygBwIhRAADUXyMm/zJKADAiFAAA9dXIyb+MEgAMiwIAoH5cTP5llADgmCgAAOrD5eRfRgkAhkQBAFB7zTD5l1ECgKOiAACorWaa/MsoAcARKAAAaqcZJ/8ySgBwGAoAgNpo5sm/jBIAHEIBAFC9KEz+ZZQAQBIFAEC1ojT5l1ECAAoAgCpEcfIvowQg4SgAAMKJ8uRfRglAglEAAFQuDpN/WSlQ/7duU+HpVa6TAA1FAQBQmThN/mVBoIHv3E4JQKJQAACMXBwn/zJKABKGAgBgZOI8+ZdRApAgFAAAw0vC5F9GCUBCUAAAHFuSJv8ySgASgAIAYGhJnPzLKAGIOQoAgKNL8uRfRglAjFEAAByJyf8vKAGIKQoAgMMx+R+pXAKeogQgPigAAP6CyX9oQaCB71ICEB8UAAAHMfkPjxKAGKEAAGDyrwQlADFBAQCSjsm/cpQAxAAFAEgyJv/wKAGIOAoAkFRM/tWjBCDCKABAEjH51w4lABFFAQCShsm/9igBiCAKAJAkTP71QwlAxFAAgKRg8q8/SgAihAIAJAGTf+NQAhARFAAg7pj8G48SgAigAABxxuTvThBo4Hu3q7hyteskwFFRAIAYG7z9fiZ/l0qB+m+6TaUXNrhOAhyBAgDE1ODdS5X/7eOuY6BYUv83f6LglR2ukwCHoQAAMVR4epXydy91HQN/Zvv61f/vP5Td3+s6CnAIBQCImWD7bg3+6E7XMfAmQc9eDXz3F5K1rqMAkigAQKzYfEED37hVtn/QdRQcRfH5tco/sNx1DEASBQCIlfw9y1Tatst1DBzD4B2/5XoANAUKABATwZbtyv/2MdcxMJxiSQM/vptTAXCOAgDEgbXq/+GdUilwnQQjUHppk4ornnMdAwlHAQBioLhytYLuLa5joAKDt98vWyi6joEEowAAUWetBu9e5joFKhT07FXxCb6kCe5QAICIK658QcGW7a5jIIT8bx/nWgA4QwEAIi6/9EnXERBSsONVFZ/lXgFwgwIARFhp606V1nS7joEqFB59xnUEJBQFAIiw4hMr2UKOuOIL6/iKYDhBAQAirPj7511HQLVKgQrP8PeIxqMAABEVbNmuYFeP6xiogeKzf3IdAQlEAQAiqrBqresIqJFg/WapWHIdAwlDAQAiKli3yXUE1IgdzKu06RXXMZAwFAAgiqxVaf1m1ylQQ8U1G11HQMJQAIAICnb3yPb2uY6BGrJbuUMgGosCAESQ3bXHdQTUWGknf6doLAoAEEFMFvFjd7zqOgIShgIARJDd87rrCKgx29cv2z/oOgYShAIARJDt7XcdAXVg+wdcR0CCUACACGKiiCc7wA4AGocCAEQRE0UsmcG86whIEAoAEEW+7zoB6sEY1wmQIBQAIIrSKdcJUA/ZjOsESBAKABBBJpN2HQH10EIBQONQAIAIMh3triOgDkxrznUEJAgFAIggM2606wioMdPRLsMpADQQBQCIIG/8GNcRUGNe53jXEZAwFAAggrxpk11HQI15kye6joCEoQAAEeRNHMv54pjxplPq0FgUACCKjJF3/DTXKVBDqXmzXEdAwlAAgIjyT2TCiAuTa5F3HDsAaCwKABBR6UXzXEdAjfjzZkkeb8doLF5xQER506fIG8vHAeMgdeZC1xGQQBQAIKqMYeKIAZNJK3XafNcxkEAUACDC0u8403UEVMk/dZ5MLus6BhKIAgBEmDetU96s6a5joAqZ889xHQEJRQEAIi5z0VtdR0BIXtc0+fNnu46BhKIAABGXPmuh/KmTXMdACNn3vtN1BCQYBQCIOs9T+tLzXadAhfxpnUqdcbLrGEgwCgAQA+lzF3EtQMRkr3ovn/2HU7z6gDgwRrlrr2BCiYjUWxbIX3CC6xhION4tgJjwuqYp886zXMfAMEwuq+yH3+s6BkABAOIk81eXcEFgk8t+9Ap5E8a6jgFQAIA4MdmMWj59tUwm7ToKjiL9tjOUXnya6xiAJAoAEDvecZOVvfpS1zHwJt60TmWvudx1DOAQCgAQQ+l3nq3MJe9wHQN/5o0drdznPi6TzbiOAhxCAQBiKvvBi5U+73TXMRLP5FqU+/zH5Y0f4zoKcBgKABBXxqjl41dyx0CHDk7+fy3vuMmuowBHoAAAcZbylbv+Ku4a6IDpaFfrFz8pf84M11GAo0q5DgCgzjxPLdd9QN7oURq892HJWteJYs+bOkm5/3advEnjXEcBhkQBAJLAGGU+cJG82TM08J3bZfv6XSeKrdRp89XyyQ/J5FpcRwGOiVMAQIKkTp2n1v/xGflzZrqOEjumJaPsx65Q7m8/yuSPSGAHAEgYb/IEtX7pU8r/7gnl73pQdjDvOlLk+SfPOXiaZSJb/ogOCgCQRJ6nzMVvU+qsU5T/1UMqPPaMFASuU0WON260Mle+m49bIpIoAECCeeNGq+W69yuz5GwN3r1MxT+8wEWCI+BNnqDMe95xcOJP+a7jAKFQAADImzFVub/9qIJdPSosfVKF5c825EJBk0krdcbJKm3breDlrRWPT51+suzOV1XaurMO6d7EGKUWnKD0O89U6rT53HoZkUcBAHCIN2mcsldfquwHL1Zx9ToVn16l4qq1NS0DJpuRP2+WUmecrNSZC2VyLer/5k9CFYD02acodfapCrq3qPDM8yqtWqPStl01yyrfk3/C8UqddpJSb1kob9zo2j034BgFAMCR0imlFp2k1KKTJGsVbNmu4ppulTZsUbBtl4Idu6VCcfjnMUbexHHypk+WN32KUnO75J/QJaVr+9bjzZqu7Kzp0l9domB3j0rrXlbQvUWll7cq2LlHdt+BkWftnCD/+Gny5s6UP6dLJpetaVagWVAAABybMfJmTFVmxtS//FkQKHhtn9TbJ7uvV7Z/4C8/8z2ZjnaZsaPldbTXfLIfjjdx3MGr8d9w213bP6ig53Wpf+Bg1kJRJntwYjetLVJH+8HMDc4KuMSrHUDlPO/gzW0icoMbk8vKn9bpOgbQVLiKBQCABKIAAACQQBQAAAASiAIAAEACUQAAAEggCgAAAAlEAQAAIIEoAAAAJBAFAACABKIAAACQQBQAAAASiHsBAAillrcIVrEULsNgoXY5fF8mm6nNcwERQAEAMCL2QJ8Kv1uu4rOrVdqxWyoFriNp4JY7pFvuqNnzmZaMvNkzlF58utKLT5OMqdlzA82GAgBgWMXn12rg2z+v7aq/CdmBvEqr16u0er0KDz2lls9eI29Mh+tYQF1wDQCAYyqt3aj+r/849pP/m5U2bFb/V7+XuH9vJAcFAMCQbL6gge/8PPQ5+qgLtu9W/pcPuI4B1AUFAMCQCk88q6Bnr+sYTuUfWyG7v9d1DKDmKAAAhlT64xrXEdwrBSr+aZ3rFEDNUQAADCnY3eM6QlMIdu1xHQGoOQoAgKF5vEVI4r8DYolXNYAheZ3jXUdoCv7kCa4jADVHAQAwpNTpJ7uO4JzJpOUvmOs6BlBzFAAAQ0qfsyjxuwDpd50nk2txHQOoOQoAgKH5nnKfvjqx35HvzZquzBUXuo4B1AUFAMAxeTOnqfWLn5I3YazrKA2VOmOBWv/7J2TSfGM64olXNoBheV3T1Povn1fh8d+ruHK17NZdsoN517Fqzoxulz9rutLnnSF//mzXcYC6ogAAGBGTTimz5BxllpzjOgqAGuAUAAAACUQBAAAggSgAAAAkEAUgRvJpO+A6AwAgGigAMTJ27BP7JQWucwAAmh8FIEaMuTGQtMN1DgBA86MAxI3VatcRAADNjwIQM1bmGdcZAADNjwIQO/YB1wkAAM2PAhAz7VO8JyXtdJ0DANDcKAAxY8z5RVl7i+scAIDmRgGIIV/2ZkmDrnMAAJoXNwOKodzUd20+sG3ZzTL6O9dZAFSgWFLxDy8o2LxNQc9eeWM75E2fotQZC6SU7zodYoYCEFOBvK94Cj4sqdN1FgDDKzy9Svmf/VrB6/uO+Jk3pkOZD71H6cWnOUiGuOIUQEx1TD3/VWPMJ13nADC8wXuWaeDmnx918pek4PV9Gvju7crf9WCDkyHOKAAx1jZ5ya9k9XXXOQAMrfTCBuXvXipZO+xjB+9ZpuKqNQ1IhSSgAMRc25Q9n5f0G9c5ABxFKdDAj+4c0eRfNvgfd8kWinUMhaSgAMScMR8qtR0YfL+k+1xnAXC4wvLfK9i1p6IxQc9eFR5dUadESBIKQAKYuZcMtg14H5T0c9dZAPxZKVD+vkdCDS3c94hsvlDbPEgcCkBCmOPPH2ibvORqSV+QxDsH4Fhh+e8V7O4JNTZ4fZ8Kj3HbD1SHApAgxhjbPuWCrxqrcyQ95zoPkFhVrP7L2AVAtSgACdQ29YKVbZMfP00yH5Psdtd5gKSpZvVfxi4AqkUBSChjbgzapyz5cduAP8sY+wmxIwA0Rg1W/2XsAqAaFICEO3htwIU/aJ9ywalWZoGRbjQyy8W9BIC6qMXqv4xdAFSDrwLGIaOmLFktabWkf7Lr7s/2tbUsCIxmG2mmZMcbmfbABGnXOWvJM+nZrjMgQWq4+i8r3PeI0m8/UyYTq19NNAAFAEdl5l4yKOnZP/8vtop93Xe4zoDkqOXqv6y8C5C5cHFNnxfxxykAAGiEOqz+y7gWAGFQAACgAeqx+i/jWgCEQQEAgHqr4+q/jF0AVIoCAAB1Vs/Vfxm7AKgUBQAA6qkBq/8ydgFQCQoAANRRI1b/ZewCoBIUAAColwau/svYBcBIUQAAoE4aufovYxcAI0UBAIB6cLD6L2MXACNBAQCAOqh29Z/5wEWhx7ILgJGgAABArVW5+vfnzlT2siXyF8wN/RzsAmA4FAAAqLFqV//Z9x9c/WevuDD0c7ALgOFQAACglmqw+vfnH7xJpT9nJrsAqBsKAADUUK1W/4f+P7sAqBMKAADUSg1X/4f+jF0A1AkFAABqpNar/0N/zi4A6oACAAC1UIfV/6GfsQuAOqAAAEAN1Gv1f+jn7AKgxigAAFAta5X/9aOhh/snHj/k6v/QY6rdBbj/USkIQo9H/FAAAKBKpbUbFezaE3p89vKRre5H+rijCXr2qvRid+jxiB8KAABUqbRhc+ixxzr3f9THVrELUOzeEnos4ocCAABVsn0DoccOd+7/iMdXsQug3r7wYxE7FAAAqJJpy4UaN5Jz/0eMqWYXoK013DjEEgUAAKrkz5kZalzY1XzYcak5M0KNQzxRAACgSv7cmfKndVY2Zt6silf/hx1vwQkVjfEmT5A/b1ao4yGeKAAAUC1jlP3IZZIxI3t8OqXstVdUdciWay6TyWZG9mBj1HLN5SPPh0SgAABADfjzZ6vluvcPP8mmU8rdcI38qZOqOp43eYJabviITCZ97Acao+xHL6/q0wOIp5TrAAAQF+l3nCVvyiQN3Havgk1bj/i5f/IctVz9PnkVni4YSmrhicrd+FkN3navSqvXS9Ye9nNvxlS1XH0pW/84KvaDkGjFvu47JF3pOgfiJ9i6U6UNW2T7+mVGj5I/a7q8zvH1O96uPQePt3e/TK5F/uzp8o6bv9VRZgAAA25JREFUXLfjHc5enWqd/bMGHQw1wg4AANSBN62zZiv9ER1v0nh5k+pXMBA/XAMAAEACUQAAAEggCgAAAAlEAQAAIIEoAEi6kusAQPSZgusEqBwFAMlmtM91BCDqrMfvURRRAJBo1toe1xmAqLMlfo+iiAKARDNGa11nACLOplsL/B5FEAUAiRYEet51BiDiNhozb7/rEKgcBQCJlm6dtVIS25dAWEbLXEdAOBQAJJoxpiTpQdc5gMgKzP2uIyAcCgBg7Y9dRwAi6lW/tfgb1yEQDgUAiee3zvqtpG7XOYCosTLfN2buoOscCIcCgMQzxgQy5n+6zgFEzP5UqfR/XIdAeBQAQJLf0nWrMXwiABgpY/RVM2rOLtc5EB4FANDBiwFLgfcxSXylKTAMI63yWvr/t+scqA4FAPizTFvXH4wRpwKAY+stBvajxpycdx0E1TGuAwDNxFprSv3dt0nmw66zAE3ISvpwqnXWL1wHQfXYAQDewBhj/Vzmr2W11HUWoMlYY+0NTP7xQQEA3sSY6f1+a/oyGcvnm4GDSsaa6/222Te5DoLa4RQAMARrrV/s7/5fRubvXWcBnLHaJ+maVNuse11HQW1RAIBhFHs3XCJjvidpqussQIMt973SdaZl7gbXQVB7nAIAhpFqm32/XyycKmNvllR0nQdogG0y+oSfO/7tTP7xxQ4AUAE7uHFeqRj8vYy5SlLWdR6gxjYb6RteruUmY6b2uQ6D+qIAACHYA92dgWc/YuVdKdlzxe8Somu/ZO6TzC/93MZ7jTmfXa6E4E0LqJLdv25iyUsttiZYbKQTjDGzrVWnpFZJ7a7zATr4+f3XJfVKZrNkNxhpVSDvyVSu91m+1AcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmsf/B3N8RDvfL/4UAAAAAElFTkSuQmCC"},6483:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAYAAAA+s9J6AAATdElEQVR4Xu2dC2xW5RnHWUvpzd5oFYfcAxQoIKbg5NIBZSVlminNnFKBoTIJLAobA0yaMEOCIssIJAg2Mucga8LEZjJFxq2AXBSowrgUKKmUy2ix0H69X2jd/yyt68oHPd/5znO+c97z/5IvEHjf53ne3/P8v/c95z2XLl34IQESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAESIAEScAuBH7hloKqM8/Tp07HXrl3rWV5eHl1VVRVZX18fEhYW1hgVFVUTFxdX2atXr6sjRoyoVmW8bhgHRWjzLOfl5SXi++Pdu3dPvHjx4pjw8PC6kJCQ0ODg4DB8QxB+EL7N+NTjW9PU1NRcV1cXOnjw4KNpaWkHJ0+efBzf8zYfpqvDowhtmv6VK1fO3rx58ws1NTWPxMTExEN4URBdeKvoOou6URMlBFnl8Xi+jYyMvDB79uwtWVlZn3bWkf9vPQGK0Hrm9/W4bNmyVzZt2rQoISHhAXweRmNttvP3U1VdXX29rKysdu7cuWvefvvtv/prkP3NI0ARmsfSL0vZ2dmTlixZ8m7v3r0jcYynia+rXwa9d67FMeSNkpKSsjfffHPhvHnzvhTwQZM+EqAIfQQm0XzSpEkri4uLp3bv3n0o7EdK+Ohg89bt27eL+vbtu3P//v3LLfBHF/choB3U8xMgAp999lnf6OjosxUVFbMhwGSLBKiNNh7+RsDvnPj4+MOIo3+AENAtCFCEASqDnJycR2fOnLlj0KBBPXHCpRfCsHpVop1d7d2vX79BiGMb4hkVIBSud0sRBqAEcPw35dVXX/0bBNAP7mMDEEJ7lw9qcSCezYjr8QDH4kr3Vv/6uhJy+0Hn5uYOxQmR3D59+gzAv3ezERDPlStXLkOIszIyMk7bKC7lQ6EILUxxfn5+3Pjx488nJSVFw22Yha71uqo4e/ZszeHDh0cmJyff1tuJ7fwjQBH6x8+n3hDfLmy6T2jddPepr1WNscl/G5v8ByHG6Vb5dLsfHhNaVAHYJM+Cq9F2FqCGAvF1xx9jEO9vLULjejcUoQUlgOVdn48//vhlbMLHWeDObxeIsyfifQVxD/LbGA10SoDL0U4R+d9g7Nix/8BF1dMwywT7b80aC1iWVsTGxn6IzfxXrPHoXi+cCYVzj43wUVevXn3USQJsXZbGXrp0aSzi57aFcI1wJhQGjEvSPsSVKRkQoeN+8Fpnw1zMhi8LY3K1eccVhpOyhRtw4zGbaLOgIzkjbm02/BHG0c9J3J0WqyOLwymQt2/fPgv3Av7QKfF6ixPxP4xxPOXkMdg9di5HBTOEfcEj2Bcc66DzMXfRwJK0Ef+4++TJkxSiUK1wJhQCe+HChe43b958xMkCbD1B0+369etDcEmbI7ZXhNIpapYiFMKLK05GYimnPY7C8R/c4d/lxIkTjzl+IDYdAEUolJiCgoKhoaGhDwiZt9RsREREPMYz0FKnLnJGEQol+/z584lYiko8okIo4nubxTi6YTxDLHfsEocUoVCiz507NyQoKMiMhzQJRajfLMbRDeMZrr8HW/pCgCL0hZYPbXEnghXPivEhIr+adsV4ovyywM73JEARChVHQ0OD9vgIIevWmtXGgfEocZLJWnL6vFGE+jj53Kpr165NPndiB1cSoAiF0o7ZowEb3ULWrTWrPWMfZ3prrfXqHm8UoVCucaWMB6bVUCHGgfFUCKFyvVmKUKgEhg0bdrqlpaVByLylZjGORoznX5Y6dZEzilAo2aNHjz6DkxlVQuYtNYtx1GE8FKEQdYpQCCxeTXahsbFRiSUcxlGN8RQLoXK9WYpQqATwyMBTlZWVSuxRYBxdtPEIoXK9WYpQqAQeeuih7/DG3JNOP0OqvecQ4/gC4+Hbf4VqhSIUAquZnT59+qd4wNNNQRfiphF/NcaxS9yRix1QhILJT09P/zteQVYp6ELcNOL3YBy7xR252AFFKJj8xMTEipSUlF247rJO0I2YacStxb8N47gu5oSG+Wo06RpYvHjx2hs3bpRK+5Gwj7hvIf4/S9imzf8R4EwoXA14AUzhmDFjDmBWcdRlX4i3HHFvR/wXhBG53jwf9GRBCeB5M7Eo6HN4IahTnrzWXFhYeP348eOPYSnKtzMJ1whnQmHAmnnt2HDRokV/8Hg8ZRa489sF4ryGeLMoQL9R6jLAmVAXJnMa4Wnc2tnSdFwMHWqORfOtYBlahvfZa++gWGC+dVr0RoAitLAu8NjA8OHDh1/AsrS3hW59ceXBMvTbM2fODMObhHk/pC/k/GjL5agf8HztisKuwwtWJly+fPkbX/ta0L4ecZUgvlQK0ALa7VxQhNby7oKzjVfee++9Z20mxHrMgKWI6wXEd9ViJK53x+VogEoAM07Sc889t2vAgAE9A/ksGlwbWldUVHRz69atP502bdq5AOFwtVvOhAFKPwr+bF5e3hhcm3movr4+IDf/wq8H/o8gjicowAAVAtxShIFjr90e9G/sIaZgK+Dd0tJSS+/Xg7+ioUOHvgP/P0EcJQHE4HrXXI7apARyc3NTli5dugpL0xF494PYMz6rq6tLsQQtWL169fKMjIzPbTJ8V4dBEdos/evWrfvlihUrfh8dHR0bFRUVhz1FvyPE3l9zVVXVDdyc61m+fPkbCxcu3Oa3URowjQBFaBpKcw1hZkzNycmZceDAgTS83SkajxyMCQsL0334gOO9ejwb5haufqmdOHFibmZm5g7MfAfNjZLWzCBAEZpBUdAGNvjjDx069MS+ffsm7t27N6318foRcBnaeuWN9tIZ/HNTPf7UvrX496opU6bsSE1NPTRhwoQT2PerEAyRpv0kQBH6CdDq7rdu3YosKyuLwTcay8tonN2MCA8Pr8HytTIhIUH7lsfHx2ti5IcESIAESIAESIAEHECAy1ELkoR312snVL7z4qo9f+3v2ldr2/Zn29/b/q+9iTZ77e22/zft723flnZ/72zE/xcnnrKm9eVHkABFaCJcbHwn5OfnJx85cmQ07kQYcunSpeE4ZovBSza1wm4TUntBeROhFlHHNt4E2ta3o9g00bQXXfv/9zZabz8O3/fBI/A1P0147OFB3AFSMG7cuFPY3P+a9xqaVzgUoQkss7Ozn924ceMsnCwZhG2EBO1d9ThDGYKNdyUe/qvNotrzR3EG9g62PbDr4WlISko68Nprr/2F2x7+FxBF6AdDiO/pVatW/Q5aG4irXB5USHSdUoEoa7Q78HFBQcHrr7/+DvYh93TaiQ28EqAIDRTG6dOnY+fMmbMBd8mPw13o2g26ujfRDbizdRdthoQYb4DDVx988ME8LFtv2TpgGwbn2uIxmgvMful4TMWXKL4nUXh93SxAjSFm/zBw6A8ek8HlC1zlk2KUrVv7cSb0IfO47vJX77///m969OgxWKs/H7q6pWktrvApxUOiVmZlZf3JLYP2d5wUoU6CmgC3bNmyFL/6A3V2cWuzZtwmVTh//vw/Qoib3ArBl3FzOaqDFpagP8MMuIQC1AELKwRtpbB27dosLE0n6urh8kacCTspAOz79Zw6derhfvi4vFZ8Hb724Kgb2DMdhT1FR78Ux9eB+9qeIuyEGPbD9mDLbwJOQNj2WaG+Jt2q9jhZU46Ly/cdPXr051b5dKIfLkfvk7UNGzbMxub0SArQWGmDW1xJScnjWJY+acyCO3pxJrxPnvv3738Sx4GPuqMUZEaJ2bAFl+4dwyV9Y2U8ON8qZ8J75BAnY2bil7yP81Mc2BGAYVBjY2M/zIZPBzYS+3rnTHiP3OAi5c/xK64dC9o3ew6JDBzvxMbG/hPvt3jKISFbGiZnQi+4tbshsNfVhwI0pxbBsevZs2dHYiM/zhyLalmhCL3kE9sSY3E3BAvGxFrHw6qi8KycH5toUhlTFKGXVGJva7J2O5IyWbbBQMAz/NSpU8k2CMV2IVCEXlKCG3JHYW+Qx8smlit4dsXdJyNNNKmMKYrQSypxR/xAHg+aW+PavZbFxcUDzLWqhjWK0Esesa8VrkZ67TUKbNzH2ysie0RDEXbIA57riUfCBHEpKlOfweDLH7gObClCmWKjVS8E8OOm/St/4ChCXfpgoejCxEZmEOBM6J0iRWhGdd1tg1y9rRBkWDvaKgtFNn3ky+WorgpjoejCxEZmEOBy1AyKtEECfhCgCP2Ax64kYAYBitAMirRBAn4QoAi9n8Hz9pIUPzCzKwncmwBFyOoggQAToAgDnACXuff2nkWXIbh7uBSh60uAAAJNgCL0ngHuEwa6Ml3knyJ0UbI5VHsSoAi9nx21Z7YYlZIEKEIl08pBOYkAReikbDFWJQlQhEqmlYNyEgGK0EnZYqxKEqAIuUVhZWFz68cLbYrQyhKkLxKgCHXVAH+tdWFiI7MIcCY0iyTtkIBBAhQhjwkNlo6hblxlcDlqqHDYiQRECXAm5EwoWmAdjHMm5ExoZb3RlxcCFCFFSGGQgP0IcDnK5aj9qtJlEVGEdyecSyY5EZAtl6Ny1UXLJGCUAGdCo+TYjwRMIkAR8pjQpFLSZYZPW+NyVFehsBEJWEqAMyFPzFhZcDwxw5nQynqjr3ts1lOIHcBwJuQxIX8tAkyAIgxwAlzmnrMgl6O6S55vZdKNig39JcCZ0F+C7O8LAW5RcCb0pV7YVoAAVxgUoa6y0n6tWSy6UPnciFwpQt1Fw2LRjcqnhi0+tXZJYx4Tdkh0WFhYQ0sLa0Wi/sG1ReMrYdvJNinCDtmLjIxsiY6OrnRyUu0ae1xcXDn41ts1vkDFRRF6IT9lypQ99fWsFTOLEjzvpKen7zDTpiq2KEIvmXzxxRfXlZSUcDY0scrBsxxcN5poUhlTFKGXVI4fP/7rGTNmbPZ4PI3KZDqAA7l9+7Zn7ty52cnJyecCGIZtXfMyovukBoWzaefOnb/o0aNHlG0zaOPAmpubu5Th88wzz2xev379YhuHGtDQKMJO8GdnZ7+0atWqZU1NTd1xUkETY1d8tRXE/djdwf9/Fx4eHhIcHBzQBJvlvLq6uhm2vA1G287RTid//yfE14RjwGqcCS1bsWLFG5mZmR+ZFYeKdihCnVnNy8t7oqCgYCTEGNoqwI5CbNtb/O9mf0hISP2ePXteKioqGuN0IXbr1u3b559/fkXrD5D2I9Qmuvb0vhchxFczfPjwU1jW5+vE6+pmFKFg+pctW7b+k08++TWKUtCLrGltSRkbG5u/f//+0bKe3GudJ2bcm3tfRs6rF3yh5WNbitBHYD4250rDR2BubE4RymZdlWtQVRmHbLYNWqcIDYLT2U2V4uVyVGfCjTSjCI1Q099HleJVZRz6M2dhS4pQFrYqM6G2R8iPEAGKUAhsq1lVRMiZULBOKEJBuDBNEcryVcI6RahEGsUHocqPiTgoIw4oQiPU3NeHIhTMOUUoCJemSUAPAYpQDyW2IQFBAhShIFyaJgE9BChCPZTYhgQECVCEgnAV2qKQpeRy6xShywuAww88AYow8DlgBC4nQBG6vAA4/MAToAhlc6DKJrcq45DNtkHrFKFBcOxGAmYRoAjNIkk7JGCQAEVoEBy7kYBZBChCs0h6t6PKsRQfWCVYJxShIFyaJgE9BChCPZSMt1FlJjROgD07JUARdoqIDUhAlgBFKMtXlZmQx4SCdUIRCsKFaVVEKEvJ5dYpQpcXAIcfeAIUoWwOOBPK8lXCOkUom0aKUJavEtYpQiXSyEE4mQBFKJs9zoSyfJWwThEqkUYOwskEKEInZ4+xK0GAIpRNI5ejsnyVsE4RyqZRlStNVBmHbLYNWqcIDYJjNxIwiwBFaBZJte1wJhTML0UoCFch0xShYDIpQkG4MM3ileWrhHWKUIk0ig+CPyaCiClCQbgKmaYIBZNJEQrC5XJUFq4q1ilCVTIpOw7OhIJ8KUJBuJwJZeGqYp0iVCWTHIdjCVCEsqlTZRmnyjhks23QOkVoEBy7kYBZBChCs0h6t8MZRJavEtYpQiXSyEE4mQBF6OTsMXYlCFCESqSRg3AyAYrQydmzLnY+IUCQNUUoCBemWbyyfJWwThHKplEVEaoyDtlsG7ROERoEp7Nbi852dm9GEQpmiCIUhAvTqojwjiwmd1unCAXzHxoaWg3zji/giIiISkFMrjdNEQqWwJAhQ042NDRoQnTsp6mpqXHAgAEXHTsABwROEQomKTk5+YjH46kQdCFuura2tiI1NXWPuCMXO6AIBZOfmJhYmZKS8jlmkzpBN5KmWxB7aUZGxm5JJ263TREKV8Bbb7218PLly46cDa/gs3r16kXCiFxvniIULgHMhuVbt25NKywsLBV2Zar50tLSb+bPn782MzNzn6mGaewuArzVxqKiyMvLGzxr1qxtISEhPWNiYuKDg4Mt8qzfTXNzc0tdXd2t4uLioDVr1sxbsGDBR/p7s6VRAhShUXIG++Xk5KRv27bthWPHjo1GwT/Qzkzbhnj7jXGzN8nvme+goKCmpKSkr9LS0vZmZWVlGxweu5EACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZAACZCA/Qj8B0LA3poGJ6q8AAAAAElFTkSuQmCC"},3457:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/horse_icon.0adeade59d66d9f847e6.png"},2761:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lightning_icon.7292d5ab9df860365cf7.png"},7077:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/pp-icon.e27aa233fda82ae131db.png"},7279:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/bus_icon.1a667d31e93c7eab0875.png"},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},2897:(e,t,n)=>{var r=n(3693);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=r(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7736:(e,t,n)=>{var r=n(3738).default,s=n(9045);e.exports=function(e){var t=s(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&s&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+{42:"reactPlayerTwitch",173:"reactPlayerVimeo",328:"reactPlayerDailyMotion",340:"reactPlayerWistia",353:"reactPlayerPreview",392:"reactPlayerVidyard",446:"reactPlayerYouTube",458:"reactPlayerFilePlayer",463:"reactPlayerKaltura",570:"reactPlayerMixcloud",627:"reactPlayerStreamable",723:"reactPlayerMux",887:"reactPlayerFacebook",979:"reactPlayerSoundCloud"}[e]+"."+{42:"d18f7e83",173:"8aa08fee",328:"61389bea",340:"7ed553da",353:"b30eba8e",392:"fb49b4e1",446:"a0642e2a",458:"8751d225",463:"39aa818d",570:"b4665db4",627:"cfa74a0e",723:"ab4176ce",887:"1de044f8",979:"a4272c2f"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="powerhour:";n.l=(r,s,i,o)=>{if(e[r])e[r].push(s);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+i){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[s];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var s=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise(((n,r)=>s=e[t]=[n,r]));r.push(s[2]=i);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,s[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var s,i,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)l(n)}for(t&&t(r);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkpowerhour=self.webpackChunkpowerhour||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e,t=n(5043),r=n.t(t,2),s=n(4391),i=n(7950),o=n.t(i,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,s){void 0===s&&(s={});let{window:i=document.defaultView,v5Compat:o=!1}=s,u=i.history,p=e.Pop,m=null,g=y();function y(){return(u.state||{idx:null}).idx}function v(){p=e.Pop;let t=y(),n=null==t?null:t-g;g=t,m&&m({action:p,location:b.location,delta:n})}function _(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(a({},u.state,{idx:g}),""));let b={get action(){return p},get location(){return t(i,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(l,v),m=e,()=>{i.removeEventListener(l,v),m=null}},createHref:e=>n(i,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let s=d(b.location,t,n);r&&r(s,t),g=y()+1;let a=h(s,g),l=b.createHref(s);try{u.pushState(a,"",l)}catch(Wd){if(Wd instanceof DOMException&&"DataCloneError"===Wd.name)throw Wd;i.location.assign(l)}o&&m&&m({action:p,location:b.location,delta:1})},replace:function(t,n){p=e.Replace;let s=d(b.location,t,n);r&&r(s,t),g=y();let i=h(s,g),a=b.createHref(s);u.replaceState(i,"",a),o&&m&&m({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let s=D(("string"===typeof t?p(t):t).pathname||"/",n);if(null==s)return null;let i=_(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a){let e=P(s);o=N(i[a],e,r)}return o}function _(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=M([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),_(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))s(e,t,r);else s(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let o=b(r.join("/")),a=[];return a.push(...o.map((e=>""===e?i:[i,e].join("/")))),s&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,A=3,C=2,x=1,S=10,k=-2,E=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=k),t&&(r+=C),n.filter((e=>!E(e))).reduce(((e,t)=>e+(w.test(t)?A:""===t?x:S)),r)}function N(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),o.push({params:s,pathname:M([i,u.pathname]),pathnameBase:F(M([i,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(i=M([i,u.pathnameBase]))}return o}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=a[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:o,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Wd){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Wd+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=R(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=p(e):(s=a({},e),c(!s.pathname||!s.pathname.includes("?"),j("?","pathname","search",s)),c(!s.pathname||!s.pathname.includes("#"),j("#","pathname","hash",s)),c(!s.search||!s.search.includes("#"),j("#","search","hash",s)));let i,o=""===e||""===s.pathname,l=o?"/":s.pathname;if(null==l)i=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?p(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:B(r),hash:U(s)}}(s,i),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],H=(new Set(V),["get",...V]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const W=t.createContext(null);const K=t.createContext(null);const Q=t.createContext(null);const G=t.createContext(null);const X=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=t.createContext(null);function J(){return null!=t.useContext(G)}function Z(){return J()||c(!1),t.useContext(G).location}function $(e){t.useContext(Q).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(X);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=de(ce.UseNavigateStable),r=t.useRef(!1);return $((()=>{r.current=!0})),t.useCallback((function(t,s){void 0===s&&(s={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,q({fromRouteId:n},s)))}),[e,n])}():function(){J()||c(!1);let e=t.useContext(W),{basename:n,future:r,navigator:s}=t.useContext(Q),{matches:i}=t.useContext(X),{pathname:o}=Z(),a=JSON.stringify(O(i,r.v7_relativeSplatPath)),l=t.useRef(!1);return $((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void s.go(t);let i=L(t,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==n&&(i.pathname="/"===i.pathname?n:M([n,i.pathname])),(r.replace?s.replace:s.push)(i,r.state,r)}),[n,s,a,o,e])}()}function te(){let{matches:e}=t.useContext(X),n=e[e.length-1];return n?n.params:{}}function ne(n,r,s,i){J()||c(!1);let{navigator:o}=t.useContext(Q),{matches:a}=t.useContext(X),l=a[a.length-1],u=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=Z();if(r){var m;let e="string"===typeof r?p(r):r;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||c(!1),d=e}else d=f;let g=d.pathname||"/",v=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=y(n,{pathname:v});let b=ae(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,s,i);return r&&b?t.createElement(G.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},b):b}function re(){let e=function(){var e;let n=t.useContext(Y),r=he(ce.UseRouteError),s=de(ce.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[s]}(),n=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,null)}const se=t.createElement(re,null);class ie extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(X.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:n,match:r,children:s}=e,i=t.useContext(W);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(X.Provider,{value:n},s)}function ae(e,n,r,s){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===s&&(s=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=s)&&o.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let a=e,l=null==(i=r)?void 0:i.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,h=-1;if(r&&s&&s.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,s,i)=>{let o,c=!1,d=null,f=null;var p;r&&(o=l&&s.route.id?l[s.route.id]:void 0,d=s.route.errorElement||se,u&&(h<0&&0===i?(p="route-fallback",!1||fe[p]||(fe[p]=!0),c=!0,f=null):h===i&&(c=!0,f=s.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,i+1)),g=()=>{let n;return n=o?d:c?f:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(oe,{match:s,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===i)?t.createElement(ie,{location:r.location,revalidation:r.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(W);return n||c(!1),n}function he(e){let n=t.useContext(K);return n||c(!1),n}function de(e){let n=function(){let e=t.useContext(X);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const fe={};const pe={};const me=(e,t,n)=>{var r;pe[r="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(pe[r]=!0,console.warn(r))};function ge(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&me("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath||me("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&me("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&me("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&me("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&me("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}r.startTransition;function ye(e){c(!1)}function ve(n){let{basename:r="/",children:s=null,location:i,navigationType:o=e.Pop,navigator:a,static:l=!1,future:u}=n;J()&&c(!1);let h=r.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:h,navigator:a,static:l,future:q({v7_relativeSplatPath:!1},u)})),[h,u,a,l]);"string"===typeof i&&(i=p(i));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:v="default"}=i,_=t.useMemo((()=>{let e=D(f,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:o}}),[h,f,m,g,y,v,o]);return null==_?null:t.createElement(Q.Provider,{value:d},t.createElement(G.Provider,{children:s,value:_}))}function _e(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise((()=>{}));t.Component;function be(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,s)=>{if(!t.isValidElement(e))return;let i=[...n,s];if(e.type===t.Fragment)return void r.push.apply(r,be(e.props.children,i));e.type!==ye&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,i)),r.push(o)})),r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Mb){}new Map;const we=r.startTransition;o.flushSync,r.useId;function Ae(e){let{basename:n,children:r,future:s,window:i}=e,o=t.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),m((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return d("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,a)));let l=o.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:h}=s||{},p=t.useCallback((e=>{h&&we?we((()=>u(e))):u(e)}),[u,h]);return t.useLayoutEffect((()=>l.listen(p)),[l,p]),t.useEffect((()=>ge(s)),[s]),t.createElement(ve,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Ce,xe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(xe||(xe={}));const Se={HomePage:"Home_HomePage__YYtuo",homeTextContainer:"Home_homeTextContainer__cJhYp",iconsContainer:"Home_iconsContainer__pS0VS",content:"Home_content__CN+BB",homeTitleContainer:"Home_homeTitleContainer__E6fne",beerLogo:"Home_beerLogo__Rvceq",icons:"Home_icons__02Ca4",horse:"Home_horse__xfkBo",power:"Home_power__fp2wF",bus:"Home_bus__x8AJn",world:"Home_world__Ydkwu"},ke="Navbar_navbar__KyRFQ",Ee="Navbar_navList__EGYUt",Te="Navbar_navItem__0aOZJ",Ne="Navbar_navLink__sDYF1",Ie="Navbar_hamburger__thSG+",Pe="Navbar_navOpen__SU8kw";var De={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},je=t.createContext&&t.createContext(De),Re=function(){return Re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Re.apply(this,arguments)},Oe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};function Le(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Re({key:n},e.attr),Le(e.child))}))}function Me(e){return function(n){return t.createElement(Fe,Re({attr:Re({},e.attr)},n),Le(e.child))}}function Fe(e){var n=function(n){var r,s=e.attr,i=e.size,o=e.title,a=Oe(e,["attr","size","title"]),l=i||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Re({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,a,{className:r,style:Re(Re({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==je?t.createElement(je.Consumer,null,(function(e){return n(e)})):n(De)}function Be(e){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"}}]})(e)}var Ue=n(579);const ze=function(){const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)(!1);return(0,Ue.jsxs)("nav",{className:ke,children:[(0,Ue.jsx)("div",{className:Ie,onClick:()=>{n(!e),r&&s(!1)},children:(0,Ue.jsx)(Be,{size:30,color:"white"})}),(0,Ue.jsxs)("ul",{className:"".concat(Ee," ").concat(e?Pe:""),children:[(0,Ue.jsx)("li",{className:Te,children:(0,Ue.jsx)("a",{href:"/",className:Ne,children:"Home"})}),(0,Ue.jsx)("li",{className:Te,children:(0,Ue.jsx)("a",{href:"/powerhourform",className:Ne,children:"PowerHour"})}),(0,Ue.jsx)("li",{className:Te,children:(0,Ue.jsx)("a",{href:"/ridethebus/4-card-classic",className:Ne,children:"Ride The Bus"})}),(0,Ue.jsx)("li",{className:Te,children:(0,Ue.jsx)("a",{href:"/horserace",className:Ne,children:"Horse Race"})}),(0,Ue.jsx)("li",{className:Te,children:(0,Ue.jsx)("a",{href:"/aroundtheworld",className:Ne,children:"Around The World"})}),(0,Ue.jsx)("li",{className:Te,children:(0,Ue.jsx)("a",{href:"/propursuit",className:Ne,children:"Pro Pursuit"})}),(0,Ue.jsx)("li",{className:Te,children:(0,Ue.jsx)("a",{href:"/blackjack",className:Ne,children:"BlackJack"})}),(0,Ue.jsx)("li",{className:Te,children:(0,Ue.jsx)("a",{href:"/tournament",className:Ne,children:"Tournament"})})]})]})},Ve=n(8082),He=n(3457),qe=n(2761),We=n(7279),Ke=n(9769);const Qe=function(){return(0,Ue.jsxs)("div",{className:Se.HomePage,children:[(0,Ue.jsx)(ze,{}),(0,Ue.jsxs)("div",{className:Se.content,children:[(0,Ue.jsxs)("div",{className:Se.homeTitleContainer,children:[(0,Ue.jsx)("img",{src:Ve,className:Se.beerLogo,alt:"Beer Logo"}),(0,Ue.jsx)("h1",{children:"The Pregames"})]}),(0,Ue.jsx)("div",{className:Se.homeTextContainer,children:(0,Ue.jsx)("p",{className:Se.homeText,children:"Welcome to The Pregames! This is a website for you and your friends to enjoy. Here you can find fun games, recipes, and more! Hope you enjoy!"})}),(0,Ue.jsxs)("div",{className:Se.iconsContainer,children:[(0,Ue.jsx)("div",{className:Se.iconsTitle,children:(0,Ue.jsx)("h2",{children:"Quick Links"})}),(0,Ue.jsxs)("div",{className:Se.icons,children:[(0,Ue.jsxs)("a",{href:"/horserace",children:[(0,Ue.jsx)("img",{className:Se.horse,src:He,alt:"Horse Race"}),(0,Ue.jsx)("p",{children:"Horse Race"})]}),(0,Ue.jsxs)("a",{href:"/powerhourform",children:[(0,Ue.jsx)("img",{className:Se.power,src:qe,alt:"Power Hour"}),(0,Ue.jsx)("p",{children:"Power Hour"})]}),(0,Ue.jsxs)("a",{href:"/ridethebus/4-card-classic",children:[(0,Ue.jsx)("img",{className:Se.bus,src:We,alt:"Ride The Bus"}),(0,Ue.jsx)("p",{children:"Ride The Bus"})]}),(0,Ue.jsxs)("a",{href:"/aroundtheworld",children:[(0,Ue.jsx)("img",{className:Se.world,src:Ke,alt:"Around The World"}),(0,Ue.jsx)("p",{children:"Around The World"})]})]})]})]})]})},Ge="PowerHourForm_phScreenBg__C7OmV",Xe="PowerHourForm_formContainer__v7men",Ye="PowerHourForm_formHr__2PzHe",Je="PowerHourForm_powerHourTitleRow__c7WJH",Ze="PowerHourForm_formRow__AFkYU",$e="PowerHourForm_inputField__dK3sQ",et="PowerHourForm_nameList__v4x1c",tt="PowerHourForm_nameListItem__5wM7V",nt="PowerHourForm_removeButton__xVG1T",rt="PowerHourForm_formBtn__wvt2-",st="PowerHourForm_formError__udSoY",it="PowerHourForm_btnInstructions__Rn7qW",ot="PowerHourForm_addButton__UF1+e";function at(e){return Me({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"}}]})(e)}const lt="Instructions_instructionsOverlay__1jgAu",ct="Instructions_instructions__tuGyO",ut="Instructions_header__-zCE2",ht="Instructions_icon__vkSem",dt="Instructions_textHeader__UIpl2",ft="Instructions_title__qG7I9",pt="Instructions_subheader__gGHhN",mt="Instructions_instructionsText__zNjem",gt="Instructions_closeButton__UAedX",yt=e=>{let{gameTitle:t,subheader:n,icon:r,instructionsText:s,onClose:i}=e;return(0,Ue.jsx)("div",{className:lt,children:(0,Ue.jsxs)("div",{className:ct,children:[(0,Ue.jsx)("button",{className:gt,onClick:i,children:"\xd7"}),(0,Ue.jsxs)("div",{className:ut,children:[(0,Ue.jsx)("img",{className:ht,src:r,alt:"".concat(t," Icon")}),(0,Ue.jsxs)("div",{className:dt,children:[(0,Ue.jsx)("h2",{className:ft,children:t}),(0,Ue.jsx)("h4",{className:pt,children:n})]})]}),(0,Ue.jsx)("p",{className:mt,children:s})]})})};function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function _t(e){var t=function(e,t){if("object"!=vt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vt(t)?t:t+""}function bt(e,t,n){return(t=_t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ct=!1,xt=!1,St="${JSCORE_VERSION}",kt=function(e,t){if(!e)throw Et(t)},Et=function(e){return new Error("Firebase Database ("+St+") INTERNAL ASSERT FAILED: "+e)},Tt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Nt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,o=i?e[s+1]:0,a=s+2<e.length,l=a?e[s+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,i||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Tt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const o=s<e.length?n[e.charAt(s)]:64;++s;const a=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==o||null==a)throw new It;const l=t<<2|i>>4;if(r.push(l),64!==o){const e=i<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class It extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pt=function(e){const t=Tt(e);return Nt.encodeByteArray(t,!0)},Dt=function(e){return Pt(e).replace(/\./g,"")},jt=function(e){try{return Nt.decodeString(e,!0)}catch(Mb){console.error("base64Decode failed: ",Mb)}return null};function Rt(e){return Ot(void 0,e)}function Ot(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ot(e[n],t[n]));return e}const Lt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Mt=()=>{try{return Lt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Mb){return}const t=e&&jt(e[1]);return t&&JSON.parse(t)})()}catch(Mb){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Mb))}},Ft=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Mt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Bt=()=>{var e;return null===(e=Mt())||void 0===e?void 0:e.config};class Ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function zt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Dt(JSON.stringify({alg:"none",type:"JWT"})),Dt(JSON.stringify(i)),""].join(".")}function Vt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ht(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function qt(){return!0===Ct||!0===xt}function Wt(){return!function(){var e;const t=null===(e=Mt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Mb){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kt(){try{return"object"===typeof indexedDB}catch(Mb){return!1}}function Qt(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(Wd){t(Wd)}}))}class Gt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xt.prototype.create)}}class Xt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(Yt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new Gt(n,i,t)}}const Yt=/\{\$([^}]+)}/g;function Jt(e){return JSON.parse(e)}function Zt(e){return JSON.stringify(e)}const $t=function(e){let t={},n={},r={},s="";try{const i=e.split(".");t=Jt(jt(i[0])||""),n=Jt(jt(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch(Mb){}return{header:t,claims:n,data:r,signature:s}};function en(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function nn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function rn(e,t,n){const r={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=t.call(n,e[s],s,e));return r}function sn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(on(n)&&on(i)){if(!sn(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function on(e){return null!==e&&"object"===typeof e}class an{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,s,i=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),s=1518500249):(r=o^a^l,s=1859775393):u<60?(r=o&a|l&(o|a),s=2400959708):(r=o^a^l,s=3395469782);const e=(i<<5|i>>>27)+r+c+s+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=i,i=e}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const s=this.buf_;let i=this.inbuf_;for(;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(s[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(s),i=0;break}}else for(;r<t;)if(s[i]=e[r],++i,++r,i===this.blockSize){this.compress_(s),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function ln(e,t){return"".concat(e," failed: ").concat(t," argument ")}const cn=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function un(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function hn(e){return e&&e._delegate?e._delegate:e}class dn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fn="[DEFAULT]";class pn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ut;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Mb){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Mb){if(r)return null;throw Mb}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fn})}catch(Mb){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Mb){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===fn?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;return this.component?this.component.multipleInstances?e:fn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const gn=[];var yn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yn||(yn={}));const vn={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},_n=yn.INFO,bn={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},wn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=bn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),o=2;o<s;o++)i[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class An{constructor(e){this.name=e,this._logLevel=_n,this._logHandler=wn,this._userLogHandler=null,gn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?vn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...t),this._logHandler(this,yn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...t),this._logHandler(this,yn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yn.INFO,...t),this._logHandler(this,yn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yn.WARN,...t),this._logHandler(this,yn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...t),this._logHandler(this,yn.ERROR,...t)}}let Cn,xn;const Sn=new WeakMap,kn=new WeakMap,En=new WeakMap,Tn=new WeakMap,Nn=new WeakMap;let In={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return kn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||En.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Pn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xn||(xn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rn(this),n),jn(Sn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jn(e.apply(Rn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(Rn(this),t,...r);return En.set(i,t.sort?t.sort():[t]),jn(i)}}function Dn(e){return"function"===typeof e?Pn(e):(e instanceof IDBTransaction&&function(e){if(kn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)}));kn.set(e,t)}(e),t=e,(Cn||(Cn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,In):e);var t}function jn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(jn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&Sn.set(t,e)})).catch((()=>{})),Nn.set(t,e),t}(e);if(Tn.has(e))return Tn.get(e);const t=Dn(e);return t!==e&&(Tn.set(e,t),Nn.set(t,e)),t}const Rn=e=>Nn.get(e);function On(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=jn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(jn(o.result),e.oldVersion,e.newVersion,jn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{i&&e.addEventListener("close",(()=>i())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const Ln=["get","getKey","getAll","getAllKeys","count"],Mn=["put","add","delete","clear"],Fn=new Map;function Bn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Fn.get(t))return Fn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Mn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!Ln.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),s&&t.done]))[0]};return Fn.set(t,i),i}In=(e=>At(At({},e),{},{get:(t,n,r)=>Bn(t,n)||e.get(t,n,r),has:(t,n)=>!!Bn(t,n)||e.has(t,n)}))(In);class Un{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const zn="@firebase/app",Vn="0.10.13",Hn=new An("@firebase/app"),qn="@firebase/app-compat",Wn="@firebase/analytics-compat",Kn="@firebase/analytics",Qn="@firebase/app-check-compat",Gn="@firebase/app-check",Xn="@firebase/auth",Yn="@firebase/auth-compat",Jn="@firebase/database",Zn="@firebase/data-connect",$n="@firebase/database-compat",er="@firebase/functions",tr="@firebase/functions-compat",nr="@firebase/installations",rr="@firebase/installations-compat",sr="@firebase/messaging",ir="@firebase/messaging-compat",or="@firebase/performance",ar="@firebase/performance-compat",lr="@firebase/remote-config",cr="@firebase/remote-config-compat",ur="@firebase/storage",hr="@firebase/storage-compat",dr="@firebase/firestore",fr="@firebase/vertexai-preview",pr="@firebase/firestore-compat",mr="firebase",gr="[DEFAULT]",yr={[zn]:"fire-core",[qn]:"fire-core-compat",[Kn]:"fire-analytics",[Wn]:"fire-analytics-compat",[Gn]:"fire-app-check",[Qn]:"fire-app-check-compat",[Xn]:"fire-auth",[Yn]:"fire-auth-compat",[Jn]:"fire-rtdb",[Zn]:"fire-data-connect",[$n]:"fire-rtdb-compat",[er]:"fire-fn",[tr]:"fire-fn-compat",[nr]:"fire-iid",[rr]:"fire-iid-compat",[sr]:"fire-fcm",[ir]:"fire-fcm-compat",[or]:"fire-perf",[ar]:"fire-perf-compat",[lr]:"fire-rc",[cr]:"fire-rc-compat",[ur]:"fire-gcs",[hr]:"fire-gcs-compat",[dr]:"fire-fst",[pr]:"fire-fst-compat",[fr]:"fire-vertex","fire-js":"fire-js",[mr]:"fire-js-all"},vr=new Map,_r=new Map,br=new Map;function wr(e,t){try{e.container.addComponent(t)}catch(Mb){Hn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Mb)}}function Ar(e){const t=e.name;if(br.has(t))return Hn.debug("There were multiple attempts to register component ".concat(t,".")),!1;br.set(t,e);for(const n of vr.values())wr(n,e);for(const n of _r.values())wr(n,e);return!0}function Cr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const xr=new Xt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Sr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const kr="10.14.1";function Er(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:gr,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!==typeof s||!s)throw xr.create("bad-app-name",{appName:String(s)});if(n||(n=Bt()),!n)throw xr.create("no-options");const i=vr.get(s);if(i){if(sn(n,i.options)&&sn(r,i.config))return i;throw xr.create("duplicate-app",{appName:s})}const o=new mn(s);for(const l of br.values())o.addComponent(l);const a=new Sr(n,r,o);return vr.set(s,a),a}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr;const t=vr.get(e);if(!t&&e===gr&&Bt())return Er();if(!t)throw xr.create("no-app",{appName:e});return t}function Nr(e,t,n){var r;let s=null!==(r=yr[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Hn.warn(e.join(" "))}Ar(new dn("".concat(s,"-version"),(()=>({library:s,version:t})),"VERSION"))}const Ir="firebase-heartbeat-store";let Pr=null;function Dr(){return Pr||(Pr=On("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ir)}catch(Mb){console.warn(Mb)}}}).catch((e=>{throw xr.create("idb-open",{originalErrorMessage:e.message})}))),Pr}async function jr(e,t){try{const n=(await Dr()).transaction(Ir,"readwrite"),r=n.objectStore(Ir);await r.put(t,Rr(e)),await n.done}catch(Mb){if(Mb instanceof Gt)Hn.warn(Mb.message);else{const t=xr.create("idb-set",{originalErrorMessage:null===Mb||void 0===Mb?void 0:Mb.message});Hn.warn(t.message)}}}function Rr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Or{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Mr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Lr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(Mb){Hn.warn(Mb)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Lr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Fr(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Fr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=Dt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(Mb){return Hn.warn(Mb),""}}}function Lr(){return(new Date).toISOString().substring(0,10)}class Mr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Kt()&&Qt().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Dr()).transaction(Ir),n=await t.objectStore(Ir).get(Rr(e));return await t.done,n}catch(Mb){if(Mb instanceof Gt)Hn.warn(Mb.message);else{const t=xr.create("idb-get",{originalErrorMessage:null===Mb||void 0===Mb?void 0:Mb.message});Hn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Fr(e){return Dt(JSON.stringify({version:2,heartbeats:e})).length}var Br;Br="",Ar(new dn("platform-logger",(e=>new Un(e)),"PRIVATE")),Ar(new dn("heartbeat",(e=>new Or(e)),"PRIVATE")),Nr(zn,Vn,Br),Nr(zn,Vn,"esm2017"),Nr("fire-js","");Nr("firebase","10.14.1","app");const Ur=Er({apiKey:"AIzaSyDcT3yh1gr9CXEvasuSysXaEMP999zXVdE",authDomain:"thepregames-820b5.firebaseapp.com",projectId:"thepregames-820b5",storageBucket:"thepregames-820b5.appspot.com",messagingSenderId:"221437646464",appId:"1:221437646464:web:8579731c0f4be020cbf865",measurementId:"G-4CLEKG0NLC",databaseURL:"https://thepregames-820b5-default-rtdb.firebaseio.com/"});var zr,Vr,Hr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},qr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;o=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(o<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((i=(t=n+((o=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((s=i+((o=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,o=0;o<t;){if(0==i)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(s[i++]=e.charCodeAt(o++),i==this.blockSize){n(this,s),i=0;break}}else for(;o<t;)if(s[i++]=e[o++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var s=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=v(r,1),n=v(n,1)}return t=f(e,s.j(t)),new m(s,t)}for(s=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=o(n)).j(t);h(c)||0<c.l(e);)c=(i=o(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=f(e,c)}return new m(s,e)}function y(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],o=0;o<s;o++)i[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=f(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var o=s+(65535&this.i(i))+(65535&e.i(i)),a=(o>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,f=65535&this.i(s),m=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=f*g,p(n,2*s+2*i),n[2*s+2*i+1]+=l*g,p(n,2*s+2*i+1),n[2*s+2*i+1]+=f*m,p(n,2*s+2*i+1),n[2*s+2*i+2]+=l*m,p(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Vr=qr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),s=a,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=o(Math.pow(n,l)),s=s.j(l).add(o(c))):s=(s=s.j(r)).add(o(c))}return s},zr=qr.Integer=r}).apply("undefined"!==typeof Hr?Hr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Wr,Kr,Qr,Gr,Xr,Yr,Jr,Zr,$r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},es={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof $r&&$r];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var o=e[i];if(!(o in s))break e;s=s[o]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,(function(e,t){return t}))}}));var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function A(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function C(e){s.setTimeout((()=>{throw e}),0)}function x(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new k),(e=>e.reset()));class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,T=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=s.Promise.resolve(void 0);E=()=>{e.then(P)}};var P=()=>{for(var e;e=x();){try{e.h.call(e.g)}catch(n){C(n)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function D(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}h(O,j);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function B(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}z.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=H(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new B(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,s){if(r&&r.once)return G(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.K(t,n,o(r)?!!r.capture:!!r,s):Q(e,t,n,!1,r,s)}function Q(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var a=o(s)?!!s.capture:!!s,l=$(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.L(t,n,o(r)?!!r.capture:!!r,s):Q(e,t,n,!0,r,s)}function X(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)X(e,t[i],n,r,s);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(i=e.g[t],n,r,s))&&(U(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=$(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,s)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$(t))?(V(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function J(e){return e in W?W[e]:W[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function $(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var s=t;w(t=new j(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=se(o,r,!0,t)&&s}if(s=se(o=t.g=e,r,!0,t)&&s,s=se(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(o=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&V(e.i,o),s=!1!==a.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function oe(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,D),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){X(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}h(le,D);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=s.JSON.stringify,de=s.JSON.parse,fe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){j.call(this,"d")}function _e(){j.call(this,"c")}h(ve,j),h(_e,j);var be={},we=null;function Ae(){return we=we||new ne}function Ce(e){j.call(this,be.La,e)}function xe(e){const t=Ae();re(t,new Ce(t))}function Se(e,t){j.call(this,be.STAT_EVENT,e),this.stat=t}function ke(e){const t=Ae();re(t,new Se(t,e))}function Ee(e,t){j.call(this,be.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<s.length;o++)s[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",h(Ce,j),be.STAT_EVENT="statevent",h(Se,j),be.Ma="timingevent",h(Ee,j),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Pe,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}h(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Pe=new Re;var Me={},Fe={};function Be(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var o=K(n,s[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?_(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xe(),function(e,t,n,r,s,i){e.info((function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function We(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Qe(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||$e(n.h,e)))if(!e.K&&$e(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Yt(n)}rn(n),ke(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Ze(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(We(a),He(a)),r.g=o}else nn(r);0<n.i.length&&Zt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Xt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}xe()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||xe(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var i=r.length,o=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qe(this),Ke(this);var a="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,ke(12),Qe(this),Ke(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==Fe){4==d&&(this.s=4,ke(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,ke(15),Ie(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,ke(11))}}else Ie(this.i,this.l,a,"[Invalid Chunked Response]"),Qe(this),Ke(this)}else Ie(this.i,this.l,a,null),Ge(this,a);4==d&&Qe(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=A(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),Qe(this),Ke(this)}}}catch(ts){}},Oe.prototype.cancel=function(){this.J=!0,Qe(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(xe(),ke(17)),Qe(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function $e(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,o=0;o<s;o++)t.call(void 0,r[o],n&&n[o],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new it(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(At(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,_t)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,_t=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function At(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ct(e,t){At(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xt(e,t){return At(e),t=kt(e,t),e.g.has(t)}function St(e,t,n){Ct(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),d(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function Tt(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let s=e;o(e)&&(s=he(e)),t.push(r+n+"="+encodeURIComponent(s))}))}catch(Mb){throw t.push(r+"type="+encodeURIComponent("_badmap")),Mb}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Dt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){At(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){At(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){At(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){At(this);let t=[];if("string"===typeof e)xt(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return At(this),this.i=null,xt(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var s=i;""!==o[r]&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")},h(It,pe),It.prototype.g=function(){return new Pt(this.l,this.j)},It.prototype.i=(mt={},function(){return mt}),h(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Rt(this),3==this.readyState&&Dt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Qa=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ne);var Ft=/^https?$/i,Bt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Ht(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var o=String(e.D).match(st)[1]||null;!o&&s.self&&s.self.location&&(o=s.self.location.protocol.slice(0,-1)),i=!Ft.test(o?o.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Mb){}}}function qt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ss){return null}}function Qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qt("baseRetryDelayMs",5e3,e),this.cb=Qt("retryDelaySeedMs",1e4,e),this.Wa=Qt("forwardChannelMaxRetries",2,e),this.wa=Qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Xt(e){if(Jt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}hn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Yt(e),e.u&&(s.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Zt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;E||I(),T||(E(),T=!0),N.add(t,e),e.B=0}}function $t(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Be(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let o=0;o<n;o++){let n=s[o].g;const a=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),i=!1;else try{Nt(a,e,"req"+n+"_")}catch(ts){r&&r(a)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;E||I(),T||(E(),T=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!$e(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=Ae(),new Ee(r,n)),Zt(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Ne;if(s.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),Et(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)})).catch((()=>{clearTimeout(r),Et(0,0,!1,t)}))}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),hn(e),Jt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof it?ot(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new it(null);r&&at(o,r),t&&(o.g=t),i&&lt(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new It({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _n(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){_e.call(this),this.status=1}function _n(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ut(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Bt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ut(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Zt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Oe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=_(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Ot(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Be(s,n,null)):Be(s,n,t),this.G=2}}else 3==this.G&&(e?$t(this,e):0==this.i.length||Je(this.h)||$t(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Yt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Xt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Xe(t.Ya++,e)),3==t.G&&Zt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,_e),h(_n,pn),_n.prototype.ua=function(){re(this.g,"a")},_n.prototype.ta=function(e){re(this.g,new yn(e))},_n.prototype.sa=function(e){re(this.g,new vn)},_n.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Zr=es.createWebChannelTransport=function(){return new mn},Jr=es.getStatEventTarget=function(){return Ae()},Yr=es.Event=be,Xr=es.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,Gr=es.ErrorCode=De,je.COMPLETE="complete",Qr=es.EventType=je,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Kr=es.WebChannel=ge,es.FetchXmlHttpFactory=It,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Wr=es.XhrIo=Mt}).apply("undefined"!==typeof $r?$r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ts="@firebase/firestore";class ns{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");let rs="10.14.0";const ss=new An("@firebase/firestore");function is(){return ss.logLevel}function os(e){if(ss.logLevel<=yn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(cs);ss.debug("Firestore (".concat(rs,"): ").concat(e),...s)}}function as(e){if(ss.logLevel<=yn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(cs);ss.error("Firestore (".concat(rs,"): ").concat(e),...s)}}function ls(e){if(ss.logLevel<=yn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(cs);ss.warn("Firestore (".concat(rs,"): ").concat(e),...s)}}function cs(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(rs,") INTERNAL ASSERTION FAILED: ")+e;throw as(t),new Error(t)}function hs(e,t){e||us()}function ds(e,t){return e}const fs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ps extends Gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ms{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class gs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ys{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ns.UNAUTHENTICATED)))}shutdown(){}}class vs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _s{constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){hs(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ms,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=s;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{os("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(os("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ms)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(os("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(hs("string"==typeof t.accessToken),new gs(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hs(null===e||"string"==typeof e),new ns(e)}}class bs{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ns.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ws{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new bs(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ns.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class As{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cs{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){hs(void 0===this.o);const n=e=>{null!=e.error&&os("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,os("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{os("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):os("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(hs("string"==typeof e.token),this.R=e.token,new As(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xs(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ss{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=xs(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function ks(e,t){return e<t?-1:e>t?1:0}function Es(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ts{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ps(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ps(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ps(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ps(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ts.fromMillis(Date.now())}static fromDate(e){return Ts.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ts(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ks(this.nanoseconds,e.nanoseconds):ks(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ns{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ns(e)}static min(){return new Ns(new Ts(0,0))}static max(){return new Ns(new Ts(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Is{constructor(e,t,n){void 0===t?t=0:t>e.length&&us(),void 0===n?n=e.length-t:n>e.length-t&&us(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Is.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Is?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ps extends Is{construct(e,t,n){return new Ps(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new ps(fs.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter((e=>e.length>0)))}return new Ps(e)}static emptyPath(){return new Ps([])}}const Ds=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class js extends Is{construct(e,t,n){return new js(e,t,n)}static isValidIdentifier(e){return Ds.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),js.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new js(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new ps(fs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ps(fs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ps(fs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new ps(fs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new js(t)}static emptyPath(){return new js([])}}class Rs{constructor(e){this.path=e}static fromPath(e){return new Rs(Ps.fromString(e))}static fromName(e){return new Rs(Ps.fromString(e).popFirst(5))}static empty(){return new Rs(Ps.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ps.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ps.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rs(new Ps(e.slice()))}}class Os{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Os.UNKNOWN_ID=-1;function Ls(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Ns.fromTimestamp(1e9===r?new Ts(n+1,0):new Ts(n,r));return new Fs(s,Rs.empty(),t)}function Ms(e){return new Fs(e.readTime,e.key,-1)}class Fs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Fs(Ns.min(),Rs.empty(),-1)}static max(){return new Fs(Ns.max(),Rs.empty(),-1)}}function Bs(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Rs.comparator(e.documentKey,t.documentKey),0!==n?n:ks(e.largestBatchId,t.largestBatchId))}const Us="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vs(e){if(e.code!==fs.FAILED_PRECONDITION||e.message!==Us)throw e;os("LocalStore","Unexpectedly lost primary lease")}class Hs{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&us(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Hs(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Hs?t:Hs.resolve(t)}catch(e){return Hs.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Hs.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Hs.reject(t)}static resolve(e){return new Hs(((t,n)=>{t(e)}))}static reject(e){return new Hs(((t,n)=>{n(e)}))}static waitFor(e){return new Hs(((t,n)=>{let r=0,s=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++s,i&&s===r&&t()}),(e=>n(e)))})),i=!0,s===r&&t()}))}static or(e){let t=Hs.resolve(!1);for(const n of e)t=t.next((e=>e?Hs.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Hs(((n,r)=>{const s=e.length,i=new Array(s);let o=0;for(let a=0;a<s;a++){const l=a;t(e[l]).next((e=>{i[l]=e,++o,o===s&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new Hs(((n,r)=>{const s=()=>{!0===e()?t().next((()=>{s()}),r):n()};s()}))}}function qs(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ws(e){return"IndexedDbTransactionError"===e.name}class Ks{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Qs(e){return null==e}function Gs(e){return 0===e&&1/e==-1/0}Ks.oe=-1;const Xs=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ys=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Js=Ys,Zs=[...Js,"indexConfiguration","indexState","indexEntries"];function $s(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ei(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ti(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ni{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new ni(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ri(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ri(this.root,e,this.comparator,!1)}getReverseIterator(){return new ri(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ri(this.root,e,this.comparator,!0)}}class ri{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:si.RED,this.left=null!=r?r:si.EMPTY,this.right=null!=s?s:si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new si(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return si.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw us();if(this.right.isRed())throw us();const e=this.left.check();if(e!==this.right.check())throw us();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw us()}get value(){throw us()}get color(){throw us()}get left(){throw us()}get right(){throw us()}copy(e,t,n,r,s){return this}insert(e,t,n){return new si(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ii{constructor(e){this.comparator=e,this.data=new ni(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oi(this.data.getIterator())}getIteratorFrom(e){return new oi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ii))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ii(this.comparator);return t.data=e,t}}class oi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(e){this.fields=e,e.sort(js.comparator)}static empty(){return new ai([])}unionWith(e){let t=new ii(js.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Es(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class li extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new li("Invalid base64 string: "+e):e}}(e);return new ci(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ks(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const ui=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(e){if(hs(!!e),"string"==typeof e){let t=0;const n=ui.exec(e);if(hs(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:di(e.seconds),nanos:di(e.nanos)}}function di(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fi(e){return"string"==typeof e?ci.fromBase64String(e):ci.fromUint8Array(e)}function pi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mi(e){const t=e.mapValue.fields.__previous_value__;return pi(t)?mi(t):t}function gi(e){const t=hi(e.mapValue.fields.__local_write_time__.timestampValue);return new Ts(t.seconds,t.nanos)}class yi{constructor(e,t,n,r,s,i,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class vi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vi&&e.projectId===this.projectId&&e.database===this.database}}const _i={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pi(e)?4:Oi(e)?9007199254740991:ji(e)?10:11:us()}function wi(e,t){if(e===t)return!0;const n=bi(e);if(n!==bi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gi(e).isEqual(gi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=hi(e.timestampValue),r=hi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fi(e.bytesValue).isEqual(fi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return di(e.geoPointValue.latitude)===di(t.geoPointValue.latitude)&&di(e.geoPointValue.longitude)===di(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return di(e.integerValue)===di(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=di(e.doubleValue),r=di(t.doubleValue);return n===r?Gs(n)===Gs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Es(e.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($s(n)!==$s(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!wi(n[s],r[s])))return!1;return!0}(e,t);default:return us()}}function Ai(e,t){return void 0!==(e.values||[]).find((e=>wi(e,t)))}function Ci(e,t){if(e===t)return 0;const n=bi(e),r=bi(t);if(n!==r)return ks(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ks(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=di(e.integerValue||e.doubleValue),r=di(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xi(e.timestampValue,t.timestampValue);case 4:return xi(gi(e),gi(t));case 5:return ks(e.stringValue,t.stringValue);case 6:return function(e,t){const n=fi(e),r=fi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=ks(n[s],r[s]);if(0!==e)return e}return ks(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ks(di(e.latitude),di(t.latitude));return 0!==n?n:ks(di(e.longitude),di(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Si(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=ks((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Si(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===_i.mapValue&&t===_i.mapValue)return 0;if(e===_i.mapValue)return 1;if(t===_i.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let o=0;o<r.length&&o<i.length;++o){const e=ks(r[o],i[o]);if(0!==e)return e;const t=Ci(n[r[o]],s[i[o]]);if(0!==t)return t}return ks(r.length,i.length)}(e.mapValue,t.mapValue);default:throw us()}}function xi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ks(e,t);const n=hi(e),r=hi(t),s=ks(n.seconds,r.seconds);return 0!==s?s:ks(n.nanos,r.nanos)}function Si(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Ci(n[s],r[s]);if(e)return e}return ks(n.length,r.length)}function ki(e){return Ei(e)}function Ei(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=hi(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return fi(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Rs.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ei(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(Ei(e.fields[s]));return n+"}"}(e.mapValue):us()}function Ti(e){return!!e&&"integerValue"in e}function Ni(e){return!!e&&"arrayValue"in e}function Ii(e){return!!e&&"nullValue"in e}function Pi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Di(e){return!!e&&"mapValue"in e}function ji(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ri(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ei(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ri(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ri(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Oi(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Di(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ri(t)}setAll(e){let t=js.emptyPath(),n={},r=[];e.forEach(((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Ri(e):r.push(s.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Di(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Di(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ei(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Li(Ri(this.value))}}class Mi{constructor(e,t,n,r,s,i,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=o}static newInvalidDocument(e){return new Mi(e,0,Ns.min(),Ns.min(),Ns.min(),Li.empty(),0)}static newFoundDocument(e,t,n,r){return new Mi(e,1,t,Ns.min(),n,r,0)}static newNoDocument(e,t){return new Mi(e,2,t,Ns.min(),Ns.min(),Li.empty(),0)}static newUnknownDocument(e,t){return new Mi(e,3,t,Ns.min(),Ns.min(),Li.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ns.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ns.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Fi{constructor(e,t){this.position=e,this.inclusive=t}}function Bi(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(r=i.field.isKeyField()?Rs.comparator(Rs.fromName(o.referenceValue),n.key):Ci(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Ui(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wi(e.position[n],t.position[n]))return!1;return!0}class zi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Vi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Hi{}class qi extends Hi{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Zi(e,t,n):"array-contains"===t?new no(e,n):"in"===t?new ro(e,n):"not-in"===t?new so(e,n):"array-contains-any"===t?new io(e,n):new qi(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new $i(e,n):new eo(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ci(t,this.value)):null!==t&&bi(this.value)===bi(t)&&this.matchesComparison(Ci(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return us()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends Hi{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Wi(e,t)}matches(e){return Ki(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ki(e){return"and"===e.op}function Qi(e){return Gi(e)&&Ki(e)}function Gi(e){for(const t of e.filters)if(t instanceof Wi)return!1;return!0}function Xi(e){if(e instanceof qi)return e.field.canonicalString()+e.op.toString()+ki(e.value);if(Qi(e))return e.filters.map((e=>Xi(e))).join(",");{const t=e.filters.map((e=>Xi(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Yi(e,t){return e instanceof qi?function(e,t){return t instanceof qi&&e.op===t.op&&e.field.isEqual(t.field)&&wi(e.value,t.value)}(e,t):e instanceof Wi?function(e,t){return t instanceof Wi&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Yi(n,t.filters[r])),!0)}(e,t):void us()}function Ji(e){return e instanceof qi?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ki(e.value))}(e):e instanceof Wi?function(e){return e.op.toString()+" {"+e.getFilters().map(Ji).join(" ,")+"}"}(e):"Filter"}class Zi extends qi{constructor(e,t,n){super(e,t,n),this.key=Rs.fromName(n.referenceValue)}matches(e){const t=Rs.comparator(e.key,this.key);return this.matchesComparison(t)}}class $i extends qi{constructor(e,t){super(e,"in",t),this.keys=to("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class eo extends qi{constructor(e,t){super(e,"not-in",t),this.keys=to("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function to(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Rs.fromName(e.referenceValue)))}class no extends qi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ni(t)&&Ai(t.arrayValue,this.value)}}class ro extends qi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ai(this.value.arrayValue,t)}}class so extends qi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ai(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ai(this.value.arrayValue,t)}}class io extends qi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ni(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ai(this.value.arrayValue,e)))}}class oo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=o,this.ue=null}}function ao(e){return new oo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function lo(e){const t=ds(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Xi(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Qs(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ki(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ki(e))).join(",")),t.ue=e}return t.ue}function co(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Vi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Yi(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ui(e.startAt,t.startAt)&&Ui(e.endAt,t.endAt)}function uo(e){return Rs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ho{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fo(e,t,n,r,s,i,o,a){return new ho(e,t,n,r,s,i,o,a)}function po(e){return new ho(e)}function mo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function go(e){return null!==e.collectionGroup}function yo(e){const t=ds(e);if(null===t.ce){t.ce=[];const e=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ii(js.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new zi(r,n))})),e.has(js.keyField().canonicalString())||t.ce.push(new zi(js.keyField(),n))}return t.ce}function vo(e){const t=ds(e);return t.le||(t.le=_o(t,yo(e))),t.le}function _o(e,t){if("F"===e.limitType)return ao(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new zi(e.field,t)}));const n=e.endAt?new Fi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Fi(e.startAt.position,e.startAt.inclusive):null;return ao(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function bo(e,t,n){return new ho(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wo(e,t){return co(vo(e),vo(t))&&e.limitType===t.limitType}function Ao(e){return"".concat(lo(vo(e)),"|lt:").concat(e.limitType)}function Co(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ji(e))).join(", "),"]")),Qs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ki(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ki(e))).join(",")),"Target(".concat(t,")")}(vo(e)),"; limitType=").concat(e.limitType,")")}function xo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Rs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of yo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Bi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yo(e),t))&&!(e.endAt&&!function(e,t,n){const r=Bi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yo(e),t))}(e,t)}function So(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ko(e){return(t,n)=>{let r=!1;for(const s of yo(e)){const e=Eo(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Eo(e,t,n){const r=e.field.isKeyField()?Rs.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Ci(r,s):us()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return us()}}class To{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ei(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return ti(this.inner)}size(){return this.innerSize}}const No=new ni(Rs.comparator);function Io(){return No}const Po=new ni(Rs.comparator);function Do(){let e=Po;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function jo(e){let t=Po;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ro(){return Lo()}function Oo(){return Lo()}function Lo(){return new To((e=>e.toString()),((e,t)=>e.isEqual(t)))}new ni(Rs.comparator);const Mo=new ii(Rs.comparator);function Fo(){let e=Mo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const Bo=new ii(ks);function Uo(){return Bo}function zo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gs(t)?"-0":t}}function Vo(e){return{integerValue:""+e}}class Ho{constructor(){this._=void 0}}function qo(e,t,n){return e instanceof Qo?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&pi(t)&&(t=mi(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Go?Xo(e,t):e instanceof Yo?Jo(e,t):function(e,t){const n=Ko(e,t),r=$o(n)+$o(e.Pe);return Ti(n)&&Ti(e.Pe)?Vo(r):zo(e.serializer,r)}(e,t)}function Wo(e,t,n){return e instanceof Go?Xo(e,t):e instanceof Yo?Jo(e,t):n}function Ko(e,t){return e instanceof Zo?function(e){return Ti(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Qo extends Ho{}class Go extends Ho{constructor(e){super(),this.elements=e}}function Xo(e,t){const n=ea(t);for(const r of e.elements)n.some((e=>wi(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Yo extends Ho{constructor(e){super(),this.elements=e}}function Jo(e,t){let n=ea(t);for(const r of e.elements)n=n.filter((e=>!wi(e,r)));return{arrayValue:{values:n}}}class Zo extends Ho{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function $o(e){return di(e.integerValue||e.doubleValue)}function ea(e){return Ni(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ta{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ta}static exists(e){return new ta(void 0,e)}static updateTime(e){return new ta(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function na(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ra{}function sa(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new fa(e.key,ta.none()):new la(e.key,e.data,ta.none());{const n=e.data,r=Li.empty();let s=new ii(js.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new ca(e.key,r,new ai(s.toArray()),ta.none())}}function ia(e,t,n){e instanceof la?function(e,t,n){const r=e.value.clone(),s=ha(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ca?function(e,t,n){if(!na(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ha(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(ua(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function oa(e,t,n,r){return e instanceof la?function(e,t,n,r){if(!na(e.precondition,t))return n;const s=e.value.clone(),i=da(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof ca?function(e,t,n,r){if(!na(e.precondition,t))return n;const s=da(e.fieldTransforms,r,t),i=t.data;return i.setAll(ua(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return na(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function aa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Es(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Go&&t instanceof Go||e instanceof Yo&&t instanceof Yo?Es(e.elements,t.elements,wi):e instanceof Zo&&t instanceof Zo?wi(e.Pe,t.Pe):e instanceof Qo&&t instanceof Qo}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class la extends ra{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ca extends ra{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ua(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ha(e,t,n){const r=new Map;hs(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,Wo(o,a,n[s]))}return r}function da(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,qo(e,i,t))}return r}class fa extends ra{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pa{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ia(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=oa(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=oa(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Oo();return this.mutations.forEach((r=>{const s=e.get(r.key),i=s.overlayedDocument;let o=this.applyToLocalView(i,s.mutatedFields);o=t.has(r.key)?null:o;const a=sa(i,o);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(Ns.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fo())}isEqual(e){return this.batchId===e.batchId&&Es(this.mutations,e.mutations,((e,t)=>aa(e,t)))&&Es(this.baseMutations,e.baseMutations,((e,t)=>aa(e,t)))}}class ma{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ga{constructor(e,t){this.count=e,this.unchangedNames=t}}var ya,va;function _a(e){if(void 0===e)return as("GRPC error has no .code"),fs.UNKNOWN;switch(e){case ya.OK:return fs.OK;case ya.CANCELLED:return fs.CANCELLED;case ya.UNKNOWN:return fs.UNKNOWN;case ya.DEADLINE_EXCEEDED:return fs.DEADLINE_EXCEEDED;case ya.RESOURCE_EXHAUSTED:return fs.RESOURCE_EXHAUSTED;case ya.INTERNAL:return fs.INTERNAL;case ya.UNAVAILABLE:return fs.UNAVAILABLE;case ya.UNAUTHENTICATED:return fs.UNAUTHENTICATED;case ya.INVALID_ARGUMENT:return fs.INVALID_ARGUMENT;case ya.NOT_FOUND:return fs.NOT_FOUND;case ya.ALREADY_EXISTS:return fs.ALREADY_EXISTS;case ya.PERMISSION_DENIED:return fs.PERMISSION_DENIED;case ya.FAILED_PRECONDITION:return fs.FAILED_PRECONDITION;case ya.ABORTED:return fs.ABORTED;case ya.OUT_OF_RANGE:return fs.OUT_OF_RANGE;case ya.UNIMPLEMENTED:return fs.UNIMPLEMENTED;case ya.DATA_LOSS:return fs.DATA_LOSS;default:return us()}}(va=ya||(ya={}))[va.OK=0]="OK",va[va.CANCELLED=1]="CANCELLED",va[va.UNKNOWN=2]="UNKNOWN",va[va.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",va[va.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",va[va.NOT_FOUND=5]="NOT_FOUND",va[va.ALREADY_EXISTS=6]="ALREADY_EXISTS",va[va.PERMISSION_DENIED=7]="PERMISSION_DENIED",va[va.UNAUTHENTICATED=16]="UNAUTHENTICATED",va[va.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",va[va.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",va[va.ABORTED=10]="ABORTED",va[va.OUT_OF_RANGE=11]="OUT_OF_RANGE",va[va.UNIMPLEMENTED=12]="UNIMPLEMENTED",va[va.INTERNAL=13]="INTERNAL",va[va.UNAVAILABLE=14]="UNAVAILABLE",va[va.DATA_LOSS=15]="DATA_LOSS";let ba=null;function wa(){return new TextEncoder}const Aa=new zr([4294967295,4294967295],0);function Ca(e){const t=wa().encode(e),n=new Vr;return n.update(t),new Uint8Array(n.digest())}function xa(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new zr([n,r],0),new zr([s,i],0)]}class Sa{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ka("Invalid padding: ".concat(t));if(n<0)throw new ka("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ka("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ka("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=zr.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(zr.fromNumber(n)));return 1===r.compare(Aa)&&(r=new zr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Ca(e),[n,r]=xa(t);for(let s=0;s<this.hashCount;s++){const e=this.Ee(n,r,s);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new Sa(s,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.Ie)return;const t=Ca(e),[n,r]=xa(t);for(let s=0;s<this.hashCount;s++){const e=this.Ee(n,r,s);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ea{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ta.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ea(Ns.min(),r,new ni(ks),Io(),Fo())}}class Ta{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ta(n,t,Fo(),Fo(),Fo())}}class Na{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Ia{constructor(e,t){this.targetId=e,this.me=t}}class Pa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ci.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Da{constructor(){this.fe=0,this.ge=Oa(),this.pe=ci.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fo(),t=Fo(),n=Fo();return this.ge.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:us()}})),new Ta(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Oa()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,hs(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ja{constructor(e){this.Le=e,this.Be=new Map,this.ke=Io(),this.qe=Ra(),this.Qe=new ni(ks)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:us()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const s=r.target;if(uo(s))if(0===n){const e=new Rs(s.path);this.Ue(t,e,Mi.newNoDocument(e,Ns.min()))}else hs(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),s=n?this.Xe(n,e,r):1;if(0!==s){this.je(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==ba||ba.et(function(e,t,n,r,s){var i,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===s,hashCount:null!==(i=null==d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,s))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,o;try{i=fi(n).toUint8Array()}catch(e){if(e instanceof li)return ls("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Sa(i,r,s)}catch(e){return ls(e instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const s=this.Le.tt(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const s=this.Je(r);if(s){if(n.current&&uo(s.target)){const t=new Rs(s.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Mi.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Fo();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Ea(e,t,this.Qe,this.ke,n);return this.ke=Io(),this.qe=Ra(),this.Qe=new ni(ks),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Da,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ii(ks),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||os("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Da),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ra(){return new ni(Rs.comparator)}function Oa(){return new ni(Rs.comparator)}const La={asc:"ASCENDING",desc:"DESCENDING"},Ma={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fa={and:"AND",or:"OR"};class Ba{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ua(e,t){return e.useProto3Json||Qs(t)?t:{value:t}}function za(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Va(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ha(e){return hs(!!e),Ns.fromTimestamp(function(e){const t=hi(e);return new Ts(t.seconds,t.nanos)}(e))}function qa(e,t){return Wa(e,t).canonicalString()}function Wa(e,t){const n=function(e){return new Ps(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ka(e){const t=Ps.fromString(e);return hs(ll(t)),t}function Qa(e,t){const n=Ka(t);if(n.get(1)!==e.databaseId.projectId)throw new ps(fs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ps(fs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rs(Ja(n))}function Ga(e,t){return qa(e.databaseId,t)}function Xa(e){const t=Ka(e);return 4===t.length?Ps.emptyPath():Ja(t)}function Ya(e){return new Ps(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ja(e){return hs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Za(e,t){return{documents:[Ga(e,t.path)]}}function $a(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ga(e,s);const i=function(e){if(0!==e.length)return al(Wi.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:il(e.field),direction:nl(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ua(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:s}}function el(e){let t=Xa(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){hs(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=tl(e);return t instanceof Wi&&Qi(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new zi(ol(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Qs(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Fi(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Fi(n,t)}(n.endAt)),fo(t,s,o,i,a,"F",l,c)}function tl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ol(e.unaryFilter.field);return qi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ol(e.unaryFilter.field);return qi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ol(e.unaryFilter.field);return qi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ol(e.unaryFilter.field);return qi.create(s,"!=",{nullValue:"NULL_VALUE"});default:return us()}}(e):void 0!==e.fieldFilter?function(e){return qi.create(ol(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return us()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Wi.create(e.compositeFilter.filters.map((e=>tl(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return us()}}(e.compositeFilter.op))}(e):us()}function nl(e){return La[e]}function rl(e){return Ma[e]}function sl(e){return Fa[e]}function il(e){return{fieldPath:e.canonicalString()}}function ol(e){return js.fromServerFormat(e.fieldPath)}function al(e){return e instanceof qi?function(e){if("=="===e.op){if(Pi(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NAN"}};if(Ii(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pi(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NOT_NAN"}};if(Ii(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(e.field),op:rl(e.op),value:e.value}}}(e):e instanceof Wi?function(e){const t=e.getFilters().map((e=>al(e)));return 1===t.length?t[0]:{compositeFilter:{op:sl(e.op),filters:t}}}(e):us()}function ll(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class cl{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ns.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ns.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ci.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ul{constructor(e){this.ct=e}}function hl(e){const t=el({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bo(t,t.limit,"L"):t}class dl{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(di(e.integerValue));else if("doubleValue"in e){const n=di(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Gs(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=hi(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(fi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Oi(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ji(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):us()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const s=e.fields||{};this.dt(t,53);const i="value",o=(null===(r=null===(n=s[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(di(o)),this.Vt(i,t),this.Tt(s[i],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Rs.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}dl.vt=new dl;class fl{constructor(){this.un=new pl}addToCollectionParentIndex(e,t){return this.un.add(t),Hs.resolve()}getCollectionParents(e,t){return Hs.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Hs.resolve()}deleteFieldIndex(e,t){return Hs.resolve()}deleteAllFieldIndexes(e){return Hs.resolve()}createTargetIndexes(e,t){return Hs.resolve()}getDocumentsMatchingTarget(e,t){return Hs.resolve(null)}getIndexType(e,t){return Hs.resolve(0)}getFieldIndexes(e,t){return Hs.resolve([])}getNextCollectionGroupToUpdate(e){return Hs.resolve(null)}getMinOffset(e,t){return Hs.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return Hs.resolve(Fs.min())}updateCollectionGroup(e,t,n){return Hs.resolve()}updateIndexEntries(e,t){return Hs.resolve()}}class pl{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ii(Ps.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ii(Ps.comparator)).toArray()}}new Uint8Array(0);class ml{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ml(e,ml.DEFAULT_COLLECTION_PERCENTILE,ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ml.DEFAULT_COLLECTION_PERCENTILE=10,ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ml.DEFAULT=new ml(41943040,ml.DEFAULT_COLLECTION_PERCENTILE,ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ml.DISABLED=new ml(-1,0,0);class gl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new gl(0)}static kn(){return new gl(-1)}}class yl{constructor(){this.changes=new To((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Hs.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _l{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&oa(n.mutation,e,ai.empty(),Ts.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Fo()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fo();const r=Ro();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Do();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ro();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Fo())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let s=Io();const i=Lo(),o=Lo();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ca)?s=s.insert(t.key,t):void 0!==o?(i.set(t.key,o.mutation.getFieldMask()),oa(o.mutation,t,o.mutation.getFieldMask(),Ts.now())):i.set(t.key,ai.empty())})),this.recalculateAndSaveOverlays(e,s).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new vl(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Lo();let r=new ni(((e,t)=>e-t)),s=Fo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const s of e)s.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let o=n.get(e)||ai.empty();o=s.applyToLocalView(i,o),n.set(e,o);const a=(r.get(s.batchId)||Fo()).add(e);r=r.insert(s.batchId,a)}))})).next((()=>{const i=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Oo();l.forEach((e=>{if(!s.has(e)){const r=sa(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Hs.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Rs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):go(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Hs.resolve(Ro());let o=-1,a=s;return i.next((t=>Hs.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),s.get(t)?Hs.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,s))).next((()=>this.computeViews(e,a,t,Fo()))).next((e=>({batchId:o,changes:jo(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rs(t)).next((e=>{let t=Do();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=Do();return this.indexManager.getCollectionParents(e,s).next((o=>Hs.forEach(o,(o=>{const a=function(e,t){return new ho(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(s));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r)))).next((e=>{s.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Mi.newInvalidDocument(r)))}));let n=Do();return e.forEach(((e,r)=>{const i=s.get(e);void 0!==i&&oa(i.mutation,r,ai.empty(),Ts.now()),xo(t,r)&&(n=n.insert(e,r))})),n}))}}class bl{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Hs.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ha(e.createTime)}}(t)),Hs.resolve()}getNamedQuery(e,t){return Hs.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:hl(e.bundledQuery),readTime:Ha(e.readTime)}}(t)),Hs.resolve()}}class wl{constructor(){this.overlays=new ni(Rs.comparator),this.Ir=new Map}getOverlay(e,t){return Hs.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ro();return Hs.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Hs.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),Hs.resolve()}getOverlaysForCollection(e,t,n){const r=Ro(),s=t.length+1,i=new Rs(t.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const e=o.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Hs.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new ni(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Ro(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Ro(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Hs.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ma(t,n));let s=this.Ir.get(t);void 0===s&&(s=Fo(),this.Ir.set(t,s)),this.Ir.set(t,s.add(n.key))}}class Al{constructor(){this.sessionToken=ci.EMPTY_BYTE_STRING}getSessionToken(e){return Hs.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Hs.resolve()}}class Cl{constructor(){this.Tr=new ii(xl.Er),this.dr=new ii(xl.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new xl(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new xl(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Rs(new Ps([])),n=new xl(t,e),r=new xl(t,e+1),s=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),s.push(e.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Rs(new Ps([])),n=new xl(t,e),r=new xl(t,e+1);let s=Fo();return this.dr.forEachInRange([n,r],(e=>{s=s.add(e.key)})),s}containsKey(e){const t=new xl(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class xl{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Rs.comparator(e.key,t.key)||ks(e.wr,t.wr)}static Ar(e,t){return ks(e.wr,t.wr)||Rs.comparator(e.key,t.key)}}class Sl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ii(xl.Er)}checkEmpty(e){return Hs.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new pa(s,t,n,r);this.mutationQueue.push(i);for(const o of r)this.br=this.br.add(new xl(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Hs.resolve(i)}lookupMutationBatch(e,t){return Hs.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),s=r<0?0:r;return Hs.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Hs.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Hs.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new xl(t,0),r=new xl(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);s.push(t)})),Hs.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ii(ks);return t.forEach((e=>{const t=new xl(e,0),r=new xl(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),Hs.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Rs.isDocumentKey(s)||(s=s.child(""));const i=new xl(new Rs(s),0);let o=new ii(ks);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),i),Hs.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){hs(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Hs.forEach(t.mutations,(r=>{const s=new xl(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new xl(t,0),r=this.br.firstAfterOrEqual(n);return Hs.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Hs.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kl{constructor(e){this.Mr=e,this.docs=new ni(Rs.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Hs.resolve(n?n.document.mutableCopy():Mi.newInvalidDocument(t))}getEntries(e,t){let n=Io();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Mi.newInvalidDocument(e))})),Hs.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Io();const i=t.path,o=new Rs(i.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Bs(Ms(o),n)<=0||(r.has(o.key)||xo(t,o))&&(s=s.insert(o.key,o.mutableCopy()))}return Hs.resolve(s)}getAllFromCollectionGroup(e,t,n,r){us()}Or(e,t){return Hs.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new El(this)}getSize(e){return Hs.resolve(this.size)}}class El extends yl{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),Hs.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Tl{constructor(e){this.persistence=e,this.Nr=new To((e=>lo(e)),co),this.lastRemoteSnapshotVersion=Ns.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cl,this.targetCount=0,this.kr=gl.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),Hs.resolve()}getLastRemoteSnapshotVersion(e){return Hs.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Hs.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Hs.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Hs.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new gl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Hs.resolve()}updateTargetData(e,t){return this.Kn(t),Hs.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Hs.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.Nr.forEach(((i,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(i),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Hs.waitFor(s).next((()=>r))}getTargetCount(e){return Hs.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Hs.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Hs.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((t=>{s.push(r.markPotentiallyOrphaned(e,t))})),Hs.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Hs.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Hs.resolve(n)}containsKey(e,t){return Hs.resolve(this.Br.containsKey(t))}}class Nl{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ks(0),this.Kr=!1,this.Kr=!0,this.$r=new Al,this.referenceDelegate=e(this),this.Ur=new Tl(this),this.indexManager=new fl,this.remoteDocumentCache=function(e){return new kl(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new ul(t),this.Gr=new bl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Sl(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){os("MemoryPersistence","Starting transaction:",e);const r=new Il(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return Hs.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class Il extends zs{constructor(e){super(),this.currentSequenceNumber=e}}class Pl{constructor(e){this.persistence=e,this.Jr=new Cl,this.Yr=null}static Zr(e){return new Pl(e)}get Xr(){if(this.Yr)return this.Yr;throw us()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Hs.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Hs.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Hs.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hs.forEach(this.Xr,(n=>{const r=Rs.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Ns.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Hs.or([()=>Hs.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Dl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Fo(),r=Fo();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Dl(e,t.fromCache,n,r)}}class jl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Rl{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Wt()?8:qs(Vt())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.Yi(e,t).next((e=>{s.result=e})).next((()=>{if(!s.result)return this.Zi(e,t,r,n).next((e=>{s.result=e}))})).next((()=>{if(s.result)return;const n=new jl;return this.Xi(e,t,n).next((r=>{if(s.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>s.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(is()<=yn.DEBUG&&os("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Hs.resolve()):(is()<=yn.DEBUG&&os("QueryEngine","Query:",Co(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(is()<=yn.DEBUG&&os("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vo(t))):Hs.resolve())}Yi(e,t){if(mo(t))return Hs.resolve(null);let n=vo(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=bo(t,null,"F"),n=vo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const s=Fo(...r);return this.Ji.getDocuments(e,s).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.ts(t,r);return this.ns(t,i,s,n.readTime)?this.Yi(e,bo(t,null,"F")):this.rs(e,i,t,n)}))))})))))}Zi(e,t,n,r){return mo(t)||r.isEqual(Ns.min())?Hs.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const i=this.ts(t,s);return this.ns(t,i,n,r)?Hs.resolve(null):(is()<=yn.DEBUG&&os("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Co(t)),this.rs(e,i,t,Ls(r,-1)).next((e=>e)))}))}ts(e,t){let n=new ii(ko(e));return t.forEach(((t,r)=>{xo(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,n){return is()<=yn.DEBUG&&os("QueryEngine","Using full collection scan to execute query:",Co(t)),this.Ji.getDocumentsMatchingQuery(e,t,Fs.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ol{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ni(ks),this._s=new To((e=>lo(e)),co),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _l(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function Ll(e,t,n,r){return new Ol(e,t,n,r)}async function Ml(e,t){const n=ds(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((s=>(r=s,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const s=[],i=[];let o=Fo();for(const e of r){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({hs:e,removedBatchIds:s,addedBatchIds:i})))}))}))}function Fl(e){const t=ds(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function Bl(e,t,n){let r=Fo(),s=Fo();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Io();return n.forEach(((n,i)=>{const o=e.get(n);i.isFoundDocument()!==o.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Ns.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!o.isValidDocument()||i.version.compareTo(o.version)>0||0===i.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):os("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",i.version)})),{Ps:r,Is:s}}))}function Ul(e,t){const n=ds(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((s=>s?(r=s,Hs.resolve(r)):n.Ur.allocateTargetId(e).next((s=>(r=new cl(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function zl(e,t,n){const r=ds(e),s=r.os.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,s)))}catch(e){if(!Ws(e))throw e;os("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(s.target)}function Vl(e,t,n){const r=ds(e);let s=Ns.min(),i=Fo();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ds(e),s=r._s.get(n);return void 0!==s?Hs.resolve(r.os.get(s)):r.Ur.getTargetData(t,n)}(r,e,vo(t)).next((t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?s:Ns.min(),n?i:Fo()))).next((e=>(Hl(r,So(t),e),{documents:e,Ts:i})))))}function Hl(e,t,n){let r=e.us.get(t)||Ns.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class ql{constructor(){this.activeTargetIds=Uo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wl{constructor(){this.so=new ql,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ql,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kl{_o(e){}shutdown(){}}class Ql{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){os("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){os("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gl=null;function Xl(){return null===Gl?Gl=268435456+Math.round(2147483648*Math.random()):Gl++,"0x"+Gl.toString(16)}const Yl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jl{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Zl="WebChannelConnection";class $l extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,s){const i=Xl(),o=this.xo(e,t.toUriEncodedString());os("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),o,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,s),this.No(e,o,a,n).then((t=>(os("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw ls("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",o,"request:",n),t}))}Lo(e,t,n,r,s,i){return this.Mo(e,t,n,r,s)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=Yl[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const s=Xl();return new Promise(((i,o)=>{const a=new Wr;a.setWithCredentials(!0),a.listenOnce(Qr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Gr.NO_ERROR:const t=a.getResponseJson();os(Zl,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(t)),i(t);break;case Gr.TIMEOUT:os(Zl,"RPC '".concat(e,"' ").concat(s," timed out")),o(new ps(fs.DEADLINE_EXCEEDED,"Request time out"));break;case Gr.HTTP_ERROR:const n=a.getStatus();if(os(Zl,"RPC '".concat(e,"' ").concat(s," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(fs).indexOf(t)>=0?t:fs.UNKNOWN}(t.status);o(new ps(e,t.message))}else o(new ps(fs.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ps(fs.UNAVAILABLE,"Connection failed."));break;default:us()}}finally{os(Zl,"RPC '".concat(e,"' ").concat(s," completed."))}}));const l=JSON.stringify(r);os(Zl,"RPC '".concat(e,"' ").concat(s," sending request:"),r),a.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=Xl(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Zr(),o=Jr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=s.join("");os(Zl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=i.createWebChannel(c,a);let h=!1,d=!1;const f=new Jl({Io:t=>{d?os(Zl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(os(Zl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),os(Zl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Kr.EventType.OPEN,(()=>{d||(os(Zl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())})),p(u,Kr.EventType.CLOSE,(()=>{d||(d=!0,os(Zl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())})),p(u,Kr.EventType.ERROR,(t=>{d||(d=!0,ls(Zl,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new ps(fs.UNAVAILABLE,"The operation could not be completed")))})),p(u,Kr.EventType.MESSAGE,(t=>{var n;if(!d){const s=t.data[0];hs(!!s);const i=s,o=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(o){os(Zl,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=ya[e];if(void 0!==t)return _a(t)}(t),s=o.message;void 0===n&&(n=fs.INTERNAL,s="Unknown error status: "+t+" with message "+o.message),d=!0,f.So(new ps(n,s)),u.close()}else os(Zl,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f.bo(s)}})),p(o,Yr.STAT_EVENT,(t=>{t.stat===Xr.PROXY?os(Zl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xr.NOPROXY&&os(Zl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.wo()}),0),f}}function ec(){return"undefined"!=typeof document?document:null}function tc(e){return new Ba(e,!0)}class nc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&os("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class rc{constructor(e,t,n,r,s,i,o,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nc(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===fs.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===fs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new ps(fs.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return os("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(os("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sc extends rc{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:us()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(hs(void 0===t||"string"==typeof t),ci.fromBase64String(t||"")):(hs(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ci.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?fs.UNKNOWN:_a(e.code);return new ps(t,e.message||"")}(o);n=new Pa(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Qa(e,r.document.name),i=Ha(r.document.updateTime),o=r.document.createTime?Ha(r.document.createTime):Ns.min(),a=new Li({mapValue:{fields:r.document.fields}}),l=Mi.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Na(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Qa(e,r.document),i=r.readTime?Ha(r.readTime):Ns.min(),o=Mi.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Na([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Qa(e,r.document),i=r.removedTargetIds||[];n=new Na([],i,s,null)}else{if(!("filter"in t))return us();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new ga(r,s),o=e.targetId;n=new Ia(o,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ns.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ns.min():t.readTime?Ha(t.readTime):Ns.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Ya(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=uo(r)?{documents:Za(e,r)}:{query:$a(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Va(e,t.resumeToken);const r=Ua(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ns.min())>0){n.readTime=za(e,t.snapshotVersion.toTimestamp());const r=Ua(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return us()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Ya(this.serializer),t.removeTarget=e,this.a_(t)}}class ic extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ps(fs.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[i,o]=s;return this.connection.Mo(e,Wa(t,n),r,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ps(fs.UNKNOWN,e.toString())}))}Lo(e,t,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Lo(e,Wa(t,n),r,o,a,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ps(fs.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class oc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(as(t),this.D_=!1):os("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class ac{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((e=>{n.enqueueAndForget((async()=>{gc(this)&&(os("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ds(e);t.L_.add(4),await cc(t),t.q_.set("Unknown"),t.L_.delete(4),await lc(t)}(this))}))})),this.q_=new oc(n,r)}}async function lc(e){if(gc(e))for(const t of e.B_)await t(!0)}async function cc(e){for(const t of e.B_)await t(!1)}function uc(e,t){const n=ds(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),mc(n)?pc(n):Sc(n).r_()&&dc(n,t))}function hc(e,t){const n=ds(e),r=Sc(n);n.N_.delete(t),r.r_()&&fc(n,t),0===n.N_.size&&(r.r_()?r.o_():gc(n)&&n.q_.set("Unknown"))}function dc(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ns.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sc(e).A_(t)}function fc(e,t){e.Q_.xe(t),Sc(e).R_(t)}function pc(e){e.Q_=new ja({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Sc(e).start(),e.q_.v_()}function mc(e){return gc(e)&&!Sc(e).n_()&&e.N_.size>0}function gc(e){return 0===ds(e).L_.size}function yc(e){e.Q_=void 0}async function vc(e){e.q_.set("Online")}async function _c(e){e.N_.forEach(((t,n)=>{dc(e,t)}))}async function bc(e,t){yc(e),mc(e)?(e.q_.M_(t),pc(e)):e.q_.set("Unknown")}async function wc(e,t,n){if(e.q_.set("Online"),t instanceof Pa&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){os("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ac(e,n)}else if(t instanceof Na?e.Q_.Ke(t):t instanceof Ia?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Ns.min()))try{const t=await Fl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.N_.get(r);s&&e.N_.set(r,s.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(ci.EMPTY_BYTE_STRING,r.snapshotVersion)),fc(e,t);const s=new cl(r.target,t,n,r.sequenceNumber);dc(e,s)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){os("RemoteStore","Failed to raise snapshot:",t),await Ac(e,t)}}async function Ac(e,t,n){if(!Ws(t))throw t;e.L_.add(1),await cc(e),e.q_.set("Offline"),n||(n=()=>Fl(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{os("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await lc(e)}))}async function Cc(e,t){const n=ds(e);n.asyncQueue.verifyOperationInProgress(),os("RemoteStore","RemoteStore received new credentials");const r=gc(n);n.L_.add(3),await cc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await lc(n)}async function xc(e,t){const n=ds(e);t?(n.L_.delete(2),await lc(n)):t||(n.L_.add(2),await cc(n),n.q_.set("Unknown"))}function Sc(e){return e.K_||(e.K_=function(e,t,n){const r=ds(e);return r.w_(),new sc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:vc.bind(null,e),Ro:_c.bind(null,e),mo:bc.bind(null,e),d_:wc.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),mc(e)?pc(e):e.q_.set("Unknown")):(await e.K_.stop(),yc(e))}))),e.K_}class kc{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,o=new kc(e,t,i,r,s);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ps(fs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ec(e,t){if(as("AsyncQueue","".concat(t,": ").concat(e)),Ws(e))return new ps(fs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Tc{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Rs.comparator(t.key,n.key):(e,t)=>Rs.comparator(e.key,t.key),this.keyedMap=Do(),this.sortedSet=new ni(this.comparator)}static emptySet(e){return new Tc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Tc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Nc{constructor(){this.W_=new ni(Rs.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):us():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ic{constructor(e,t,n,r,s,i,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Ic(e,t,Tc.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Pc{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Dc{constructor(){this.queries=jc(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=ds(e),r=n.queries;n.queries=jc(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new ps(fs.ABORTED,"Firestore shutting down"))}}function jc(){return new To((e=>Ao(e)),wo)}async function Rc(e,t){const n=ds(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.H_()&&t.J_()&&(r=2):(i=new Pc,r=t.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=Ec(e,"Initialization of query '".concat(Co(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,i),i.j_.push(t),t.Z_(n.onlineState),i.z_&&t.X_(i.z_)&&Fc(n)}async function Oc(e,t){const n=ds(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.j_.indexOf(t);e>=0&&(i.j_.splice(e,1),0===i.j_.length?s=t.J_()?0:1:!i.H_()&&t.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lc(e,t){const n=ds(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(s)&&(r=!0);t.z_=s}}r&&Fc(n)}function Mc(e,t,n){const r=ds(e),s=r.queries.get(t);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(t)}function Fc(e){e.Y_.forEach((e=>{e.next()}))}var Bc,Uc;(Uc=Bc||(Bc={})).ea="default",Uc.Cache="cache";class zc{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ic(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Bc.Cache}}class Vc{constructor(e){this.key=e}}class Hc{constructor(e){this.key=e}}class qc{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fo(),this.mutatedKeys=Fo(),this.Aa=ko(e),this.Ra=new Tc(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Nc,r=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=xo(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Aa(u,a)>0||l&&this.Aa(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(i=i.add(u),s=d?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{Ra:i,fa:n,ns:o,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const i=e.fa.G_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return us()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return this.Ea=a,0!==i.length||l?{snapshot:new Ic(this.query,e.Ra,s,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Nc,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fo(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Hc(e))})),this.da.forEach((n=>{e.has(n)||t.push(new Vc(n))})),t}ba(e){this.Ta=e.Ts,this.da=Fo();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ic.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Wc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Kc{constructor(e){this.key=e,this.va=!1}}class Qc{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Ca={},this.Fa=new To((e=>Ao(e)),wo),this.Ma=new Map,this.xa=new Set,this.Oa=new ni(Rs.comparator),this.Na=new Map,this.La=new Cl,this.Ba={},this.ka=new Map,this.qa=gl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Gc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=hu(e);let s;const i=r.Fa.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Yc(r,t,n,!0),s}async function Xc(e,t){const n=hu(e);await Yc(n,t,!0,!1)}async function Yc(e,t,n,r){const s=await Ul(e.localStore,vo(t)),i=s.targetId,o=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Jc(e,t,i,"current"===o,s.resumeToken)),e.isPrimaryClient&&n&&uc(e.remoteStore,s),a}async function Jc(e,t,n,r,s){e.Ka=(t,n,r)=>async function(e,t,n,r){let s=t.view.ma(n);s.ns&&(s=await Vl(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,s)})));const i=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(s,e.isPrimaryClient,i,o);return iu(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const i=await Vl(e.localStore,t,!0),o=new qc(t,i.Ts),a=o.ma(i.documents),l=Ta.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=o.applyChanges(a,e.isPrimaryClient,l);iu(e,n,c.wa);const u=new Wc(t,n,o);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Zc(e,t,n){const r=ds(e),s=r.Fa.get(t),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter((e=>!wo(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zl(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&hc(r.remoteStore,s.targetId),ru(r,s.targetId)})).catch(Vs)):(ru(r,s.targetId),await zl(r.localStore,s.targetId,!0))}async function $c(e,t){const n=ds(e),r=n.Fa.get(t),s=n.Ma.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hc(n.remoteStore,r.targetId))}async function eu(e,t){const n=ds(e);try{const e=await function(e,t){const n=ds(e),r=t.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const o=[];t.targetChanges.forEach(((i,a)=>{const l=s.get(a);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,i.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,i.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(ci.EMPTY_BYTE_STRING,Ns.min()).withLastLimboFreeSnapshotVersion(Ns.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&o.push(n.Ur.updateTargetData(e,c))}));let a=Io(),l=Fo();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Bl(e,i,t.documentUpdates).next((e=>{a=e.Ps,l=e.Is}))),!r.isEqual(Ns.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Hs.waitFor(o).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.os=s,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(hs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?hs(r.va):e.removedDocuments.size>0&&(hs(r.va),r.va=!1))})),await lu(n,e,t)}catch(e){await Vs(e)}}function tu(e,t,n){const r=ds(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const s=r.view.Z_(t);s.snapshot&&e.push(s.snapshot)})),function(e,t){const n=ds(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const s of n.j_)s.Z_(t)&&(r=!0)})),r&&Fc(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function nu(e,t,n){const r=ds(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Na.get(t),i=s&&s.key;if(i){let e=new ni(Rs.comparator);e=e.insert(i,Mi.newNoDocument(i,Ns.min()));const n=Fo().add(i),s=new Ea(Ns.min(),new Map,new ni(ks),e,n);await eu(r,s),r.Oa=r.Oa.remove(i),r.Na.delete(t),au(r)}else await zl(r.localStore,t,!1).then((()=>ru(r,t,n))).catch(Vs)}function ru(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||su(e,t)}))}function su(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(hc(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),au(e))}function iu(e,t,n){for(const r of n)r instanceof Vc?(e.La.addReference(r.key,t),ou(e,r)):r instanceof Hc?(os("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||su(e,r.key)):us()}function ou(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(os("SyncEngine","New document in limbo: "+n),e.xa.add(r),au(e))}function au(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Rs(Ps.fromString(t)),r=e.qa.next();e.Na.set(r,new Kc(n)),e.Oa=e.Oa.insert(n,r),uc(e.remoteStore,new cl(vo(po(n.path)),r,"TargetPurposeLimboResolution",Ks.oe))}}async function lu(e,t,n){const r=ds(e),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{o.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,s?"current":"not-current")}if(e){s.push(e);const t=Dl.Wi(a.targetId,e);i.push(t)}})))})),await Promise.all(o),r.Ca.d_(s),await async function(e,t){const n=ds(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Hs.forEach(t,(t=>Hs.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Hs.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ws(e))throw e;os("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,s)}}}(r.localStore,i))}async function cu(e,t){const n=ds(e);if(!n.currentUser.isEqual(t)){os("SyncEngine","User change. New user:",t.toKey());const e=await Ml(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new ps(fs.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await lu(n,e.hs)}}function uu(e,t){const n=ds(e),r=n.Na.get(t);if(r&&r.va)return Fo().add(r.key);{let e=Fo();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function hu(e){const t=ds(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=eu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nu.bind(null,t),t.Ca.d_=Lc.bind(null,t.eventManager),t.Ca.$a=Mc.bind(null,t.eventManager),t}class du{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Ll(this.persistence,new Rl,e.initialUser,this.serializer)}Ga(e){return new Nl(Pl.Zr,this.serializer)}Wa(e){return new Wl}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}du.provider={build:()=>new du};class fu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>tu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=cu.bind(null,this.syncEngine),await xc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Dc}createDatastore(e){const t=tc(e.databaseInfo.databaseId),n=function(e){return new $l(e)}(e.databaseInfo);return function(e,t,n,r){return new ic(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new ac(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,(e=>tu(this.syncEngine,e,0)),Ql.D()?new Ql:new Kl)}createSyncEngine(e,t){return function(e,t,n,r,s,i,o){const a=new Qc(e,t,n,r,s,i);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ds(e);os("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await cc(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}fu.provider={build:()=>new fu};class pu{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class mu{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ns.UNAUTHENTICATED,this.clientId=Ss.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async e=>{os("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(os("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ec(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function gu(e,t){e.asyncQueue.verifyOperationInProgress(),os("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ml(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function yu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vu(e);os("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Cc(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Cc(t.remoteStore,n))),e._onlineComponents=t}async function vu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){os("FirestoreClient","Using user provided OfflineComponentProvider");try{await gu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===fs.FAILED_PRECONDITION||e.code===fs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ls("Error using user provided cache. Falling back to memory cache: "+n),await gu(e,new du)}}else os("FirestoreClient","Using default OfflineComponentProvider"),await gu(e,new du);return e._offlineComponents}async function _u(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(os("FirestoreClient","Using user provided OnlineComponentProvider"),await yu(e,e._uninitializedComponentsProvider._online)):(os("FirestoreClient","Using default OnlineComponentProvider"),await yu(e,new fu))),e._onlineComponents}async function bu(e){const t=await _u(e),n=t.eventManager;return n.onListen=Gc.bind(null,t.syncEngine),n.onUnlisten=Zc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Xc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$c.bind(null,t.syncEngine),n}function wu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ms;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new pu({next:n=>{i.Za(),t.enqueueAndForget((()=>Oc(e,o))),n.fromCache&&"server"===r.source?s.reject(new ps(fs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),o=new zc(n,i,{includeMetadataChanges:!0,_a:!0});return Rc(e,o)}(await bu(e),e.asyncQueue,t,n,r))),r.promise}function Au(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Cu=new Map;function xu(e,t,n){if(!n)throw new ps(fs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Su(e){if(Rs.isDocumentKey(e))throw new ps(fs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ku(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":us()}function Eu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ps(fs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ku(e);throw new ps(fs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Tu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ps(fs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ps(fs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ps(fs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Au(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ps(fs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ps(fs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ps(fs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tu({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ps(fs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ps(fs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tu(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ys;switch(e.type){case"firstParty":return new ws(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ps(fs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Cu.get(e);t&&(os("ComponentProvider","Removing Datastore"),Cu.delete(e),t.terminate())}(this),Promise.resolve()}}class Iu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Iu(this.firestore,e,this._query)}}class Pu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pu(this.firestore,e,this._key)}}class Du extends Iu{constructor(e,t,n){super(e,t,po(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pu(this.firestore,null,new Rs(e))}withConverter(e){return new Du(this.firestore,e,this._path)}}function ju(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=hn(e),xu("collection","path",t),e instanceof Nu){const n=Ps.fromString(t,...r);return Su(n),new Du(e,null,n)}{if(!(e instanceof Pu||e instanceof Du))throw new ps(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ps.fromString(t,...r));return Su(n),new Du(e.firestore,null,n)}}class Ru{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new nc(this,"async_queue_retry"),this.Vu=()=>{const e=ec();e&&os("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=ec();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=ec();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new ms;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(Mb){if(!Ws(Mb))throw Mb;os("AsyncQueue","Operation failed with retryable error: "+Mb)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw as("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=kc.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&us()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Ou extends Nu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ru,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ru(e),this._firestoreClient=void 0,await e}}}function Lu(e,t){const n="string"==typeof e?e:t||"(default)",r=Cr("object"==typeof e?e:Tr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ft("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;const i=(e=Eu(e,Nu))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==i.host&&i.host!==o&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ns.MOCK_USER;else{t=zt(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new ps(fs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ns(i)}e._authCredentials=new vs(new gs(t,n))}}(r,...e)}return r}function Mu(e){if(e._terminated)throw new ps(fs.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Fu(e),e._firestoreClient}function Fu(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new yi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Au(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new mu(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bu(ci.fromBase64String(e))}catch(e){throw new ps(fs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Bu(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Uu{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ps(fs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new js(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ps(fs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ps(fs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ks(this._lat,e._lat)||ks(this._long,e._long)}}class Vu{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Hu=new RegExp("[~\\*/\\[\\]]");function qu(e,t,n){if(t.search(Hu)>=0)throw Wu("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Uu(...t.split("."))._internalPath}catch(r){throw Wu("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Wu(e,t,n,r,s){const i=r&&!r.isEmpty(),o=void 0!==s;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(s)),l+=")"),new ps(fs.INVALID_ARGUMENT,a+e+l)}class Ku{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qu extends Ku{data(){return super.data()}}function Gu(e,t){return"string"==typeof t?qu(e,t):t instanceof Uu?t._internalPath:t._delegate._internalPath}function Xu(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ps(fs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yu{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw us()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ei(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>di(e.doubleValue)));return new Vu(s)}convertGeoPoint(e){return new zu(di(e.latitude),di(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=mi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gi(e));default:return null}}convertTimestamp(e){const t=hi(e);return new Ts(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ps.fromString(e);hs(ll(n));const r=new vi(n.get(1),n.get(3)),s=new Rs(n.popFirst(5));return r.isEqual(t)||as("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}class Ju{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zu extends Ku{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Gu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class $u extends Zu{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class eh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ju(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new $u(this._firestore,this._userDataWriter,n.key,n,new Ju(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ps(fs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new $u(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ju(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new $u(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ju(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:th(t.type),doc:r,oldIndex:s,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function th(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return us()}}class nh extends Yu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pu(this.firestore,null,t)}}function rh(e){e=Eu(e,Iu);const t=Eu(e.firestore,Ou),n=Mu(t),r=new nh(t);return Xu(e._query),wu(n,e._query).then((n=>new eh(t,r,e,n)))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rs=e}(kr),Ar(new dn("firestore",((e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),o=new Ou(new _s(e.getProvider("auth-internal")),new Cs(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ps(fs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vi(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Nr(ts,"4.7.3",e),Nr(ts,"4.7.3","esm2017")}();const sh=Lu(Ur);async function ih(e){let t=[],n=null;try{(await rh(ju(sh,e))).forEach((e=>{t.push(At({id:e.id},e.data()))}))}catch(Mb){n=Mb}return{result:t,error:n}}console.log(sh);const oh=n(2761);const ah=function(){const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)("prom"),[i,o]=(0,t.useState)([]),[a,l]=(0,t.useState)(6e4),[c,u]=(0,t.useState)(18e4),[h,d]=(0,t.useState)([]),[f,p]=(0,t.useState)(36e5),[m,g]=(0,t.useState)(null),y=ee(),[v,_]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{!async function(){const{result:e,error:t}=await ih("songs");t?console.error("Error fetching songs: ",t):o(e)}()}),[]),(0,Ue.jsxs)("div",{className:Ge,children:[(0,Ue.jsx)(ze,{}),(0,Ue.jsxs)("form",{className:Xe,onSubmit:e=>{e.preventDefault();let t=null;0!==h.length?("prom"===r&&(t=i),console.log(f),y("/powerhour",{state:{songInterval:a,playlistSongs:t,tornadoInterval:c,namesList:h,length:f}})):g("Please enter at least one name")},children:[(0,Ue.jsxs)("div",{className:Je,children:[(0,Ue.jsx)("h2",{children:"Power Hour Set Up"}),(0,Ue.jsx)("button",{className:"btn-instructions ".concat(it),onClick:e=>{e.preventDefault(),_(!v)},children:(0,Ue.jsx)(at,{})})]}),m&&(0,Ue.jsx)("div",{className:st,children:m}),v&&(0,Ue.jsx)(yt,{gameTitle:"PowerHour Instructions",subheader:"Every minute, a new song will play. When a song ends, take a shot!",icon:oh,instructionsText:"The game will last for 60 minutes. Quickstart version sets the most basic instructions of 60 second song interval, no tornados and no gifs. Just you, your friends, and the music. For a more elaborate game, fill out the form below. A tornado is a random event that will  occur every 3-5 minutes. When a tornado occurs, a random player will be selected to perform a tornado while a random GIF is shown. A tornado consists of taking 5 sips and then  spinning around 5 times. Good Luck!",onClose:()=>_(!1)}),(0,Ue.jsxs)("div",{className:Ze,children:[(0,Ue.jsx)("label",{htmlFor:"name",children:"Enter Names:"}),(0,Ue.jsx)("input",{type:"text",value:e,onChange:e=>{n(e.target.value)},className:$e}),(0,Ue.jsx)("button",{type:"button",className:"btn-secondary ".concat(ot),onClick:()=>{d([...h,e]),n("")},children:"Add"})]}),(0,Ue.jsx)("ul",{className:et,children:h.map(((e,t)=>(0,Ue.jsxs)("li",{className:tt,children:[(0,Ue.jsx)("span",{children:e}),(0,Ue.jsx)("button",{type:"button",className:"btn-close ".concat(nt),onClick:()=>(e=>{const t=[...h];t.splice(e,1),d(t)})(t),children:"X"})]},t)))}),(0,Ue.jsxs)("div",{className:Ze,children:[(0,Ue.jsx)("label",{htmlFor:"songInterval",children:"Song Interval:"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"30",name:"songInterval",value:"30",checked:3e4===a,onChange:e=>l(3e4)}),(0,Ue.jsx)("label",{htmlFor:"30",children:"30 Seconds"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"40",name:"songInterval",value:"40",checked:4e4===a,onChange:e=>l(4e4)}),(0,Ue.jsx)("label",{htmlFor:"40",children:"40 Seconds"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"50",name:"songInterval",value:"50",checked:5e4===a,onChange:e=>l(5e4)}),(0,Ue.jsx)("label",{htmlFor:"50",children:"50 Seconds"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"60",name:"songInterval",value:"60",checked:6e4===a,onChange:e=>l(6e4)}),(0,Ue.jsx)("label",{htmlFor:"60",children:"60 Seconds"})]})]}),(0,Ue.jsx)("hr",{className:Ye}),(0,Ue.jsxs)("div",{className:Ze,children:[(0,Ue.jsx)("label",{htmlFor:"tornadoInterval",children:"Tornado Interval:"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"2m",name:"tornadoInterval",value:"2m",checked:12e4===c,onChange:e=>u(12e4)}),(0,Ue.jsx)("label",{htmlFor:"2m",children:"2 Minutes"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"3m",name:"tornadoInterval",value:"3m",checked:18e4===c,onChange:e=>u(18e4)}),(0,Ue.jsx)("label",{htmlFor:"3m",children:"3 Minutes"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"4m",name:"tornadoInterval",value:"4m",checked:24e4===c,onChange:e=>u(24e4)}),(0,Ue.jsx)("label",{htmlFor:"4m",children:"4 Minutes"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"5m",name:"tornadoInterval",value:"5m",checked:3e5===c,onChange:e=>u(3e5)}),(0,Ue.jsx)("label",{htmlFor:"5m",children:"5 Minutes"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"n/a",name:"tornadoInterval",value:"n/a",checked:1e15===c,onChange:e=>u(1e15)}),(0,Ue.jsx)("label",{htmlFor:"n/a",children:"None"})]})]}),(0,Ue.jsx)("hr",{className:Ye}),(0,Ue.jsxs)("div",{className:Ze,children:[(0,Ue.jsx)("label",{htmlFor:"playlist",children:"Playlist:"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"prom",name:"playlist",value:"prom",checked:"prom"===r,onChange:e=>s(e.target.value)}),(0,Ue.jsx)("label",{htmlFor:"prom",children:"Prom"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"n/a",name:"playlist",value:"n/a",checked:"n/a"===r,onChange:e=>s(e.target.value)}),(0,Ue.jsx)("label",{htmlFor:"n/a",children:"N/A"})]})]}),(0,Ue.jsx)("hr",{className:Ye}),(0,Ue.jsxs)("div",{className:Ze,children:[(0,Ue.jsx)("label",{htmlFor:"length",children:"Length:"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"60m",name:"length",value:"60m",checked:36e5===f,onChange:e=>p(36e5)}),(0,Ue.jsx)("label",{htmlFor:"60m",children:"Power Hour (60 Mins)"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("input",{type:"radio",id:"60m",name:"length",value:"60m",checked:6e6===f,onChange:e=>p(6e6)}),(0,Ue.jsx)("label",{htmlFor:"60m",children:"Centurion (100 Mins)"})]})]}),(0,Ue.jsx)("hr",{className:Ye}),(0,Ue.jsx)("div",{className:Ze,children:(0,Ue.jsx)("button",{className:"btn-secondary ".concat(rt),onClick:e=>{e.preventDefault(),y("/powerhour",{state:{songInterval:a,playlistSongs:i,tornadoInterval:null,namesList:null,length:f}})},children:"Quickstart"})}),(0,Ue.jsx)("div",{className:Ze,children:(0,Ue.jsx)("button",{className:"btn-submit ".concat(rt),type:"submit",children:"Submit"})})]})]})};var lh=n(1043),ch=n.n(lh);const uh={background:"PowerHour_background__oRmGz",gradientShift:"PowerHour_gradientShift__DKZyF",stopwatchContainer:"PowerHour_stopwatchContainer__WoDdX",timeDisplay:"PowerHour_timeDisplay__-4Lam",progressCircleContainer:"PowerHour_progressCircleContainer__+X5gI",progressCircle:"PowerHour_progressCircle__7yw4l",progressCircleBackground:"PowerHour_progressCircleBackground__uRK-8",progressCircleForeground:"PowerHour_progressCircleForeground__m7ZYs",controls:"PowerHour_controls__Kk2Ar",controlButton:"PowerHour_controlButton__Arpk4",trackDisplay:"PowerHour_trackDisplay__jHFYD",header:"PowerHour_header__G1mjp",closeButton:"PowerHour_closeButton__uXb60"};function hh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Math.floor(Math.random()*e.length);for(;n===t;)n=Math.floor(Math.random()*e.length);return n}const dh=()=>{const e=Z(),n=e.state.playlistSongs,r=e.state.songInterval||6e4,s=(e.state.tornadoInterval,e.state.namesList||[]),i=e.state.length,[o,a]=(0,t.useState)(hh(n)),[l,c]=(0,t.useState)({min:0,sec:0}),[u,h]=(0,t.useState)(!1),[d,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(s.length>0?s[hh(s)]:null),[g,y]=(0,t.useState)(!1),[v,_]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[A,C]=(0,t.useState)([]),[x,S]=(0,t.useState)(!1),[k,E]=(0,t.useState)(0),T=ee(),N=2*Math.PI*60;(0,t.useEffect)((()=>{(async()=>{const{result:e,error:t}=await ih("tornado_images");t?console.error("Error fetching tornado images:",t):e&&e.length>0&&C(e[0].urls)})()}),[]),(0,t.useEffect)((()=>{let e,t,s=null;const o=e=>{s||(s=e);const i=e-s,l=Math.floor(i/1e3),u=l%60;c((e=>{let t=e.min;return 0===u&&l>0&&(t=e.min+1),{min:t,sec:u}}));E(i%r/r),i>=r&&(a((e=>hh(n,e))),s=e),t=requestAnimationFrame(o)};if(u)return e=setTimeout((()=>{_(!0),c({min:0,sec:0}),a(0),h(!1),cancelAnimationFrame(t)}),i),t=requestAnimationFrame(o),()=>{cancelAnimationFrame(t),clearTimeout(e)}}),[u,n.length,r]);const I=N-k*N;return console.log(I),(0,Ue.jsx)("div",{className:uh.background,children:(0,Ue.jsxs)("div",{className:uh.stopwatchContainer,children:[(0,Ue.jsx)("button",{className:"btn-close ".concat(uh.closeButton),onClick:()=>T("/powerhourform"),children:"X"}),36e5===i?(0,Ue.jsx)("h2",{className:uh.header,children:"Power Hour"}):(0,Ue.jsx)("h2",{className:uh.header,children:"Centurion"}),(0,Ue.jsx)("h3",{className:uh.phSubheader,children:"Tornado Edition"}),(0,Ue.jsxs)("div",{className:uh.timeDisplay,children:[l.min.toString().padStart(2,"0"),":",l.sec.toString().padStart(2,"0")]}),(0,Ue.jsx)("div",{className:uh.progressCircleContainer,children:(0,Ue.jsxs)("svg",{className:uh.progressCircle,width:"150",height:"150",viewBox:"0 0 150 150",children:[(0,Ue.jsx)("defs",{children:(0,Ue.jsxs)("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,Ue.jsx)("stop",{offset:"0%",stopColor:"#ff883e"}),(0,Ue.jsx)("stop",{offset:"100%",stopColor:"#009e60"})]})}),(0,Ue.jsx)("circle",{className:uh.progressCircleBackground,cx:"75",cy:"75",r:60,strokeWidth:"10"}),(0,Ue.jsx)("circle",{className:uh.progressCircleForeground,cx:"75",cy:"75",r:60,strokeWidth:"10",strokeDasharray:N,strokeDashoffset:I,stroke:"url(#progressGradient)"})]})}),v?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("p",{children:"Congratulations on completing PowerHour!"}),(0,Ue.jsx)("iframe",{src:"https://gfycat.com/ifr/HarmfulHonestDuckbillcat",title:"gifFinish",frameBorder:"0",width:"640",height:"405",allowFullScreen:!0}),(0,Ue.jsx)(ch(),{url:"https://www.youtube.com/watch?v=ym_jVTcBxSU",playing:!0})]}):(0,Ue.jsxs)(Ue.Fragment,{children:[g&&p?(0,Ue.jsxs)("h2",{children:["Time to tornado: ",p]}):(0,Ue.jsx)("p",{children:"Almost tornado time"}),b&&d&&(0,Ue.jsx)("iframe",{src:d,title:"gif",className:uh.tornadoImage,frameBorder:"0"})]}),(0,Ue.jsxs)("div",{className:uh.trackDisplay,children:[u?(0,Ue.jsx)(ch(),{className:uh.reactPlayer,url:n[o].url,playing:u,config:{youtube:{playerVars:{playsinline:1}}}}):(0,Ue.jsx)("p",{children:"Song Paused"}),(0,Ue.jsx)("h1",{className:uh.header,children:n[o].name})]}),(0,Ue.jsx)("div",{className:uh.controls,children:u?(0,Ue.jsx)("button",{className:uh.controlButton,onClick:()=>{h(!1),c({min:0,sec:0}),a(0),T("/powerhourform")},children:"Reset"}):(0,Ue.jsx)("button",{className:uh.controlButton,onClick:()=>{h(!0),S(!0)},children:"Start"})})]})})},fh=e=>{let{value:r,suit:s,faceUp:i,onClick:o,className:a,nonFlippable:l}=e;const[c,u]=(0,t.useState)(i);return o||(o=()=>{u(!c)}),l?(0,Ue.jsx)("img",{src:i?n(1760)("./".concat(r).concat(s,".png")):n(5375),alt:"".concat(r).concat(s),className:a}):(0,Ue.jsx)("img",{src:c?n(1760)("./".concat(r).concat(s,".png")):n(5375),alt:"".concat(r).concat(s),onClick:o,className:a})},ph="RideTheBus_blackBtn__9gajx",mh="RideTheBus_blackBtnDark__i0rWf",gh="RideTheBus_redBtn__xGTQI",yh="RideTheBus_redBtnDark__9kPKv",vh="RideTheBus_greenBtn__CzhDj",_h="RideTheBus_greenBtnDark__TyQHB",bh="RideTheBus_btnRow__kmhn7",wh="RideTheBus_card__ImZOy",Ah="RideTheBus_cardDeck__any7z",Ch="RideTheBus_subHeader__88nvA",xh="RideTheBus_shuffleBtn__2Uuc3",Sh="RideTheBus_flippedCards__YWBPw",kh="RideTheBus_rideTheBus__cEtac",Eh="RideTheBus_done__fBqvm",Th="RideTheBus_wrong__6HGkz",Nh="RideTheBus_rideTheBusTitleRow__EckRO",Ih="RideTheBus_instructionsBtnRtb__X2bZN",Ph="RideTheBus_rideTheBusTitle__yM2Zy",Dh="RideTheBus_rtbIcon__efTMh",jh="RideTheBus_rtbIconRow__3koYi",Rh=n(7279),Oh=n(3708),Lh=["H","C","D","S"],Mh=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],Fh=()=>{const e=[];for(const t of Lh)for(const n of Mh)e.push({suit:t,value:n});return e},Bh=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t},Uh=()=>{const[e,r]=(0,t.useState)((()=>Bh(Fh()))),[s,i]=(0,t.useState)(0),[o,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),u={card:null,done:!1,guess:null,isButtonDark:{red:!1,black:!1,higher:!1,lower:!1,inside:!1,outside:!1,hearts:!1,diamonds:!1,clubs:!1,spades:!1}},[h,d]=(0,t.useState)([At(At({},u),{},{guess:"red"}),At(At({},u),{},{guess:"higher"}),At(At({},u),{},{guess:"inside"}),At(At({},u),{},{guess:"Hearts"}),At(At({},u),{},{guess:"red"})]),f=(e,t)=>{switch(e){case 0:case 4:return"red"===h[e].guess?"H"===t.suit||"D"===t.suit:"S"===t.suit||"C"===t.suit;case 1:return"higher"===h[e].guess?Mh.indexOf(t.value)>Mh.indexOf(h[0].card.value):Mh.indexOf(t.value)<Mh.indexOf(h[0].card.value);case 2:const[n,r]=p(h[0].card.value,h[1].card.value);return"inside"===h[e].guess?Mh.indexOf(t.value)>n&&Mh.indexOf(t.value)<r:Mh.indexOf(t.value)<n||Mh.indexOf(t.value)>r;case 3:return"H"===t.suit?"hearts"===h[e].guess:"D"===t.suit?"diamonds"===h[e].guess:"C"===t.suit?"clubs"===h[e].guess:"S"===t.suit&&"spades"===h[e].guess;default:return!1}},p=(e,t)=>{const n=Mh.indexOf(e),r=Mh.indexOf(t);return[Math.min(n,r),Math.max(n,r)]},m=(e,t)=>{const n=[...h];n[e].guess=t;const r=Object.keys(n[e].isButtonDark).reduce(((e,n)=>(e[n]=n===t,e)),{});n[e].isButtonDark=r,d(n)};return(0,t.useEffect)((()=>{h.forEach(((e,t)=>{m(t,e.guess)}))}),[h]),(0,Ue.jsxs)("div",{className:kh,children:[(0,Ue.jsx)(ze,{}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("div",{className:Nh,children:[(0,Ue.jsx)("h1",{className:Ph,children:"Ride The Bus: 5 Card Classic"}),(0,Ue.jsx)(at,{className:Ih,onClick:()=>c(!0)})]}),l&&(0,Ue.jsx)(yt,{gameTitle:"Ride The Bus (5 Card) Instructions",subheader:"Guess correctly or drink!",icon:Rh,instructionsText:"Guess red/black, higher/lower, inside/outside, or suit. Drink if you're wrong!",onClose:()=>c(!1)}),(0,Ue.jsx)("div",{className:jh,children:(0,Ue.jsx)("img",{className:Dh,src:Rh,alt:"Ride the Bus Icon"})}),(0,Ue.jsxs)("h2",{className:Ch,children:["Cards Flipped: ",s]}),(0,Ue.jsx)("div",{className:bh,children:h[0].done?h[1].done?h[2].done?h[3].done?h[4].done?null:(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("button",{className:h[4].isButtonDark.red?yh:gh,onClick:()=>m(4,"red"),children:"RED"}),(0,Ue.jsx)("button",{className:h[4].isButtonDark.black?mh:ph,onClick:()=>m(4,"black"),children:"BLACK"})]}):(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("button",{className:h[3].isButtonDark.hearts?yh:gh,onClick:()=>m(3,"hearts"),children:"HEARTS"}),(0,Ue.jsx)("button",{className:h[3].isButtonDark.diamonds?yh:gh,onClick:()=>m(3,"diamonds"),children:"DIAMONDS"}),(0,Ue.jsx)("button",{className:h[3].isButtonDark.clubs?mh:ph,onClick:()=>m(3,"clubs"),children:"CLUBS"}),(0,Ue.jsx)("button",{className:h[3].isButtonDark.spades?mh:ph,onClick:()=>m(3,"spades"),children:"SPADES"})]}):(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("button",{className:h[2].isButtonDark.inside?_h:vh,onClick:()=>m(2,"inside"),children:"INSIDE"}),(0,Ue.jsx)("button",{className:h[2].isButtonDark.outside?yh:gh,onClick:()=>m(2,"outside"),children:"OUTSIDE"})]}):(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("button",{className:h[1].isButtonDark.higher?_h:vh,onClick:()=>m(1,"higher"),children:"HIGHER"}),(0,Ue.jsx)("button",{className:h[1].isButtonDark.lower?yh:gh,onClick:()=>m(1,"lower"),children:"LOWER"})]}):(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("button",{className:h[0].isButtonDark.red?yh:gh,onClick:()=>m(0,"red"),children:"RED"}),(0,Ue.jsx)("button",{className:h[0].isButtonDark.black?mh:ph,onClick:()=>m(0,"black"),children:"BLACK"})]})}),(0,Ue.jsx)("div",{className:Ah,children:(0,Ue.jsx)("img",{src:n(5375),className:wh,onClick:()=>{const t=h.findIndex((e=>!e.done));if(-1!==t&&null!==h[t].guess){const n=e[s],r=[...h],o=f(t,n);r[t].card=n,r[t].done=o,d(r),i(s+1)}else alert("Must make a guess");s>=e.length&&a(!0)},alt:"Card deck"})}),(0,Ue.jsx)("button",{className:xh,onClick:()=>{r(Bh(Fh())),i(0),d(h.map((()=>At({},u))))},children:"Restart"}),(0,Ue.jsx)("div",{className:Sh,children:h.map(((e,t)=>e.card?(0,Ue.jsx)(fh,{value:e.card.value,suit:e.card.suit,faceUp:!0,className:e.done?"".concat(wh," ").concat(Eh):"".concat(wh," ").concat(Th)},t):(0,Ue.jsx)("img",{className:wh,src:Oh,alt:"Blank card"},t)))})]})]})},zh=["H","C","D","S"],Vh=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],Hh=n(7279),qh=n(3708),Wh=n(5375);function Kh(){const e=[];for(const t of zh)for(const n of Vh)e.push({suit:t,value:n});return e}function Qh(e){const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t}const Gh={red:!1,black:!1,higher:!1,lower:!1,inside:!1,outside:!1,hearts:!1,diamonds:!1,clubs:!1,spades:!1};const Xh=function(){const[e,n]=(0,t.useState)((()=>Qh(Kh()))),[r,s]=(0,t.useState)(0),[i,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),c={card:null,done:!1,guess:null,isButtonDark:At({},Gh)},[u,h]=(0,t.useState)([At(At({},c),{},{guess:"red"}),At(At({},c),{},{guess:"higher"}),At(At({},c),{},{guess:"inside"}),At(At({},c),{},{guess:"hearts"})]),d=(0,t.useCallback)((()=>{const e=Qh(Kh());n(e),s(0),o(!1),h([At(At({},c),{},{guess:"red"}),At(At({},c),{},{guess:"higher"}),At(At({},c),{},{guess:"inside"}),At(At({},c),{},{guess:"hearts"})])}),[c]),f=(e,t)=>{const n=Vh.indexOf(e),r=Vh.indexOf(t);return[Math.min(n,r),Math.max(n,r)]},p=(0,t.useCallback)(((e,t)=>{h((n=>{const r=[...n],s=At({},r[e].isButtonDark);return Object.keys(s).forEach((e=>{s[e]=e===t})),r[e]=At(At({},r[e]),{},{guess:t,isButtonDark:s}),r}))}),[]);return(0,Ue.jsxs)("div",{className:kh,children:[(0,Ue.jsx)(ze,{}),(0,Ue.jsxs)("div",{className:Nh,children:[(0,Ue.jsx)("h1",{className:Ph,children:"Ride The Bus: 4 Card Classic"}),(0,Ue.jsx)(at,{className:Ih,onClick:()=>l(!0)})]}),a&&(0,Ue.jsx)(yt,{gameTitle:"Ride The Bus (4 Card) Instructions",subheader:"Guess correctly or drink!",icon:Hh,instructionsText:"Guess red/black, higher/lower, inside/outside, or suit. Drink if you're wrong!",onClose:()=>l(!1)}),(0,Ue.jsx)("div",{className:jh,children:(0,Ue.jsx)("img",{className:Dh,src:Hh,alt:"Ride the Bus Icon"})}),(0,Ue.jsxs)("h2",{className:Ch,children:["Cards Flipped: ",r]}),(0,Ue.jsxs)("div",{className:bh,children:[!1===u[0].done&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("button",{className:u[0].isButtonDark.red?yh:gh,onClick:()=>p(0,"red"),children:"RED"}),(0,Ue.jsx)("button",{className:u[0].isButtonDark.black?mh:ph,onClick:()=>p(0,"black"),children:"BLACK"})]}),u[0].done&&!u[1].done&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("button",{className:u[1].isButtonDark.higher?_h:vh,onClick:()=>p(1,"higher"),children:"HIGHER"}),(0,Ue.jsx)("button",{className:u[1].isButtonDark.lower?yh:gh,onClick:()=>p(1,"lower"),children:"LOWER"})]}),u[1].done&&!u[2].done&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("button",{className:u[2].isButtonDark.inside?_h:vh,onClick:()=>p(2,"inside"),children:"INSIDE"}),(0,Ue.jsx)("button",{className:u[2].isButtonDark.outside?yh:gh,onClick:()=>p(2,"outside"),children:"OUTSIDE"})]}),u[2].done&&!u[3].done&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("button",{className:u[3].isButtonDark.hearts?yh:gh,onClick:()=>p(3,"hearts"),children:"HEARTS"}),(0,Ue.jsx)("button",{className:u[3].isButtonDark.diamonds?yh:gh,onClick:()=>p(3,"diamonds"),children:"DIAMONDS"}),(0,Ue.jsx)("button",{className:u[3].isButtonDark.clubs?mh:ph,onClick:()=>p(3,"clubs"),children:"CLUBS"}),(0,Ue.jsx)("button",{className:u[3].isButtonDark.spades?mh:ph,onClick:()=>p(3,"spades"),children:"SPADES"})]})]}),(0,Ue.jsx)("div",{className:Ah,children:(0,Ue.jsx)("img",{src:Wh,className:wh,onClick:()=>{if(i)return;const t=u.findIndex((e=>!e.done));if(-1===t)return;if(!u[t].guess)return void alert("You must select a guess first!");if(r>=e.length)return void o(!0);const n=e[r],a=((e,t)=>{const n=u[0].card,r=u[1].card;switch(e){case 0:return"red"===u[e].guess?"H"===t.suit||"D"===t.suit:"S"===t.suit||"C"===t.suit;case 1:{const r=Vh.indexOf(t.value)>Vh.indexOf(n.value);return"higher"===u[e].guess?r:!r}case 2:{const[s,i]=f(n.value,r.value),o=Vh.indexOf(t.value),a=o>s&&o<i;return"inside"===u[e].guess?a:!a}case 3:const{suit:s}=t,i=u[e].guess;return"H"===s&&"hearts"===i||"D"===s&&"diamonds"===i||"C"===s&&"clubs"===i||"S"===s&&"spades"===i;default:return!1}})(t,n),l=[...u];l[t]=At(At({},u[t]),{},{card:n,done:a}),h(l),s((e=>e+1)),r+1>=e.length&&o(!0)},alt:"Card deck"})}),(0,Ue.jsx)("button",{className:xh,onClick:d,children:"Restart"}),(0,Ue.jsx)("div",{className:Sh,children:u.map(((e,t)=>{if(e.card){const n=e.done?"".concat(wh," ").concat(Eh):"".concat(wh," ").concat(Th);return(0,Ue.jsx)(fh,{value:e.card.value,suit:e.card.suit,faceUp:!0,className:n},t)}return(0,Ue.jsx)("img",{className:wh,src:qh,alt:"Blank card"},t)}))})]})},Yh="HorseRace_playingGame__K6IJy",Jh="HorseRace_flexCol__vK8JR",Zh="HorseRace_backOfCard__jKgFM",$h="HorseRace_backOfCardDeck__4gMWI",ed="HorseRace_horizontalCard__WUl+C",td="HorseRace_finishLine__jL5CR",nd="HorseRace_contentContainer__JXLht",rd="HorseRace_deckRow__QJQYk",sd="HorseRace_horseRace__Ym0nn",id="HorseRace_horseRaceTitle__hN1zG",od="HorseRace_hrIcon__RNiu6",ad="HorseRace_hrIconRow__fl4WB",ld="HorseRace_horseRaceTitleRow__b1yKp",cd="HorseRace_subHeader__i1zuK",ud="HorseRace_instructionsIcon__H5YEk",hd=e=>{let{header:t,message:n,buttonText:r,onButtonClick:s}=e;return(0,Ue.jsx)("div",{className:"modal-overlay",children:(0,Ue.jsxs)("div",{className:"modal-container",children:[(0,Ue.jsx)("div",{className:"modal-header",children:t}),(0,Ue.jsx)("div",{className:"modal-body",children:n}),(0,Ue.jsx)("button",{className:"modal-button",onClick:s,children:r})]})})},dd=n(3457),fd=["H","C","D","S"],pd=["2","3","4","5","6","7","8","9","10","J","Q","K"],md=()=>{const[e,r]=(0,t.useState)((()=>(e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t})((()=>{const e=[];for(const t of fd)for(const n of pd)e.push({suit:t,value:n});return e})()))),[s,i]=(0,t.useState)(7),[o,a]=(0,t.useState)(null),[l,c]=(0,t.useState)([e[0].suit,e[0].value]),[u,h]=(0,t.useState)(!1),[d,f]=(0,t.useState)([e[1].suit,e[1].value]),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)([e[2].suit,e[2].value]),[v,_]=(0,t.useState)(!1),[b,w]=(0,t.useState)([e[3].suit,e[3].value]),[A,C]=(0,t.useState)(!1),[x,S]=(0,t.useState)([e[4].suit,e[4].value]),[k,E]=(0,t.useState)(!1),[T,N]=(0,t.useState)([e[5].suit,e[5].value]),[I,P]=(0,t.useState)(!1),[D,j]=(0,t.useState)([e[6].suit,e[6].value]),[R,O]=(0,t.useState)(!1),[L,M]=(0,t.useState)(0),[F,B]=(0,t.useState)(0),[U,z]=(0,t.useState)(0),[V,H]=(0,t.useState)(0),[q,W]=(0,t.useState)(!1),[K,Q]=(0,t.useState)(null),[G,X]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if(L>=1&&F>=1&&U>=1&&V>=1&&!1===u&&(h(!0),"H"===l[0]?M((e=>e-1)):"D"===l[0]?B((e=>e-1)):"S"===l[0]?z((e=>e-1)):"C"===l[0]&&H((e=>e-1))),L>=2&&F>=2&&U>=2&&V>=2&&!1===p&&(m(!0),"H"===d[0]?M((e=>e-1)):"D"===d[0]?B((e=>e-1)):"S"===d[0]?z((e=>e-1)):"C"===d[0]&&H((e=>e-1))),L>=3&&F>=3&&U>=3&&V>=3&&!1===v&&(_(!0),"H"===g[0]?M((e=>e-1)):"D"===g[0]?B((e=>e-1)):"S"===g[0]?z((e=>e-1)):"C"===g[0]&&H((e=>e-1))),L>=4&&F>=4&&U>=4&&V>=4&&!1===A&&(C(!0),"H"===b[0]?M((e=>e-1)):"D"===b[0]?B((e=>e-1)):"S"===b[0]?z((e=>e-1)):"C"===b[0]&&H((e=>e-1))),L>=5&&F>=5&&U>=5&&V>=5&&!1===k&&(E(!0),"H"===x[0]?M((e=>e-1)):"D"===x[0]?B((e=>e-1)):"S"===x[0]?z((e=>e-1)):"C"===x[0]&&H((e=>e-1))),L>=6&&F>=6&&U>=6&&V>=6&&!1===I&&(P(!0),"H"===T[0]?M((e=>e-1)):"D"===T[0]?B((e=>e-1)):"S"===T[0]?z((e=>e-1)):"C"===T[0]&&H((e=>e-1))),L>=7&&F>=7&&U>=7&&V>=7&&!1===R&&(O(!0),"H"===D[0]?M((e=>e-1)):"D"===D[0]?B((e=>e-1)):"S"===D[0]?z((e=>e-1)):"C"===D[0]&&H((e=>e-1))),8===L||8===F||8===U||8===V){W(!0);const e=[L,F,U,V].indexOf(8);0===e&&Q("Hearts"),1===e&&Q("Diamonds"),2===e&&Q("Spades"),3===e&&Q("Clubs")}}),[L,F,U,V]);return(0,Ue.jsxs)("div",{className:nd,children:[(0,Ue.jsx)(ze,{}),(0,Ue.jsxs)("div",{className:sd,children:[(0,Ue.jsx)(at,{className:ud,onClick:()=>X(!0)}),(0,Ue.jsx)("div",{className:ld,children:(0,Ue.jsx)("h1",{className:id,children:"Horse Race"})}),G&&(0,Ue.jsx)(yt,{gameTitle:"Horse Race",subheader:"Pick Your Horse, Place Your Bets and Get Ready To Cheer!",icon:dd,instructionsText:"Pick your horse (represented as the aces) and place your bet. Your bet can be any number of sips and if your horse is the winner you can hand out your drinks. If your horse loses you have to do whatever you bet. If the card flipped is the same suit as your horse, your horse advances 1 spot. As soon as all cards have reached a certain column, the respective card in the top row is revealed. Whichever suit is revealed in the top row, it moves that horse back one spot. Good Luck!",onClose:()=>X(!1)}),q?(0,Ue.jsx)(hd,{header:"".concat(K," have won!"),message:"Time to hand out your bets",buttonText:"Restart",onButtonClick:()=>{window.location.reload()}}):"",(0,Ue.jsx)("div",{className:ad,children:(0,Ue.jsx)("img",{className:od,src:dd})}),(0,Ue.jsxs)("div",{className:rd,children:[(0,Ue.jsx)("img",{src:n(5375),className:$h,onClick:()=>{q||(a([e[s].value,e[s].suit]),s<e.length&&i(s+1),"H"===e[s].suit?M((e=>e+1)):"D"===e[s].suit?B((e=>e+1)):"S"===e[s].suit?z((e=>e+1)):"C"===e[s].suit&&H((e=>e+1)))}}),null!=o?(0,Ue.jsx)(fh,{className:Zh,value:o[0],suit:o[1],faceUp:!0}):(0,Ue.jsx)("img",{src:n(3708),className:Zh})]}),(0,Ue.jsx)("h3",{className:cd,children:"Flip a card"}),(0,Ue.jsxs)("div",{className:Yh,children:[(0,Ue.jsxs)("div",{className:Jh,children:[(0,Ue.jsx)("div",{style:{flex:1}}),0===L?(0,Ue.jsx)("img",{src:n(5168),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("img",{src:n(3708),className:"".concat(Zh," ").concat(ed)}),0===F?(0,Ue.jsx)("img",{src:n(3964),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("img",{src:n(3708),className:"".concat(Zh," ").concat(ed)}),0===U?(0,Ue.jsx)("img",{src:n(4579),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("img",{src:n(3708),className:"".concat(Zh," ").concat(ed)}),0===V?(0,Ue.jsx)("img",{src:n(4131),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("img",{src:n(3708),className:"".concat(Zh," ").concat(ed)})]}),(0,Ue.jsxs)("div",{className:Jh,children:[!1===u?(0,Ue.jsx)("img",{src:n(5375),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)(fh,{suit:l[0],value:l[1],faceUp:!0,className:"".concat(Zh," ").concat(ed)}),1===L?(0,Ue.jsx)("img",{src:n(5168),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),1===F?(0,Ue.jsx)("img",{src:n(3964),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),1===U?(0,Ue.jsx)("img",{src:n(4579),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),1===V?(0,Ue.jsx)("img",{src:n(4131),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}})]}),(0,Ue.jsxs)("div",{className:Jh,children:[!1===p?(0,Ue.jsx)("img",{src:n(5375),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)(fh,{suit:d[0],value:d[1],faceUp:!0,className:"".concat(Zh," ").concat(ed)}),2===L?(0,Ue.jsx)("img",{src:n(5168),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),2===F?(0,Ue.jsx)("img",{src:n(3964),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),2===U?(0,Ue.jsx)("img",{src:n(4579),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),2===V?(0,Ue.jsx)("img",{src:n(4131),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}})]}),(0,Ue.jsxs)("div",{className:Jh,children:[!1===v?(0,Ue.jsx)("img",{src:n(5375),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)(fh,{suit:g[0],value:g[1],faceUp:!0,className:"".concat(Zh," ").concat(ed)}),3===L?(0,Ue.jsx)("img",{src:n(5168),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),3===F?(0,Ue.jsx)("img",{src:n(3964),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),3===U?(0,Ue.jsx)("img",{src:n(4579),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),3===V?(0,Ue.jsx)("img",{src:n(4131),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}})]}),(0,Ue.jsxs)("div",{className:Jh,children:[!1===A?(0,Ue.jsx)("img",{src:n(5375),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)(fh,{suit:b[0],value:b[1],faceUp:!0,className:"".concat(Zh," ").concat(ed)}),4===L?(0,Ue.jsx)("img",{src:n(5168),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),4===F?(0,Ue.jsx)("img",{src:n(3964),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),4===U?(0,Ue.jsx)("img",{src:n(4579),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),4===V?(0,Ue.jsx)("img",{src:n(4131),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}})]}),(0,Ue.jsxs)("div",{className:Jh,children:[!1===k?(0,Ue.jsx)("img",{src:n(5375),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)(fh,{suit:x[0],value:x[1],faceUp:!0,className:"".concat(Zh," ").concat(ed)}),5===L?(0,Ue.jsx)("img",{src:n(5168),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),5===F?(0,Ue.jsx)("img",{src:n(3964),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),5===U?(0,Ue.jsx)("img",{src:n(4579),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),5===V?(0,Ue.jsx)("img",{src:n(4131),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}})]}),(0,Ue.jsxs)("div",{className:Jh,children:[!1===I?(0,Ue.jsx)("img",{src:n(5375),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)(fh,{suit:T[0],value:T[1],faceUp:!0,className:"".concat(Zh," ").concat(ed)}),6===L?(0,Ue.jsx)("img",{src:n(5168),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),6===F?(0,Ue.jsx)("img",{src:n(3964),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),6===U?(0,Ue.jsx)("img",{src:n(4579),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),6===V?(0,Ue.jsx)("img",{src:n(4131),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}})]}),(0,Ue.jsxs)("div",{className:Jh,children:[!1===R?(0,Ue.jsx)("img",{src:n(5375),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)(fh,{suit:D[0],value:D[1],faceUp:!0,className:"".concat(Zh," ").concat(ed)}),7===L?(0,Ue.jsx)("img",{src:n(5168),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),7===F?(0,Ue.jsx)("img",{src:n(3964),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),7===U?(0,Ue.jsx)("img",{src:n(4579),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}}),7===V?(0,Ue.jsx)("img",{src:n(4131),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("div",{style:{flex:1}})]}),(0,Ue.jsx)("hr",{}),(0,Ue.jsxs)("div",{className:Jh,children:[(0,Ue.jsxs)("div",{className:td,children:[" ",(0,Ue.jsx)("h2",{children:"Finish line"})]}),8===L?(0,Ue.jsx)("img",{src:n(5168),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("img",{src:n(3708),className:"".concat(Zh," ").concat(ed)}),8===F?(0,Ue.jsx)("img",{src:n(3964),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("img",{src:n(3708),className:"".concat(Zh," ").concat(ed)}),8===U?(0,Ue.jsx)("img",{src:n(4579),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("img",{src:n(3708),className:"".concat(Zh," ").concat(ed)}),8===V?(0,Ue.jsx)("img",{src:n(4131),className:"".concat(Zh," ").concat(ed)}):(0,Ue.jsx)("img",{src:n(3708),className:"".concat(Zh," ").concat(ed)})]})]})]})]})},gd={gridLayout:"AroundTheWorld_gridLayout__xFKzW",container:"AroundTheWorld_container__RiTh0",wrapperBg:"AroundTheWorld_wrapperBg__pDTfV",titleContainer:"AroundTheWorld_titleContainer__w-iWb",aroundTheWorldTitle:"AroundTheWorld_aroundTheWorldTitle__DNuLt",coloredGlobe:"AroundTheWorld_coloredGlobe__WNAna",reverseImg:"AroundTheWorld_reverseImg__VFvku",backOfCard:"AroundTheWorld_backOfCard__+ydmO",group1:"AroundTheWorld_group1__5cMmo",group2:"AroundTheWorld_group2__HGjAJ",group3:"AroundTheWorld_group3__d+DiB",group4:"AroundTheWorld_group4__231zk",group5:"AroundTheWorld_group5__TuAW-",group6:"AroundTheWorld_group6__ZiwX+",group7:"AroundTheWorld_group7__kV+Yc",group8:"AroundTheWorld_group8__PJzYw",group9:"AroundTheWorld_group9__77Hw2",group10:"AroundTheWorld_group10__hxqyv",group11:"AroundTheWorld_group11__rxOeD",group12:"AroundTheWorld_group12__LsPFC",group13:"AroundTheWorld_group13__Jf8g9",group14:"AroundTheWorld_group14__QWU5m",group15:"AroundTheWorld_group15__EQGlM",group16:"AroundTheWorld_group16__yqfMA",group17:"AroundTheWorld_group17__wpmX5",group18:"AroundTheWorld_group18__Vmkyh",group19:"AroundTheWorld_group19__cU0zy",group20:"AroundTheWorld_group20__2i+yW",guessBtn:"AroundTheWorld_guessBtn__0mnkJ",guessBtnActive:"AroundTheWorld_guessBtnActive__JmLb0",btnContainer:"AroundTheWorld_btnContainer__3yQQa",instructionsIcon:"AroundTheWorld_instructionsIcon__zAGDK"},yd=["H","C","D","S"],vd=["A","2","3","4","5","6","8","9","10","J","Q","K"],_d=n(9769),bd=n(5375);function wd(){const e=[];for(const t of yd)for(const n of vd)e.push({suit:t,value:n});return e}function Ad(e){const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t}function Cd(e){switch(e){case"K":return 13;case"Q":return 12;case"J":return 11;case"A":return 1;default:return parseInt(e,10)}}function xd(e,t){return 0===t?null!=e[19]&&null!=e[1]:19===t?null!=e[0]&&null!=e[18]:null!=e[t-1]&&null!=e[t+1]}const Sd=function(){const[e,r]=(0,t.useState)((()=>Ad(wd()))),[s,i]=(0,t.useState)([["7","H"],null,null,null,null,["7","D"],null,null,null,null,["7","C"],null,null,null,null,["7","S"],null,null,null,null]),[o,a]=(0,t.useState)(0),[l,c]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[d,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!1),g=e=>{h(e),"higher"===e&&f(0),"lower"===e&&f(1),"inside"===e&&f(2),"outside"===e&&f(3)};function y(e,t,n){const l=[...s];if(l[t]=e,i(l),48===o?(r(Ad(wd())),a(0)):a((e=>e+1)),!n){const n=function(e,t,n,r){if(!r)return!1;const s=Cd(t[0]),i=0===n?19:n-1,o=19===n?0:n+1,a=e[i]?Cd(e[i][0]):null,l=e[o]?Cd(e[o][0]):null;return a===s||l===s}(s,e,t,u);n?setTimeout((()=>{const e=[...l];e[t]=null,i(e)}),1e3):setTimeout((()=>{const e=function(e,t){const n=[...e],r=new Set,s=[t],i=e=>19===e?0:e+1;for(;s.length>0;){const e=s.pop();if(r.has(e))continue;r.add(e);const t=0===(o=e)?19:o-1;null!==n[t]&&s.push(t);const a=i(e);null!==n[a]&&s.push(a)}var o;return r.forEach((e=>{n[e]&&"7"!==n[e][0]&&(n[e]=null)})),n}(l,t);i(e)}),1e3)}h(null),f(null)}function v(e){if(s[e]){const[t,n]=s[e];return(0,Ue.jsx)(fh,{value:t,suit:n,faceUp:!0,onClick:()=>{},className:"".concat(gd.backOfCard," ").concat(gd["group".concat(e+1)])},e)}return(0,Ue.jsx)("img",{src:bd,className:"".concat(gd.backOfCard," ").concat(gd["group".concat(e+1)]),onClick:()=>(e=>{c(e)})(e),alt:"back"},e)}return(0,t.useEffect)((()=>{if(null==l)return;const t=l;if(!u)return alert("Must make guess first"),void c(null);if(("higher"===u||"lower"===u)&&xd(s,t))return alert("Cannot guess higher or lower on a card with two neighbors"),void c(null);if(("inside"===u||"outside"===u)&&!xd(s,t))return alert("Must guess higher or lower on a card with only one neighbor"),void c(null);const n=[e[o].value,e[o].suit];if(function(e,t,n){return"inside"!==n&&"outside"!==n||(0===t?null!=e[19]&&null!=e[1]:19===t?null!=e[0]&&null!=e[18]:null!=e[t-1]&&null!=e[t+1])}(s,t,u)){const e=function(e,t,n,r){if(!r)return alert("Must make a guess first"),!1;const s=Cd(t[0]),i=0===n?19:n-1,o=19===n?0:n+1,a=e[i]?Cd(e[i][0]):null,l=e[o]?Cd(e[o][0]):null;return"higher"===r?null!=a&&s>a||null!=l&&s>l:"lower"===r?null!=a&&s<a||null!=l&&s<l:"inside"===r?null!=a&&null!=l&&(a<s&&s<l||l<s&&s<a):"outside"===r&&null!=a&&null!=l&&(s<a&&s<l||s>a&&s>l)}(s,n,t,u);y(n,t,e)}else y(n,t,!1);c(null)}),[l]),(0,Ue.jsxs)("div",{className:gd.wrapperBg,children:[p&&(0,Ue.jsx)(yt,{gameTitle:"Around The World",subheader:"Higher, Lower, Inside or Outside. Take Risks... and Sips!",icon:_d,instructionsText:"The goal is to have every card flipped up. The 7s will always stay face up and you start by selecting higher or lower to one of the neighbors 7s. You can select any card that has a faceup neighbor to guess higher or lower. If you get it wrong, every card that is not a 7 will be turned back over, and for every card that gets flipped back over you take a sip. If a card has two neighbors you can guess inside or outside. If it is a tie you will be given the chance to guess again. Good Luck!",onClose:()=>m(!1)}),(0,Ue.jsx)(ze,{}),(0,Ue.jsxs)("div",{className:gd.container,children:[(0,Ue.jsx)(at,{className:gd.instructionsIcon,onClick:()=>m(!0)}),(0,Ue.jsxs)("div",{className:gd.titleContainer,children:[(0,Ue.jsx)("img",{src:_d,className:gd.coloredGlobe,alt:"globe"}),(0,Ue.jsx)("h1",{className:gd.aroundTheWorldTitle,children:"Around The World"})]}),(0,Ue.jsxs)("div",{className:gd.btnContainer,children:[(0,Ue.jsx)("button",{className:0===d?gd.guessBtnActive:gd.guessBtn,onClick:()=>g("higher"),children:"Higher"}),(0,Ue.jsx)("button",{className:1===d?gd.guessBtnActive:gd.guessBtn,onClick:()=>g("lower"),children:"Lower"}),(0,Ue.jsx)("button",{className:2===d?gd.guessBtnActive:gd.guessBtn,onClick:()=>g("inside"),children:"Inside"}),(0,Ue.jsx)("button",{className:3===d?gd.guessBtnActive:gd.guessBtn,onClick:()=>g("outside"),children:"Outside"})]}),(0,Ue.jsxs)("div",{className:gd.gridLayout,children:[(0,Ue.jsx)("img",{src:n(5894),className:"".concat(gd.backOfCard," ").concat(gd.group1),alt:"7H"}),v(1),v(2),v(3),v(4),(0,Ue.jsx)("img",{src:n(506),className:"".concat(gd.backOfCard," ").concat(gd.group6),alt:"7D"}),v(6),v(7),v(8),v(9),(0,Ue.jsx)("img",{src:n(7381),className:"".concat(gd.backOfCard," ").concat(gd.group11),alt:"7C"}),v(11),v(12),v(13),v(14),(0,Ue.jsx)("img",{src:n(7989),className:"".concat(gd.backOfCard," ").concat(gd.group16),alt:"7S"}),v(16),v(17),v(18),v(19)]})]})]})},kd={proPursuit:"ProPursuit_proPursuit__i4D1u",ppContainer:"ProPursuit_ppContainer__mkJT+",ppTitle:"ProPursuit_ppTitle__FU9o5",instructionsBtnPp:"ProPursuit_instructionsBtnPp__UKEpi",ppGame:"ProPursuit_ppGame__GWr68",ppGrid:"ProPursuit_ppGrid__d7tLn",gridHeader:"ProPursuit_gridHeader__5L5Uh",gridCell:"ProPursuit_gridCell__OAVS6",guessWrong:"ProPursuit_guessWrong__u2RZV",guessRight:"ProPursuit_guessRight__Qew+V",guessClose:"ProPursuit_guessClose__0ghz3",ppGuessInputTag:"ProPursuit_ppGuessInputTag__jPjJm",customDropdown:"ProPursuit_customDropdown__DjyOH",dropdownItem:"ProPursuit_dropdownItem__6HteD",ppGuessCounter:"ProPursuit_ppGuessCounter__5NkRx",guessCounter:"ProPursuit_guessCounter__rY-7J",revealBtn:"ProPursuit_revealBtn__R2EXP",toastBackdrop:"ProPursuit_toastBackdrop__Pa7T7",toastContainer:"ProPursuit_toastContainer__WYGxk",toast:"ProPursuit_toast__LZ03b",toastHeader:"ProPursuit_toastHeader__09wlk",toastIcon:"ProPursuit_toastIcon__jt4K6",toastBody:"ProPursuit_toastBody__lmScZ",toastButtons:"ProPursuit_toastButtons__U2hGw",toastButton:"ProPursuit_toastButton__dwmub"},Ed="@firebase/database",Td="1.0.8";let Nd="";function Id(e){Nd=e}class Pd{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Jt(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Dd{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return en(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const jd=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Pd(t)}}catch(Mb){}return new Dd},Rd=jd("localStorage"),Od=jd("sessionStorage"),Ld=new An("@firebase/database"),Md=function(){let e=1;return function(){return e++}}(),Fd=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);if(s>=55296&&s<=56319){const t=s-55296;r++,kt(r<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(r)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t}(e),n=new an;n.update(t);const r=n.digest();return Nt.encodeByteArray(r)},Bd=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Bd.apply(null,n):e+="object"===typeof n?Zt(n):n,e+=" "}return e};let Ud=null,zd=!0;const Vd=function(e,t){kt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ld.logLevel=yn.VERBOSE,Ud=Ld.log.bind(Ld),t&&Od.set("logging_enabled",!0)):"function"===typeof e?Ud=e:(Ud=null,Od.remove("logging_enabled"))},Hd=function(){if(!0===zd&&(zd=!1,null===Ud&&!0===Od.get("logging_enabled")&&Vd(!0)),Ud){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Bd.apply(null,t);Ud(r)}},qd=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Hd(e,...n)}},Wd=function(){const e="FIREBASE INTERNAL ERROR: "+Bd(...arguments);Ld.error(e)},Kd=function(){const e="FIREBASE FATAL ERROR: ".concat(Bd(...arguments));throw Ld.error(e),new Error(e)},Qd=function(){const e="FIREBASE WARNING: "+Bd(...arguments);Ld.warn(e)},Gd=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Xd="[MIN_NAME]",Yd="[MAX_NAME]",Jd=function(e,t){if(e===t)return 0;if(e===Xd||t===Yd)return-1;if(t===Xd||e===Yd)return 1;{const n=of(e),r=of(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Zd=function(e,t){return e===t?0:e<t?-1:1},$d=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Zt(t))},ef=function(e){if("object"!==typeof e||null===e)return Zt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Zt(t[r]),n+=":",n+=ef(e[t[r]]);return n+="}",n},tf=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let s=0;s<n;s+=t)s+t>n?r.push(e.substring(s,n)):r.push(e.substring(s,s+t));return r};function nf(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const rf=function(e){kt(!Gd(e),"Invalid JSON number");const t=1023;let n,r,s,i,o;0===e?(r=0,s=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=i+t,s=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(r=0,s=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(s%2?1:0),s=Math.floor(s/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const sf=new RegExp("^-?(0*)\\d{1,10}$"),of=function(e){if(sf.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},af=function(e){try{e()}catch(Mb){setTimeout((()=>{const t=Mb.stack||"";throw Qd("Exception was thrown by user callback.",t),Mb}),Math.floor(0))}},lf=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class cf{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Qd('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class uf{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Hd("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qd(e)}}class hf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}hf.OWNER="owner";const df="5",ff=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pf="ac",mf="websocket",gf="long_polling";class yf{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rd.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function vf(e,t,n){let r;if(kt("string"===typeof t,"typeof type must == string"),kt("object"===typeof n,"typeof params must == object"),t===mf)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==gf)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const s=[];return nf(n,((e,t)=>{s.push(e+"="+t)})),r+s.join("&")}class _f{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;en(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Rt(this.counters_)}}const bf={},wf={};function Af(e){const t=e.toString();return bf[t]||(bf[t]=new _f),bf[t]}class Cf{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&af((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const xf="start";class Sf{constructor(e,t,n,r,s,i,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.transportSessionId=i,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qd(e),this.stats_=Af(t),this.urlFn=e=>(this.appCheckToken&&(e[pf]=this.appCheckToken),vf(t,gf,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Cf(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(qt()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new kf((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[s,i,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,s===xf)n.id=i,n.password=o;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[s,i]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(s,i)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[xf]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=df,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[pf]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&ff.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sf.forceAllow_=!0}static forceDisallow(){Sf.forceDisallow_=!0}static isAvailable(){return!qt()&&(!!Sf.forceAllow_||!Sf.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Zt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Pt(t),r=tf(n,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(qt())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Zt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class kf{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,qt())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Md(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=kf.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(Mb){Hd("frame writing exception"),Mb.stack&&Hd(Mb.stack),Hd(Mb)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Hd("No IE domain setting required")}catch(Mb){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){qt()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Hd("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(Mb){}}),Math.floor(1))}}let Ef=null;"undefined"!==typeof MozWebSocket?Ef=MozWebSocket:"undefined"!==typeof WebSocket&&(Ef=WebSocket);class Tf{constructor(e,t,n,r,s,i,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qd(this.connId),this.stats_=Af(t),this.connURL=Tf.connectionURL_(t,i,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,s){const i={};return i.v=df,!qt()&&"undefined"!==typeof location&&location.hostname&&ff.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[pf]=r),s&&(i.p=s),vf(e,mf,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rd.set("previous_websocket_failure",!0);try{let e;if(qt()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(df,"/").concat(Nd,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Ef(this.connURL,[],e)}catch(Mb){this.log_("Error instantiating WebSocket.");const t=Mb.message||Mb.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Tf.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ef&&!Tf.forceDisallow_}static previouslyFailed(){return Rd.isInMemoryStorage||!0===Rd.get("previous_websocket_failure")}markConnectionHealthy(){Rd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Jt(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(kt(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Zt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=tf(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(Mb){this.log_("Exception thrown from WebSocket.send():",Mb.message||Mb.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Tf.responsesRequiredToBeHealthy=2,Tf.healthyTimeout=3e4;class Nf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Sf,Tf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Tf&&Tf.isAvailable();let n=t&&!Tf.previouslyFailed();if(e.webSocketOnly&&(t||Qd("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Tf];else{const e=this.transports_=[];for(const t of Nf.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Nf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Nf.globalTransportInitialized_=!1;class If{constructor(e,t,n,r,s,i,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=i,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qd("c:"+this.id+":"),this.transportManager_=new Nf(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=lf((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=$d("t",e),n=$d("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=$d("t",e),n=$d("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=$d("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Wd("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Wd("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),df!==n&&Qd("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),lf((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lf((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Pf{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Df{constructor(e){this.allowedEvents_=e,this.listeners_={},kt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<s.length;e++)s[e].callback.apply(s[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!n||n===r[s].context))return void r.splice(s,1)}validateEventType_(e){kt(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class jf extends Df{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ht()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new jf}getInitialEvent(e){return kt("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Rf{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Of(){return new Rf("")}function Lf(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Mf(e){return e.pieces_.length-e.pieceNum_}function Ff(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Rf(e.pieces_,t)}function Bf(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Uf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function zf(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Rf(t,0)}function Vf(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Rf)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Rf(n,0)}function Hf(e){return e.pieceNum_>=e.pieces_.length}function qf(e,t){const n=Lf(e),r=Lf(t);if(null===n)return t;if(n===r)return qf(Ff(e),Ff(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Wf(e,t){const n=Uf(e,0),r=Uf(t,0);for(let s=0;s<n.length&&s<r.length;s++){const e=Jd(n[s],r[s]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Kf(e,t){if(Mf(e)!==Mf(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Qf(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Mf(e)>Mf(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Gf{constructor(e,t){this.errorPrefix_=t,this.parts_=Uf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=cn(this.parts_[n]);Xf(this)}}function Xf(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Yf(e))}function Yf(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Jf extends Df{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Jf}getInitialEvent(e){return kt("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Zf=1e3;class $f extends Pf{constructor(e,t,n,r,s,i,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=$f.nextPersistentConnectionId_++,this.log_=qd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!qt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&jf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,s={r:r,a:e,b:t};this.log_(Zt(s)),kt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ut,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const s=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+s),this.listens.has(i)||this.listens.set(i,new Map),kt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),kt(!this.listens.get(i).has(s),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(i).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const s={p:n};e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(s=>{const i=s.d,o=s.s;$f.warnOnListenWarnings_(i,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",s),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,i))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&en(e,"w")){const n=tn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Qd("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=$t(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=$t(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),kt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const s={p:e};r&&(s.q=n,s.t=r),this.sendRequest("n",s)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const s={p:t,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,s){this.initConnection_();const i={p:t,d:n};void 0!==s&&(i.h=s),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zt(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Wd("Unrecognized action received from server: "+Zt(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){kt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zf),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+$f.nextConnectionId_++,s=this.lastSessionId;let i=!1,o=null;const a=function(){o?o.close():(i=!0,n())},l=function(e){kt(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);i?Hd("getToken() completed but was canceled"):(Hd("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new If(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Qd(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),s))}catch(Wd){this.log_("Failed to get token: "+Wd),i||(this.repoInfo_.nodeAdmin&&Qd(Wd),a())}}}interrupt(e){Hd("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Hd("Resuming connection for reason: "+e),delete this.interruptReasons_[e],nn(this.interruptReasons_)&&(this.reconnectDelay_=Zf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>ef(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Rf(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Hd("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Hd("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";qt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Nd.replace(/\./g,"-")]=1,Ht()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jf.getInstance().currentlyOnline();return nn(this.interruptReasons_)&&e}}$f.nextPersistentConnectionId_=0,$f.nextConnectionId_=0;class ep{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ep(e,t)}}class tp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new ep(Xd,e),r=new ep(Xd,t);return 0!==this.compare(n,r)}minPost(){return ep.MIN}}let np;class rp extends tp{static get __EMPTY_NODE(){return np}static set __EMPTY_NODE(e){np=e}compare(e,t){return Jd(e.name,t.name)}isDefinedOn(e){throw Et("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ep.MIN}maxPost(){return new ep(Yd,np)}makePost(e,t){return kt("string"===typeof e,"KeyIndex indexValue must always be a string."),new ep(e,np)}toString(){return".key"}}const sp=new rp;class ip{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class op{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:op.RED,this.left=null!=r?r:ap.EMPTY_NODE,this.right=null!=s?s:ap.EMPTY_NODE}copy(e,t,n,r,s){return new op(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ap.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ap.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,op.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,op.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}op.RED=!0,op.BLACK=!1;class ap{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ap.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new ap(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,op.BLACK,null,null))}remove(e){return new ap(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,op.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ip(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ip(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ip(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ip(this.root_,null,this.comparator_,!0,e)}}function lp(e,t){return Jd(e.name,t.name)}function cp(e,t){return Jd(e,t)}let up;ap.EMPTY_NODE=new class{copy(e,t,n,r,s){return this}insert(e,t,n){return new op(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const hp=function(e){return"number"===typeof e?"number:"+rf(e):"string:"+e},dp=function(e){if(e.isLeafNode()){const t=e.val();kt("string"===typeof t||"number"===typeof t||"object"===typeof t&&en(t,".sv"),"Priority must be a string or number.")}else kt(e===up||e.isEmpty(),"priority of unexpected type.");kt(e===up||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let fp,pp,mp;class gp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gp.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,kt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),dp(this.priorityNode_)}static set __childrenNodeConstructor(e){fp=e}static get __childrenNodeConstructor(){return fp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new gp(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:gp.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Hf(e)?this:".priority"===Lf(e)?this.priorityNode_:gp.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:gp.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Lf(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(kt(".priority"!==n||1===Mf(e),".priority must be the last token in a path"),this.updateImmediateChild(n,gp.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ff(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+hp(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?rf(this.value_):this.value_,this.lazyHash_=Fd(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===gp.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof gp.__childrenNodeConstructor?-1:(kt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=gp.VALUE_TYPE_ORDER.indexOf(t),s=gp.VALUE_TYPE_ORDER.indexOf(n);return kt(r>=0,"Unknown leaf type: "+t),kt(s>=0,"Unknown leaf type: "+n),r===s?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}gp.VALUE_TYPE_ORDER=["object","boolean","number","string"];const yp=new class extends tp{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),s=n.compareTo(r);return 0===s?Jd(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ep.MIN}maxPost(){return new ep(Yd,new gp("[PRIORITY-POST]",mp))}makePost(e,t){const n=pp(e);return new ep(t,new gp("[PRIORITY-POST]",n))}toString(){return".priority"}},vp=Math.log(2);class _p{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/vp,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bp=function(e,t,n,r){e.sort(t);const s=function(t,r){const i=r-t;let o,a;if(0===i)return null;if(1===i)return o=e[t],a=n?n(o):o,new op(a,o.node,op.BLACK,null,null);{const l=parseInt(i/2,10)+t,c=s(t,l),u=s(l+1,r);return o=e[l],a=n?n(o):o,new op(a,o.node,op.BLACK,c,u)}},i=function(t){let r=null,i=null,o=e.length;const a=function(t,r){const i=o-t,a=o;o-=t;const c=s(i+1,a),u=e[i],h=n?n(u):u;l(new op(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,op.BLACK):(a(r,op.BLACK),a(r,op.RED))}return i}(new _p(e.length));return new ap(r||t,i)};let wp;const Ap={};class Cp{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return kt(Ap&&yp,"ChildrenNode.ts has not been loaded"),wp=wp||new Cp({".priority":Ap},{".priority":yp}),wp}get(e){const t=tn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ap?t:null}hasIndex(e){return en(this.indexSet_,e.toString())}addIndex(e,t){kt(e!==sp,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const s=t.getIterator(ep.Wrap);let i,o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=s.getNext();i=r?bp(n,e.getCompare()):Ap;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=i,new Cp(c,l)}addToIndexes(e,t){const n=rn(this.indexes_,((n,r)=>{const s=tn(this.indexSet_,r);if(kt(s,"Missing index implementation for "+r),n===Ap){if(s.isDefinedOn(e.node)){const n=[],r=t.getIterator(ep.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),bp(n,s.getCompare())}return Ap}{const r=t.get(e.name);let s=n;return r&&(s=s.remove(new ep(e.name,r))),s.insert(e,e.node)}}));return new Cp(n,this.indexSet_)}removeFromIndexes(e,t){const n=rn(this.indexes_,(n=>{if(n===Ap)return n;{const r=t.get(e.name);return r?n.remove(new ep(e.name,r)):n}}));return new Cp(n,this.indexSet_)}}let xp;class Sp{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&dp(this.priorityNode_),this.children_.isEmpty()&&kt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xp||(xp=new Sp(new ap(cp),null,Cp.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xp}updatePriority(e){return this.children_.isEmpty()?this:new Sp(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?xp:t}}getChild(e){const t=Lf(e);return null===t?this:this.getImmediateChild(t).getChild(Ff(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(kt(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new ep(e,t);let r,s;t.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(n,this.children_));const i=r.isEmpty()?xp:this.priorityNode_;return new Sp(r,i,s)}}updateChild(e,t){const n=Lf(e);if(null===n)return t;{kt(".priority"!==Lf(e)||1===Mf(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Ff(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,s=!0;if(this.forEachChild(yp,((i,o)=>{t[i]=o.val(e),n++,s&&Sp.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):s=!1})),!e&&s&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+hp(this.getPriority().val())+":"),this.forEachChild(yp,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Fd(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new ep(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ep(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ep(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,ep.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,ep.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===kp?-1:0}withIndex(e){if(e===sp||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Sp(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===sp||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(yp),n=t.getIterator(yp);let r=e.getNext(),s=n.getNext();for(;r&&s;){if(r.name!==s.name||!r.node.equals(s.node))return!1;r=e.getNext(),s=n.getNext()}return null===r&&null===s}return!1}return!1}}resolveIndex_(e){return e===sp?null:this.indexMap_.get(e.toString())}}Sp.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const kp=new class extends Sp{constructor(){super(new ap(cp),Sp.EMPTY_NODE,Cp.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Sp.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ep,{MIN:{value:new ep(Xd,Sp.EMPTY_NODE)},MAX:{value:new ep(Yd,kp)}}),rp.__EMPTY_NODE=Sp.EMPTY_NODE,gp.__childrenNodeConstructor=Sp,up=kp,function(e){mp=e}(kp);function Ep(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Sp.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),kt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new gp(e,Ep(t))}if(e instanceof Array){let n=Sp.EMPTY_NODE;return nf(e,((t,r)=>{if(en(e,t)&&"."!==t.substring(0,1)){const e=Ep(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Ep(t))}{const n=[];let r=!1;if(nf(e,((e,t)=>{if("."!==e.substring(0,1)){const s=Ep(t);s.isEmpty()||(r=r||!s.getPriority().isEmpty(),n.push(new ep(e,s)))}})),0===n.length)return Sp.EMPTY_NODE;const s=bp(n,lp,(e=>e.name),cp);if(r){const e=bp(n,yp.getCompare());return new Sp(s,Ep(t),new Cp({".priority":e},{".priority":yp}))}return new Sp(s,Ep(t),Cp.Default)}}!function(e){pp=e}(Ep);class Tp extends tp{constructor(e){super(),this.indexPath_=e,kt(!Hf(e)&&".priority"!==Lf(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),s=n.compareTo(r);return 0===s?Jd(e.name,t.name):s}makePost(e,t){const n=Ep(e),r=Sp.EMPTY_NODE.updateChild(this.indexPath_,n);return new ep(t,r)}maxPost(){const e=Sp.EMPTY_NODE.updateChild(this.indexPath_,kp);return new ep(Yd,e)}toString(){return Uf(this.indexPath_,0).join("/")}}const Np=new class extends tp{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Jd(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ep.MIN}maxPost(){return ep.MAX}makePost(e,t){const n=Ep(e);return new ep(t,n)}toString(){return".value"}};function Ip(e){return{type:"value",snapshotNode:e}}function Pp(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Dp(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function jp(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Rp{constructor(e){this.index_=e}updateChild(e,t,n,r,s,i){kt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=i&&(n.isEmpty()?e.hasChild(t)?i.trackChildChange(Dp(t,o)):kt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?i.trackChildChange(Pp(t,n)):i.trackChildChange(jp(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(yp,((e,r)=>{t.hasChild(e)||n.trackChildChange(Dp(e,r))})),t.isLeafNode()||t.forEachChild(yp,((t,r)=>{if(e.hasChild(t)){const s=e.getImmediateChild(t);s.equals(r)||n.trackChildChange(jp(t,r,s))}else n.trackChildChange(Pp(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Sp.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Op{constructor(e){this.indexedFilter_=new Rp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Op.getStartPost_(e),this.endPost_=Op.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,s,i){return this.matches(new ep(t,n))||(n=Sp.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,s,i)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Sp.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Sp.EMPTY_NODE);const s=this;return t.forEachChild(yp,((e,t)=>{s.matches(new ep(e,t))||(r=r.updateImmediateChild(e,Sp.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Lp{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Op(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,s,i){return this.rangedFilter_.matches(new ep(t,n))||(n=Sp.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,s,i):this.fullLimitUpdateChild_(e,t,n,s,i)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Sp.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Sp.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Sp.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Sp.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,s){let i;if(this.reverse_){const e=this.index_.getCompare();i=(t,n)=>e(n,t)}else i=this.index_.getCompare();const o=e;kt(o.numChildren()===this.limit_,"");const a=new ep(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:i(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=s&&s.trackChildChange(jp(t,n,e)),o.updateImmediateChild(t,n);{null!=s&&s.trackChildChange(Dp(t,e));const n=o.updateImmediateChild(t,Sp.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=s&&s.trackChildChange(Pp(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&i(l,a)>=0?(null!=s&&(s.trackChildChange(Dp(l.name,l.node)),s.trackChildChange(Pp(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,Sp.EMPTY_NODE)):e}}class Mp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yp}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return kt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return kt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xd}hasEnd(){return this.endSet_}getIndexEndValue(){return kt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return kt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return kt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yp}copy(){const e=new Mp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Fp(e){const t={};if(e.isDefault())return t;let n;if(e.index_===yp?n="$priority":e.index_===Np?n="$value":e.index_===sp?n="$key":(kt(e.index_ instanceof Tp,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Zt(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Zt(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Zt(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Zt(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Zt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Bp(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==yp&&(t.i=e.index_.toString()),t}class Up extends Pf{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=qd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(kt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const i=Up.getListenId_(e,n),o={};this.listens_[i]=o;const a=Fp(e._queryParams);this.restRequest_(s+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(s,a,!1,n),tn(this.listens_,i)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Up.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Fp(e._queryParams),n=e._path.toString(),r=new Ut;return this.restRequest_(n+".json",t,((e,t)=>{let s=t;404===e&&(s=null,e=null),null===e?(this.onDataUpdate_(n,s,!1,null),r.resolve(s)):r.reject(new Error(s))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[s,i]=r;s&&s.accessToken&&(t.auth=s.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Jt(a.responseText)}catch(Mb){Qd("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Qd("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class zp{constructor(){this.rootNode_=Sp.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Vp(){return{value:null,children:new Map}}function Hp(e,t,n){if(Hf(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Lf(t);e.children.has(r)||e.children.set(r,Vp());Hp(e.children.get(r),t=Ff(t),n)}}function qp(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{qp(r,new Rf(t.toString()+"/"+e),n)}))}class Wp{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&nf(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Kp{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Wp(e);const n=1e4+2e4*Math.random();lf(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;nf(e,((e,r)=>{r>0&&en(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),lf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Qp;function Gp(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Qp||(Qp={}));class Xp{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Qp.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Hf(this.path)){if(null!=this.affectedTree.value)return kt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Rf(e));return new Xp(Of(),t,this.revert)}}return kt(Lf(this.path)===e,"operationForChild called for unrelated child."),new Xp(Ff(this.path),this.affectedTree,this.revert)}}class Yp{constructor(e,t){this.source=e,this.path=t,this.type=Qp.LISTEN_COMPLETE}operationForChild(e){return Hf(this.path)?new Yp(this.source,Of()):new Yp(this.source,Ff(this.path))}}class Jp{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Qp.OVERWRITE}operationForChild(e){return Hf(this.path)?new Jp(this.source,Of(),this.snap.getImmediateChild(e)):new Jp(this.source,Ff(this.path),this.snap)}}class Zp{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Qp.MERGE}operationForChild(e){if(Hf(this.path)){const t=this.children.subtree(new Rf(e));return t.isEmpty()?null:t.value?new Jp(this.source,Of(),t.value):new Zp(this.source,Of(),t)}return kt(Lf(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zp(this.source,Ff(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $p{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Hf(e))return this.isFullyInitialized()&&!this.filtered_;const t=Lf(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class em{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function tm(e,t,n,r,s,i){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Et("Should only compare child_ events.");const r=new ep(t.childName,t.snapshotNode),s=new ep(n.childName,n.snapshotNode);return e.index_.compare(r,s)}(e,t,n))),o.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,i);s.forEach((s=>{s.respondsTo(n.type)&&t.push(s.createEvent(r,e.query_))}))}))}function nm(e,t){return{eventCache:e,serverCache:t}}function rm(e,t,n,r){return nm(new $p(t,n,r),e.serverCache)}function sm(e,t,n,r){return nm(e.eventCache,new $p(t,n,r))}function im(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function om(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let am;class lm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(am||(am=new ap(Zd)),am);this.value=e,this.children=t}static fromObject(e){let t=new lm(null);return nf(e,((e,n)=>{t=t.set(new Rf(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Of(),value:this.value};if(Hf(e))return null;{const n=Lf(e),r=this.children.get(n);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Ff(e),t);if(null!=s){return{path:Vf(new Rf(n),s.path),value:s.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Hf(e))return this;{const t=Lf(e),n=this.children.get(t);return null!==n?n.subtree(Ff(e)):new lm(null)}}set(e,t){if(Hf(e))return new lm(t,this.children);{const n=Lf(e),r=(this.children.get(n)||new lm(null)).set(Ff(e),t),s=this.children.insert(n,r);return new lm(this.value,s)}}remove(e){if(Hf(e))return this.children.isEmpty()?new lm(null):new lm(null,this.children);{const t=Lf(e),n=this.children.get(t);if(n){const r=n.remove(Ff(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new lm(null):new lm(this.value,s)}return this}}get(e){if(Hf(e))return this.value;{const t=Lf(e),n=this.children.get(t);return n?n.get(Ff(e)):null}}setTree(e,t){if(Hf(e))return t;{const n=Lf(e),r=(this.children.get(n)||new lm(null)).setTree(Ff(e),t);let s;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new lm(this.value,s)}}fold(e){return this.fold_(Of(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,s)=>{n[r]=s.fold_(Vf(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Of(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Hf(e))return null;{const r=Lf(e),s=this.children.get(r);return s?s.findOnPath_(Ff(e),Vf(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Of(),t)}foreachOnPath_(e,t,n){if(Hf(e))return this;{this.value&&n(t,this.value);const r=Lf(e),s=this.children.get(r);return s?s.foreachOnPath_(Ff(e),Vf(t,r),n):new lm(null)}}foreach(e){this.foreach_(Of(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Vf(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class cm{constructor(e){this.writeTree_=e}static empty(){return new cm(new lm(null))}}function um(e,t,n){if(Hf(t))return new cm(new lm(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const s=r.path;let i=r.value;const o=qf(s,t);return i=i.updateChild(o,n),new cm(e.writeTree_.set(s,i))}{const r=new lm(n),s=e.writeTree_.setTree(t,r);return new cm(s)}}}function hm(e,t,n){let r=e;return nf(n,((e,n)=>{r=um(r,Vf(t,e),n)})),r}function dm(e,t){if(Hf(t))return cm.empty();{const n=e.writeTree_.setTree(t,new lm(null));return new cm(n)}}function fm(e,t){return null!=pm(e,t)}function pm(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(qf(n.path,t)):null}function mm(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(yp,((e,n)=>{t.push(new ep(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new ep(e,n.value))})),t}function gm(e,t){if(Hf(t))return e;{const n=pm(e,t);return new cm(null!=n?new lm(n):e.writeTree_.subtree(t))}}function ym(e){return e.writeTree_.isEmpty()}function vm(e,t){return _m(Of(),e.writeTree_,t)}function _m(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,s)=>{".priority"===t?(kt(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=_m(Vf(e,t),s,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Vf(e,".priority"),r)),n}}function bm(e,t){return jm(t,e)}function wm(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));kt(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let s=r.visible,i=!1,o=e.allWrites.length-1;for(;s&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Am(t,r.path)?s=!1:Qf(r.path,t.path)&&(i=!0)),o--}if(s){if(i)return function(e){e.visibleWrites=xm(e.allWrites,Cm,Of()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=dm(e.visibleWrites,r.path);else{nf(r.children,(t=>{e.visibleWrites=dm(e.visibleWrites,Vf(r.path,t))}))}return!0}return!1}function Am(e,t){if(e.snap)return Qf(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Qf(Vf(e.path,n),t))return!0;return!1}function Cm(e){return e.visible}function xm(e,t,n){let r=cm.empty();for(let s=0;s<e.length;++s){const i=e[s];if(t(i)){const e=i.path;let t;if(i.snap)Qf(n,e)?(t=qf(n,e),r=um(r,t,i.snap)):Qf(e,n)&&(t=qf(e,n),r=um(r,Of(),i.snap.getChild(t)));else{if(!i.children)throw Et("WriteRecord should have .snap or .children");if(Qf(n,e))t=qf(n,e),r=hm(r,t,i.children);else if(Qf(e,n))if(t=qf(e,n),Hf(t))r=hm(r,Of(),i.children);else{const e=tn(i.children,Lf(t));if(e){const n=e.getChild(Ff(t));r=um(r,Of(),n)}}}}}return r}function Sm(e,t,n,r,s){if(r||s){const i=gm(e.visibleWrites,t);if(!s&&ym(i))return n;if(s||null!=n||fm(i,Of())){const i=function(e){return(e.visible||s)&&(!r||!~r.indexOf(e.writeId))&&(Qf(e.path,t)||Qf(t,e.path))};return vm(xm(e.allWrites,i,t),n||Sp.EMPTY_NODE)}return null}{const r=pm(e.visibleWrites,t);if(null!=r)return r;{const r=gm(e.visibleWrites,t);if(ym(r))return n;if(null!=n||fm(r,Of())){return vm(r,n||Sp.EMPTY_NODE)}return null}}}function km(e,t,n,r){return Sm(e.writeTree,e.treePath,t,n,r)}function Em(e,t){return function(e,t,n){let r=Sp.EMPTY_NODE;const s=pm(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(yp,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const s=gm(e.visibleWrites,t);return n.forEachChild(yp,((e,t)=>{const n=vm(gm(s,new Rf(e)),t);r=r.updateImmediateChild(e,n)})),mm(s).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return mm(gm(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Tm(e,t,n,r){return function(e,t,n,r,s){kt(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Vf(t,n);if(fm(e.visibleWrites,i))return null;{const t=gm(e.visibleWrites,i);return ym(t)?s.getChild(n):vm(t,s.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Nm(e,t){return function(e,t){return pm(e.visibleWrites,t)}(e.writeTree,Vf(e.treePath,t))}function Im(e,t,n,r,s,i){return function(e,t,n,r,s,i,o){let a;const l=gm(e.visibleWrites,t),c=pm(l,Of());if(null!=c)a=c;else{if(null==n)return[];a=vm(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<s;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,s,i)}function Pm(e,t,n){return function(e,t,n,r){const s=Vf(t,n),i=pm(e.visibleWrites,s);if(null!=i)return i;if(r.isCompleteForChild(n))return vm(gm(e.visibleWrites,s),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Dm(e,t){return jm(Vf(e.treePath,t),e.writeTree)}function jm(e,t){return{treePath:e,writeTree:t}}class Rm{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;kt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),kt(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(n,jp(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(n,Dp(n,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(n,Pp(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw Et("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,jp(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Om=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Lm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new $p(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pm(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:om(this.viewCache_),s=Im(this.writes_,r,t,1,n,e);return 0===s.length?null:s[0]}}function Mm(e,t,n,r,s){const i=new Rm;let o,a;if(n.type===Qp.OVERWRITE){const l=n;l.source.fromUser?o=Um(e,t,l.path,l.snap,r,s,i):(kt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Hf(l.path),o=Bm(e,t,l.path,l.snap,r,s,a,i))}else if(n.type===Qp.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,s,i,o){let a=t;return r.foreach(((r,l)=>{const c=Vf(n,r);zm(t,Lf(c))&&(a=Um(e,a,c,l,s,i,o))})),r.foreach(((r,l)=>{const c=Vf(n,r);zm(t,Lf(c))||(a=Um(e,a,c,l,s,i,o))})),a}(e,t,l.path,l.children,r,s,i):(kt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Hm(e,t,l.path,l.children,r,s,a,i))}else if(n.type===Qp.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,s,i){let o;if(null!=Nm(r,n))return t;{const a=new Lm(r,t,s),l=t.eventCache.getNode();let c;if(Hf(n)||".priority"===Lf(n)){let n;if(t.serverCache.isFullyInitialized())n=km(r,om(t));else{const e=t.serverCache.getNode();kt(e instanceof Sp,"serverChildren would be complete if leaf node"),n=Em(r,e)}c=e.filter.updateFullNode(l,n,i)}else{const s=Lf(n);let u=Pm(r,s,t.serverCache);null==u&&t.serverCache.isCompleteForChild(s)&&(u=l.getImmediateChild(s)),c=null!=u?e.filter.updateChild(l,s,u,Ff(n),a,i):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(l,s,Sp.EMPTY_NODE,Ff(n),a,i):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=km(r,om(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,i)))}return o=t.serverCache.isFullyInitialized()||null!=Nm(r,Of()),rm(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,s,i):function(e,t,n,r,s,i,o){if(null!=Nm(s,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Hf(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bm(e,t,n,l.getNode().getChild(n),s,i,a,o);if(Hf(n)){let r=new lm(null);return l.getNode().forEachChild(sp,((e,t)=>{r=r.set(new Rf(e),t)})),Hm(e,t,n,r,s,i,a,o)}return t}{let c=new lm(null);return r.foreach(((e,t)=>{const r=Vf(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),Hm(e,t,n,c,s,i,a,o)}}(e,t,a.path,a.affectedTree,r,s,i)}else{if(n.type!==Qp.LISTEN_COMPLETE)throw Et("Unknown operation type: "+n.type);o=function(e,t,n,r,s){const i=t.serverCache,o=sm(t,i.getNode(),i.isFullyInitialized()||Hf(n),i.isFiltered());return Fm(e,o,n,r,Om,s)}(e,t,n.path,r,i)}const l=i.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=im(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Ip(im(t)))}}(t,o,l),{viewCache:o,changes:l}}function Fm(e,t,n,r,s,i){const o=t.eventCache;if(null!=Nm(r,n))return t;{let a,l;if(Hf(n))if(kt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=om(t),s=Em(r,n instanceof Sp?n:Sp.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),s,i)}else{const n=km(r,om(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,i)}else{const c=Lf(n);if(".priority"===c){kt(1===Mf(n),"Can't have a priority with additional path components");const s=o.getNode();l=t.serverCache.getNode();const i=Tm(r,n,s,l);a=null!=i?e.filter.updatePriority(s,i):o.getNode()}else{const u=Ff(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Tm(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=Pm(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,s,i):o.getNode()}}return rm(t,a,o.isFullyInitialized()||Hf(n),e.filter.filtersNodes())}}function Bm(e,t,n,r,s,i,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Hf(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Lf(n);if(!l.isCompleteForPath(n)&&Mf(n)>1)return t;const s=Ff(n),i=l.getNode().getImmediateChild(e).updateChild(s,r);c=".priority"===e?u.updatePriority(l.getNode(),i):u.updateChild(l.getNode(),e,i,s,Om,null)}const h=sm(t,c,l.isFullyInitialized()||Hf(n),u.filtersNodes());return Fm(e,h,n,s,new Lm(s,h,i),a)}function Um(e,t,n,r,s,i,o){const a=t.eventCache;let l,c;const u=new Lm(s,t,i);if(Hf(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=rm(t,c,!0,e.filter.filtersNodes());else{const s=Lf(n);if(".priority"===s)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=rm(t,c,a.isFullyInitialized(),a.isFiltered());else{const i=Ff(n),c=a.getNode().getImmediateChild(s);let h;if(Hf(i))h=r;else{const e=u.getCompleteChild(s);h=null!=e?".priority"===Bf(i)&&e.getChild(zf(i)).isEmpty()?e:e.updateChild(i,r):Sp.EMPTY_NODE}if(c.equals(h))l=t;else{l=rm(t,e.filter.updateChild(a.getNode(),s,h,i,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function zm(e,t){return e.eventCache.isCompleteForChild(t)}function Vm(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Hm(e,t,n,r,s,i,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Hf(n)?r:new lm(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=Vm(0,t.serverCache.getNode().getImmediateChild(n),r);c=Bm(e,c,new Rf(n),l,s,i,o,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Vm(0,t.serverCache.getNode().getImmediateChild(n),r);c=Bm(e,c,new Rf(n),l,s,i,o,a)}})),c}class qm{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Rp(n.getIndex()),s=(i=n).loadsAllData()?new Rp(i.getIndex()):i.hasLimit()?new Lp(i):new Op(i);var i;this.processor_=function(e){return{filter:e}}(s);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(Sp.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Sp.EMPTY_NODE,a.getNode(),null),u=new $p(l,o.isFullyInitialized(),r.filtersNodes()),h=new $p(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=nm(h,u),this.eventGenerator_=new em(this.query_)}get query(){return this.query_}}function Wm(e,t){const n=om(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Hf(t)&&!n.getImmediateChild(Lf(t)).isEmpty())?n.getChild(t):null}function Km(e){return 0===e.eventRegistrations_.length}function Qm(e,t,n){const r=[];if(n){kt(null==t,"A cancel should cancel all event registrations.");const s=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,s);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const s=e.eventRegistrations_[r];if(s.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(s)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Gm(e,t,n,r){t.type===Qp.MERGE&&null!==t.source.queryId&&(kt(om(e.viewCache_),"We should always have a full cache before handling merges"),kt(im(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,i=Mm(e.processor_,s,t,n,r);var o,a;return o=e.processor_,a=i.viewCache,kt(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),kt(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),kt(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,Xm(e,i.changes,i.viewCache.eventCache.getNode(),null)}function Xm(e,t,n,r){const s=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const s=[],i=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),tm(e,s,"child_removed",t,r,n),tm(e,s,"child_added",t,r,n),tm(e,s,"child_moved",i,r,n),tm(e,s,"child_changed",t,r,n),tm(e,s,"value",t,r,n),s}(e.eventGenerator_,t,n,s)}let Ym,Jm;class Zm{constructor(){this.views=new Map}}function $m(e,t,n,r){const s=t.source.queryId;if(null!==s){const i=e.views.get(s);return kt(null!=i,"SyncTree gave us an op for an invalid query."),Gm(i,t,n,r)}{let s=[];for(const i of e.views.values())s=s.concat(Gm(i,t,n,r));return s}}function eg(e,t,n,r,s){const i=t._queryIdentifier,o=e.views.get(i);if(!o){let e=km(n,s?r:null),i=!1;e?i=!0:r instanceof Sp?(e=Em(n,r),i=!1):(e=Sp.EMPTY_NODE,i=!1);const o=nm(new $p(e,i,!1),new $p(r,s,!1));return new qm(t,o)}return o}function tg(e,t,n,r,s,i){const o=eg(e,t,r,s,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(yp,((e,t)=>{r.push(Pp(e,t))}));return n.isFullyInitialized()&&r.push(Ip(n.getNode())),Xm(e,r,n.getNode(),t)}(o,n)}function ng(e,t,n,r){const s=t._queryIdentifier,i=[];let o=[];const a=ag(e);if("default"===s)for(const[l,c]of e.views.entries())o=o.concat(Qm(c,n,r)),Km(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const t=e.views.get(s);t&&(o=o.concat(Qm(t,n,r)),Km(t)&&(e.views.delete(s),t.query._queryParams.loadsAllData()||i.push(t.query)))}return a&&!ag(e)&&i.push(new(kt(Ym,"Reference.ts has not been loaded"),Ym)(t._repo,t._path)),{removed:i,events:o}}function rg(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function sg(e,t){let n=null;for(const r of e.views.values())n=n||Wm(r,t);return n}function ig(e,t){if(t._queryParams.loadsAllData())return lg(e);{const n=t._queryIdentifier;return e.views.get(n)}}function og(e,t){return null!=ig(e,t)}function ag(e){return null!=lg(e)}function lg(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let cg=1;class ug{constructor(e){this.listenProvider_=e,this.syncPointTree_=new lm(null),this.pendingWriteTree_={visibleWrites:cm.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hg(e,t,n,r,s){return function(e,t,n,r,s){kt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:s}),s&&(e.visibleWrites=um(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,s),s?bg(e,new Jp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function dg(e,t,n,r){!function(e,t,n,r){kt(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=hm(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const s=lm.fromObject(n);return bg(e,new Zp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,s))}function fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(wm(e.pendingWriteTree_,t)){let t=new lm(null);return null!=r.snap?t=t.set(Of(),!0):nf(r.children,(e=>{t=t.set(new Rf(e),!0)})),bg(e,new Xp(r.path,t,n))}return[]}function pg(e,t,n){return bg(e,new Jp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function mg(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=t._path,o=e.syncPointTree_.get(i);let a=[];if(o&&("default"===t._queryIdentifier||og(o,t))){const l=ng(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),s=e.syncPointTree_.findOnPath(i,((e,t)=>ag(t)));if(n&&!s){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&ag(t)){return[lg(t)]}{let e=[];return t&&(e=rg(t)),nf(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],s=r.query,i=Cg(e,r);e.listenProvider_.startListening(Ng(s),xg(e,s),i.hashFn,i.onComplete)}}}if(!s&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Ng(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Sg(t));e.listenProvider_.stopListening(Ng(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Sg(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function gg(e,t,n,r){const s=kg(e,r);if(null!=s){const r=Eg(s),i=r.path,o=r.queryId,a=qf(i,t);return Tg(e,i,new Jp(Gp(o),a,n))}return[]}function yg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=t._path;let i=null,o=!1;e.syncPointTree_.foreachOnPath(s,((e,t)=>{const n=qf(e,s);i=i||sg(t,n),o=o||ag(t)}));let a,l=e.syncPointTree_.get(s);if(l?(o=o||ag(l),i=i||sg(l,Of())):(l=new Zm,e.syncPointTree_=e.syncPointTree_.set(s,l)),null!=i)a=!0;else{a=!1,i=Sp.EMPTY_NODE;e.syncPointTree_.subtree(s).foreachChild(((e,t)=>{const n=sg(t,Of());n&&(i=i.updateImmediateChild(e,n))}))}const c=og(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Sg(t);kt(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=cg++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=tg(l,t,n,bm(e.pendingWriteTree_,s),i,a);if(!c&&!o&&!r){const n=ig(l,t);u=u.concat(function(e,t,n){const r=t._path,s=xg(e,t),i=Cg(e,n),o=e.listenProvider_.startListening(Ng(t),s,i.hashFn,i.onComplete),a=e.syncPointTree_.subtree(r);if(s)kt(!ag(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!Hf(e)&&t&&ag(t))return[lg(t).query];{let e=[];return t&&(e=e.concat(rg(t).map((e=>e.query)))),nf(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Ng(r),xg(e,r))}}return o}(e,t,n))}return u}function vg(e,t,n){const r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=sg(n,qf(e,t));if(r)return r}));return Sm(r,t,s,n,!0)}function _g(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const s=qf(e,n);r=r||sg(t,s)}));let s=e.syncPointTree_.get(n);s?r=r||sg(s,Of()):(s=new Zm,e.syncPointTree_=e.syncPointTree_.set(n,s));const i=null!=r,o=i?new $p(r,!0,!1):null;return function(e){return im(e.viewCache_)}(eg(s,t,bm(e.pendingWriteTree_,t._path),i?o.getNode():Sp.EMPTY_NODE,i))}function bg(e,t){return wg(t,e.syncPointTree_,null,bm(e.pendingWriteTree_,Of()))}function wg(e,t,n,r){if(Hf(e.path))return Ag(e,t,n,r);{const s=t.get(Of());null==n&&null!=s&&(n=sg(s,Of()));let i=[];const o=Lf(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Dm(r,o);i=i.concat(wg(a,l,e,t))}return s&&(i=i.concat($m(s,e,r,n))),i}}function Ag(e,t,n,r){const s=t.get(Of());null==n&&null!=s&&(n=sg(s,Of()));let i=[];return t.children.inorderTraversal(((t,s)=>{const o=n?n.getImmediateChild(t):null,a=Dm(r,t),l=e.operationForChild(t);l&&(i=i.concat(Ag(l,s,o,a)))})),s&&(i=i.concat($m(s,e,r,n))),i}function Cg(e,t){const n=t.query,r=xg(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Sp.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=kg(e,n);if(r){const n=Eg(r),s=n.path,i=n.queryId,o=qf(s,t);return Tg(e,s,new Yp(Gp(i),o))}return[]}(e,n._path,r):function(e,t){return bg(e,new Yp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return mg(e,n,null,r)}}}}function xg(e,t){const n=Sg(t);return e.queryToTagMap.get(n)}function Sg(e){return e._path.toString()+"$"+e._queryIdentifier}function kg(e,t){return e.tagToQueryMap.get(t)}function Eg(e){const t=e.indexOf("$");return kt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Rf(e.substr(0,t))}}function Tg(e,t,n){const r=e.syncPointTree_.get(t);kt(r,"Missing sync point for query tag that we're tracking");return $m(r,n,bm(e.pendingWriteTree_,t),null)}function Ng(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(kt(Jm,"Reference.ts has not been loaded"),Jm)(e._repo,e._path):e}class Ig{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ig(t)}node(){return this.node_}}class Pg{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Vf(this.path_,e);return new Pg(this.syncTree_,t)}node(){return vg(this.syncTree_,this.path_)}}const Dg=function(e,t,n){return e&&"object"===typeof e?(kt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?jg(e[".sv"],t,n):"object"===typeof e[".sv"]?Rg(e[".sv"],t):void kt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},jg=function(e,t,n){if("timestamp"===e)return n.timestamp;kt(!1,"Unexpected server value: "+e)},Rg=function(e,t,n){e.hasOwnProperty("increment")||kt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&kt(!1,"Unexpected increment value: "+r);const s=t.node();if(kt(null!==s&&"undefined"!==typeof s,"Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const i=s.getValue();return"number"!==typeof i?r:i+r},Og=function(e,t,n,r){return Mg(t,new Pg(n,e),r)},Lg=function(e,t,n){return Mg(e,new Ig(t),n)};function Mg(e,t,n){const r=e.getPriority().val(),s=Dg(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const r=e,i=Dg(r.getValue(),t,n);return i!==r.getValue()||s!==r.getPriority().val()?new gp(i,Ep(s)):e}{const r=e;return i=r,s!==r.getPriority().val()&&(i=i.updatePriority(new gp(s))),r.forEachChild(yp,((e,r)=>{const s=Mg(r,t.getImmediateChild(e),n);s!==r&&(i=i.updateImmediateChild(e,s))})),i}}class Fg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Bg(e,t){let n=t instanceof Rf?t:new Rf(t),r=e,s=Lf(n);for(;null!==s;){const e=tn(r.node.children,s)||{children:{},childCount:0};r=new Fg(s,r,e),n=Ff(n),s=Lf(n)}return r}function Ug(e){return e.node.value}function zg(e,t){e.node.value=t,Kg(e)}function Vg(e){return e.node.childCount>0}function Hg(e,t){nf(e.node.children,((n,r)=>{t(new Fg(n,e,r))}))}function qg(e,t,n,r){n&&!r&&t(e),Hg(e,(e=>{qg(e,t,!0,r)})),n&&r&&t(e)}function Wg(e){return new Rf(null===e.parent?e.name:Wg(e.parent)+"/"+e.name)}function Kg(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Ug(e)&&!Vg(e)}(n),s=en(e.node.children,t);r&&s?(delete e.node.children[t],e.node.childCount--,Kg(e)):r||s||(e.node.children[t]=n.node,e.node.childCount++,Kg(e))}(e.parent,e.name,e)}const Qg=/[\[\].#$\/\u0000-\u001F\u007F]/,Gg=/[\[\].#$\u0000-\u001F\u007F]/,Xg=10485760,Yg=function(e){return"string"===typeof e&&0!==e.length&&!Qg.test(e)},Jg=function(e){return"string"===typeof e&&0!==e.length&&!Gg.test(e)},Zg=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Gd(e)||e&&"object"===typeof e&&en(e,".sv")},$g=function(e,t,n,r){r&&void 0===t||ey(ln(e,"value"),t,n)},ey=function(e,t,n){const r=n instanceof Rf?new Gf(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Yf(r));if("function"===typeof t)throw new Error(e+"contains a function "+Yf(r)+" with contents = "+t.toString());if(Gd(t))throw new Error(e+"contains "+t.toString()+" "+Yf(r));if("string"===typeof t&&t.length>Xg/3&&cn(t)>Xg)throw new Error(e+"contains a string greater than "+Xg+" utf8 bytes "+Yf(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,s=!1;if(nf(t,((t,i)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!Yg(t)))throw new Error(e+" contains an invalid key ("+t+") "+Yf(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=cn(t),Xf(e)}(r,t),ey(e,i,r),function(e){const t=e.parts_.pop();e.byteLength_-=cn(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&s)throw new Error(e+' contains ".value" child '+Yf(r)+" in addition to actual children.")}},ty=function(e,t,n,r){if(r&&void 0===t)return;const s=ln(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(s+" must be an object containing the children to replace.");const i=[];nf(t,((e,t)=>{const r=new Rf(e);if(ey(s,t,Vf(n,r)),".priority"===Bf(r)&&!Zg(t))throw new Error(s+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=Uf(r);for(let t=0;t<s.length;t++)if(".priority"===s[t]&&t===s.length-1);else if(!Yg(s[t]))throw new Error(e+"contains an invalid key ("+s[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Wf);let s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&Qf(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,i)},ny=function(e,t,n,r){if((!r||void 0!==n)&&!Jg(n))throw new Error(ln(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ry=function(e,t){if(".info"===Lf(t))throw new Error(e+" failed = Can't modify data under /.info/")},sy=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Yg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Jg(e)}(n))throw new Error(ln(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class iy{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oy(e,t){let n=null;for(let r=0;r<t.length;r++){const s=t[r],i=s.getPath();null===n||Kf(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(s)}n&&e.eventLists_.push(n)}function ay(e,t,n){oy(e,n),cy(e,(e=>Kf(e,t)))}function ly(e,t,n){oy(e,n),cy(e,(e=>Qf(e,t)||Qf(t,e)))}function cy(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const s=e.eventLists_[r];if(s){t(s.path)?(uy(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function uy(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Ud&&Hd("event: "+n.toString()),af(r)}}}const hy="repo_interrupt";class dy{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vp(),this.transactionQueueTree_=new Fg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fy(e,t,n){if(e.stats_=Af(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Up(e.repoInfo_,((t,n,r,s)=>{gy(e,t,n,r,s)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>yy(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zt(n)}catch(Mb){throw new Error("Invalid authOverride provided: "+Mb)}}e.persistentConnection_=new $f(e.repoInfo_,t,((t,n,r,s)=>{gy(e,t,n,r,s)}),(t=>{yy(e,t)}),(t=>{!function(e,t){nf(t,((t,n)=>{vy(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return wf[n]||(wf[n]=t()),wf[n]}(e.repoInfo_,(()=>new Kp(e.stats_,e.server_))),e.infoData_=new zp,e.infoSyncTree_=new ug({startListening:(t,n,r,s)=>{let i=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(i=pg(e.infoSyncTree_,t._path,o),setTimeout((()=>{s("ok")}),0)),i},stopListening:()=>{}}),vy(e,"connected",!1),e.serverSyncTree_=new ug({startListening:(t,n,r,s)=>(e.server_.listen(t,r,n,((n,r)=>{const i=s(n,r);ly(e.eventQueue_,t._path,i)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function py(e){const t=e.infoData_.getNode(new Rf(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function my(e){return(t=(t={timestamp:py(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function gy(e,t,n,r,s){e.dataUpdateCount++;const i=new Rf(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(s)if(r){const t=rn(n,(e=>Ep(e)));o=function(e,t,n,r){const s=kg(e,r);if(s){const r=Eg(s),i=r.path,o=r.queryId,a=qf(i,t),l=lm.fromObject(n);return Tg(e,i,new Zp(Gp(o),a,l))}return[]}(e.serverSyncTree_,i,t,s)}else{const t=Ep(n);o=gg(e.serverSyncTree_,i,t,s)}else if(r){const t=rn(n,(e=>Ep(e)));o=function(e,t,n){const r=lm.fromObject(n);return bg(e,new Zp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,i,t)}else{const t=Ep(n);o=pg(e.serverSyncTree_,i,t)}let a=i;o.length>0&&(a=Ey(e,i)),ly(e.eventQueue_,a,o)}function yy(e,t){vy(e,"connected",t),!1===t&&function(e){Cy(e,"onDisconnectEvents");const t=my(e),n=Vp();qp(e.onDisconnect_,Of(),((r,s)=>{const i=Og(r,s,e.serverSyncTree_,t);Hp(n,r,i)}));let r=[];qp(n,Of(),((t,n)=>{r=r.concat(pg(e.serverSyncTree_,t,n));const s=Dy(e,t);Ey(e,s)})),e.onDisconnect_=Vp(),ly(e.eventQueue_,Of(),r)}(e)}function vy(e,t,n){const r=new Rf("/.info/"+t),s=Ep(n);e.infoData_.updateSnapshot(r,s);const i=pg(e.infoSyncTree_,r,s);ly(e.eventQueue_,r,i)}function _y(e){return e.nextWriteId_++}function by(e,t,n,r,s){Cy(e,"set",{path:t.toString(),value:n,priority:r});const i=my(e),o=Ep(n,r),a=vg(e.serverSyncTree_,t),l=Lg(o,a,i),c=_y(e),u=hg(e.serverSyncTree_,t,l,c,!0);oy(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),((n,r)=>{const i="ok"===n;i||Qd("set at "+t+" failed: "+n);const o=fg(e.serverSyncTree_,c,!i);ly(e.eventQueue_,t,o),xy(e,s,n,r)}));const h=Dy(e,t);Ey(e,h),ly(e.eventQueue_,h,[])}function wy(e,t,n){let r;r=".info"===Lf(t._path)?mg(e.infoSyncTree_,t,n):mg(e.serverSyncTree_,t,n),ay(e.eventQueue_,t._path,r)}function Ay(e){e.persistentConnection_&&e.persistentConnection_.interrupt(hy)}function Cy(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];Hd(t,...r)}function xy(e,t,n,r){t&&af((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let s=e;r&&(s+=": "+r);const i=new Error(s);i.code=e,t(i)}}))}function Sy(e,t,n){return vg(e.serverSyncTree_,t,n)||Sp.EMPTY_NODE}function ky(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Py(e,t),Ug(t)){const n=Ny(e,t);kt(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),s=Sy(e,t,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const e=n[c];kt(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=qf(t,e.path);i=i.updateChild(r,e.currentOutputSnapshotRaw)}const a=i.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{Cy(e,"transaction put response",{path:l.toString(),status:r});let s=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,s=s.concat(fg(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Py(e,Bg(e.transactionQueueTree_,t)),ky(e,e.transactionQueueTree_),ly(e.eventQueue_,t,s);for(let e=0;e<r.length;e++)af(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Qd("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Ey(e,t)}}),o)}(e,Wg(t),n)}else Vg(t)&&Hg(t,(t=>{ky(e,t)}))}function Ey(e,t){const n=Ty(e,t),r=Wg(n);return function(e,t,n){if(0===t.length)return;const r=[];let s=[];const i=t.filter((e=>0===e.status)),o=i.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const i=t[l],c=qf(n,i.path);let u,h=!1;if(kt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===i.status)h=!0,u=i.abortReason,s=s.concat(fg(e.serverSyncTree_,i.currentWriteId,!0));else if(0===i.status)if(i.retryCount>=25)h=!0,u="maxretry",s=s.concat(fg(e.serverSyncTree_,i.currentWriteId,!0));else{const n=Sy(e,i.path,o);i.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){ey("transaction failed: Data returned ",r,i.path);let t=Ep(r);"object"===typeof r&&null!=r&&en(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=i.currentWriteId,l=my(e),c=Lg(t,n,l);i.currentOutputSnapshotRaw=t,i.currentOutputSnapshotResolved=c,i.currentWriteId=_y(e),o.splice(o.indexOf(a),1),s=s.concat(hg(e.serverSyncTree_,i.path,c,i.currentWriteId,i.applyLocally)),s=s.concat(fg(e.serverSyncTree_,a,!0))}else h=!0,u="nodata",s=s.concat(fg(e.serverSyncTree_,i.currentWriteId,!0))}ly(e.eventQueue_,n,s),s=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;Py(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)af(r[l]);ky(e,e.transactionQueueTree_)}(e,Ny(e,n),r),r}function Ty(e,t){let n,r=e.transactionQueueTree_;for(n=Lf(t);null!==n&&void 0===Ug(r);)r=Bg(r,n),n=Lf(t=Ff(t));return r}function Ny(e,t){const n=[];return Iy(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Iy(e,t,n){const r=Ug(t);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Hg(t,(t=>{Iy(e,t,n)}))}function Py(e,t){const n=Ug(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,zg(t,n.length>0?n:void 0)}Hg(t,(t=>{Py(e,t)}))}function Dy(e,t){const n=Wg(Ty(e,t)),r=Bg(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{jy(e,t)})),jy(e,r),qg(r,(t=>{jy(e,t)})),n}function jy(e,t){const n=Ug(t);if(n){const r=[];let s=[],i=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(kt(i===t-1,"All SENT items should be at beginning of queue."),i=t,n[t].status=3,n[t].abortReason="set"):(kt(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),s=s.concat(fg(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===i?zg(t,void 0):n.length=i+1,ly(e.eventQueue_,Wg(t),s);for(let e=0;e<r.length;e++)af(r[e])}}const Ry=function(e,t){const n=Oy(e),r=n.namespace;"firebase.com"===n.domain&&Kd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Kd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Qd("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const s="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new yf(n.host,n.secure,r,s,t,"",r!==n.subdomain),path:new Rf(n.pathString)}},Oy=function(e){let t="",n="",r="",s="",i="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(s=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(Mb){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Qd("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),i=r}"ns"in d&&(i=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}},Ly="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",My=function(){let e=0;const t=[];return function(n){const r=n===e;let s;e=n;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Ly.charAt(n%64),n=Math.floor(n/64);kt(0===n,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&63===t[s];s--)t[s]=0;t[s]++}else for(s=0;s<12;s++)t[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)o+=Ly.charAt(t[s]);return kt(20===o.length,"nextPushId: Length should be 20."),o}}();class Fy{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Zt(this.snapshot.exportVal())}}class By{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Uy{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return kt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class zy{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Hf(this._path)?null:Bf(this._path)}get ref(){return new Vy(this._repo,this._path)}get _queryIdentifier(){const e=Bp(this._queryParams),t=ef(e);return"{}"===t?"default":t}get _queryObject(){return Bp(this._queryParams)}isEqual(e){if(!((e=hn(e))instanceof zy))return!1;const t=this._repo===e._repo,n=Kf(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Vy extends zy{constructor(e,t){super(e,t,new Mp,!1)}get parent(){const e=zf(this._path);return null===e?null:new Vy(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Hy{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Rf(e),n=Wy(this.ref,e);return new Hy(this._node.getChild(t),n,yp)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Hy(n,Wy(this.ref,t),yp))))}hasChild(e){const t=new Rf(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qy(e,t){return(e=hn(e))._checkNotDeleted("ref"),void 0!==t?Wy(e._root,t):e._root}function Wy(e,t){var n,r,s,i;return null===Lf((e=hn(e))._path)?(n="child",r="path",i=!1,(s=t)&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),ny(n,r,s,i)):ny("child","path",t,!1),new Vy(e._repo,Vf(e._path,t))}function Ky(e,t){e=hn(e),ry("push",e._path),$g("push",t,e._path,!0);const n=py(e._repo),r=My(n),s=Wy(e,r),i=Wy(e,r);let o;return o=null!=t?Qy(i,t).then((()=>i)):Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function Qy(e,t){e=hn(e),ry("set",e._path),$g("set",t,e._path,!1);const n=new Ut;return by(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Gy(e,t){ty("update",t,e._path,!1);const n=new Ut;return function(e,t,n,r){Cy(e,"update",{path:t.toString(),value:n});let s=!0;const i=my(e),o={};if(nf(n,((n,r)=>{s=!1,o[n]=Og(Vf(t,n),Ep(r),e.serverSyncTree_,i)})),s)Hd("update() called with empty data.  Don't do anything."),xy(0,r,"ok",void 0);else{const s=_y(e),i=dg(e.serverSyncTree_,t,o,s);oy(e.eventQueue_,i),e.server_.merge(t.toString(),n,((n,i)=>{const o="ok"===n;o||Qd("update at "+t+" failed: "+n);const a=fg(e.serverSyncTree_,s,!o),l=a.length>0?Ey(e,t):t;ly(e.eventQueue_,l,a),xy(0,r,n,i)})),nf(n,(n=>{const r=Dy(e,Vf(t,n));Ey(e,r)})),ly(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function Xy(e){e=hn(e);const t=new Uy((()=>{})),n=new Yy(t);return function(e,t,n){const r=_g(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const s=Ep(r).withIndex(t._queryParams.getIndex());let i;if(yg(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=pg(e.serverSyncTree_,t._path,s);else{const n=xg(e.serverSyncTree_,t);i=gg(e.serverSyncTree_,t._path,s,n)}return ly(e.eventQueue_,t._path,i),mg(e.serverSyncTree_,t,n,null,!0),s}),(n=>(Cy(e,"get for query "+Zt(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new Hy(t,new Vy(e._repo,e._path),e._queryParams.getIndex())))}class Yy{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Fy("value",this,new Hy(e.snapshotNode,new Vy(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new By(this,e,t):null}matches(e){return e instanceof Yy&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Jy{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new By(this,e,t):null}createEvent(e,t){kt(null!=e.childName,"Child events should have a childName.");const n=Wy(new Vy(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Fy(e.type,this,new Hy(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Jy&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Zy(e,t,n,r,s){let i;if("object"===typeof r&&(i=void 0,s=r),"function"===typeof r&&(i=r),s&&s.onlyOnce){const t=n,r=(n,r)=>{wy(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Uy(n,i||void 0),a="value"===t?new Yy(o):new Jy(t,o);return function(e,t,n){let r;r=".info"===Lf(t._path)?yg(e.infoSyncTree_,t,n):yg(e.serverSyncTree_,t,n),ay(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>wy(e._repo,e,a)}function $y(e,t,n,r){return Zy(e,"value",t,n,r)}!function(e){kt(!Ym,"__referenceConstructor has already been defined"),Ym=e}(Vy),function(e){kt(!Jm,"__referenceConstructor has already been defined"),Jm=e}(Vy);const ev={};let tv=!1;function nv(e,t,n,r,s){let i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||Kd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Hd("Using default host for project ",e.options.projectId),i="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=Ry(i,s),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,i="http://".concat(a,"?ns=").concat(c.namespace),l=Ry(i,s),c=l.repoInfo):o=!l.repoInfo.secure;const u=s&&o?new hf(hf.OWNER):new uf(e.name,e.options,t);sy("Invalid Firebase Database URL",l),Hf(l.path)||Kd("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let s=ev[t.name];s||(s={},ev[t.name]=s);let i=s[e.toURLString()];i&&Kd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new dy(e,tv,n,r),s[e.toURLString()]=i,i}(c,e,u,new cf(e.name,n));return new rv(h,e)}class rv{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fy(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vy(this._repo,Of())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=ev[t];n&&n[e.key]===e||Kd("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Ay(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Kd("Cannot call "+e+" on a deleted database.")}}$f.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},$f.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Id(kr),Ar(new dn("database",((e,t)=>{let{instanceIdentifier:n}=t;return nv(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Nr(Ed,Td,e),Nr(Ed,Td,"esm2017")}();const sv="@firebase/installations",iv="0.6.9",ov=1e4,av="w:".concat(iv),lv="FIS_v2",cv=36e5,uv=new Xt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function hv(e){return e instanceof Gt&&e.code.includes("request-failed")}function dv(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function fv(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function pv(e,t){const n=(await t.json()).error;return uv.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function mv(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gv(e,t){let{refreshToken:n}=t;const r=mv(e);return r.append("Authorization",function(e){return"".concat(lv," ").concat(e)}(n)),r}async function yv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function vv(e){return new Promise((t=>{setTimeout(t,e)}))}const _v=/^[cdef][\w-]{21}$/;function bv(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return _v.test(t)?t:""}catch(e){return""}}function wv(e){return"".concat(e.appName,"!").concat(e.appId)}const Av=new Map;function Cv(e,t){const n=wv(e);xv(n,t),function(e,t){const n=kv();n&&n.postMessage({key:e,fid:t});Ev()}(n,t)}function xv(e,t){const n=Av.get(e);if(n)for(const r of n)r(t)}let Sv=null;function kv(){return!Sv&&"BroadcastChannel"in self&&(Sv=new BroadcastChannel("[Firebase] FID Change"),Sv.onmessage=e=>{xv(e.data.key,e.data.fid)}),Sv}function Ev(){0===Av.size&&Sv&&(Sv.close(),Sv=null)}const Tv="firebase-installations-store";let Nv=null;function Iv(){return Nv||(Nv=On("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Tv)}})),Nv}async function Pv(e,t){const n=wv(e),r=(await Iv()).transaction(Tv,"readwrite"),s=r.objectStore(Tv),i=await s.get(n);return await s.put(t,n),await r.done,i&&i.fid===t.fid||Cv(e,t.fid),t}async function Dv(e){const t=wv(e),n=(await Iv()).transaction(Tv,"readwrite");await n.objectStore(Tv).delete(t),await n.done}async function jv(e,t){const n=wv(e),r=(await Iv()).transaction(Tv,"readwrite"),s=r.objectStore(Tv),i=await s.get(n),o=t(i);return void 0===o?await s.delete(n):await s.put(o,n),await r.done,!o||i&&i.fid===o.fid||Cv(e,o.fid),o}async function Rv(e){let t;const n=await jv(e.appConfig,(n=>{const r=function(e){const t=e||{fid:bv(),registrationStatus:0};return Mv(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(uv.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:s}=t;const i=dv(n),o=mv(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:s,authVersion:lv,appId:n.appId,sdkVersion:av},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await yv((()=>fetch(i,c)));if(u.ok){const e=await u.json();return{fid:e.fid||s,registrationStatus:2,refreshToken:e.refreshToken,authToken:fv(e.authToken)}}throw await pv("Create Installation",u)}(e,t);return Pv(e.appConfig,n)}catch(Mb){throw hv(Mb)&&409===Mb.customData.serverCode?await Dv(e.appConfig):await Pv(e.appConfig,{fid:t.fid,registrationStatus:0}),Mb}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Ov(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Ov(e){let t=await Lv(e.appConfig);for(;1===t.registrationStatus;)await vv(100),t=await Lv(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Rv(e);return n||t}return t}function Lv(e){return jv(e,(e=>{if(!e)throw uv.create("installation-not-found");return Mv(e)}))}function Mv(e){return 1===(t=e).registrationStatus&&t.registrationTime+ov<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Fv(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const s=function(e,t){let{fid:n}=t;return"".concat(dv(e),"/").concat(n,"/authTokens:generate")}(n,t),i=gv(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const a={installation:{sdkVersion:av,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await yv((()=>fetch(s,l)));if(c.ok){return fv(await c.json())}throw await pv("Generate Auth Token",c)}async function Bv(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await jv(e.appConfig,(r=>{if(!zv(r))throw uv.create("not-registered");const s=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+cv}(e)}(s))return r;if(1===s.requestStatus)return t=async function(e,t){let n=await Uv(e.appConfig);for(;1===n.authToken.requestStatus;)await vv(100),n=await Uv(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Bv(e,t):r}(e,n),r;{if(!navigator.onLine)throw uv.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Fv(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Pv(e.appConfig,r),n}catch(Mb){if(!hv(Mb)||401!==Mb.customData.serverCode&&404!==Mb.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Pv(e.appConfig,n)}else await Dv(e.appConfig);throw Mb}}(e,n),n}}));return t?await t:r.authToken}function Uv(e){return jv(e,(e=>{if(!zv(e))throw uv.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ov<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function zv(e){return void 0!==e&&2===e.registrationStatus}async function Vv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Rv(e);t&&await t}(n);return(await Bv(n,t)).token}function Hv(e){return uv.create("missing-app-config-values",{valueName:e})}const qv="installations",Wv=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Hv("App Configuration");if(!e.name)throw Hv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Hv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Cr(t,"heartbeat"),_delete:()=>Promise.resolve()}},Kv=e=>{const t=Cr(e.getProvider("app").getImmediate(),qv).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Rv(t);return r?r.catch(console.error):Bv(t).catch(console.error),n.fid}(t),getToken:e=>Vv(t,e)}};Ar(new dn(qv,Wv,"PUBLIC")),Ar(new dn("installations-internal",Kv,"PRIVATE")),Nr(sv,iv),Nr(sv,iv,"esm2017");const Qv="analytics",Gv="https://www.googletagmanager.com/gtag/js",Xv=new An("@firebase/analytics"),Yv=new Xt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Jv(e){if(!e.startsWith(Gv)){const t=Yv.create("invalid-gtag-resource",{gtagURL:e});return Xv.warn(t.message),""}return e}function Zv(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function $v(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Jv}),r=document.createElement("script"),s="".concat(Gv,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function e_(e,t,n,r){return async function(s){try{for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if("event"===s){const[r,s]=o;await async function(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const r=await Zv(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),s=e&&t[e.appId];if(!s){i=[];break}i.push(s)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(Mb){Xv.error(Mb)}}(e,t,n,r,s)}else if("config"===s){const[s,i]=o;await async function(e,t,n,r,s,i){const o=r[s];try{if(o)await t[o];else{const e=(await Zv(n)).find((e=>e.measurementId===s));e&&await t[e.appId]}}catch(Mb){Xv.error(Mb)}e("config",s,i)}(e,t,n,r,s,i)}else if("consent"===s){const[t,n]=o;e("consent",t,n)}else if("get"===s){const[t,n,r]=o;e("get",t,n,r)}else if("set"===s){const[t]=o;e("set",t)}else e(s,...o)}catch(Mb){Xv.error(Mb)}}}const t_=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function n_(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function r_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t_,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw Yv.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Yv.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new i_;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),s_({appId:r,apiKey:s,measurementId:i},o,a,t)}async function s_(e,t,n){let{throttleEndTimeMillis:r,backoffCount:s}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t_;var o;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener((()=>{clearTimeout(i),r(Yv.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(Mb){if(l)return Xv.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===Mb||void 0===Mb?void 0:Mb.message,"]")),{appId:a,measurementId:l};throw Mb}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,s={method:"GET",headers:n_(r)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(i,s);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Yv.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return i.deleteThrottleMetadata(a),t}catch(Mb){const r=Mb;if(!function(e){if(!(e instanceof Gt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(i.deleteThrottleMetadata(a),l)return Xv.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:a,measurementId:l};throw Mb}const c=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?un(s,i.intervalMillis,30):un(s,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:s+1};return i.setThrottleMetadata(a,u),Xv.debug("Calling attemptFetch again in ".concat(c," millis")),s_(e,u,n,i)}}class i_{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let o_,a_;function l_(e){a_=e}function c_(e){o_=e}async function u_(e,t,n,r,s,i,o){var a;const l=r_(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Xv.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>Xv.error(e))),t.push(l);const c=async function(){if(!Kt())return Xv.warn(Yv.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Qt()}catch(Mb){return Xv.warn(Yv.create("indexeddb-unavailable",{errorInfo:null===Mb||void 0===Mb?void 0:Mb.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Gv)&&n.src.includes(e))return n;return null})(i)||$v(i,u.measurementId),a_&&(s("consent","default",a_),l_(void 0)),s("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),s("config",u.measurementId,d),o_&&(s("set",o_),c_(void 0)),u.measurementId}class h_{constructor(e){this.app=e}_delete(){return delete d_[this.app.options.appId],Promise.resolve()}}let d_={},f_=[];const p_={};let m_,g_,y_="dataLayer",v_="gtag",__=!1;function b_(){const e=[];if(function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=Yv.create("invalid-analytics-context",{errorInfo:t});Xv.warn(n.message)}}function w_(e,t,n){b_();const r=e.options.appId;if(!r)throw Yv.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Yv.create("no-api-key");Xv.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=d_[r])throw Yv.create("already-exists",{id:r});if(!__){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(y_);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,s){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[s]&&"function"===typeof window[s]&&(i=window[s]),window[s]=e_(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}(d_,f_,p_,y_,v_);g_=e,m_=t,__=!0}d_[r]=u_(e,f_,p_,t,m_,y_,n);return new h_(e)}function A_(e,t,n,r){e=hn(e),async function(e,t,n,r,s){if(s&&s.global)e("event",n,r);else{const s=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}(g_,d_[e.app.options.appId],t,n,r).catch((e=>Xv.error(e)))}const C_="@firebase/analytics",x_="0.10.8";Ar(new dn(Qv,((e,t)=>{let{options:n}=t;return w_(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Ar(new dn("analytics-internal",(function(e){try{const t=e.getProvider(Qv).getImmediate();return{logEvent:(e,n,r)=>A_(t,e,n,r)}}catch(Mb){throw Yv.create("interop-component-reg-failed",{reason:Mb})}}),"PRIVATE")),Nr(C_,x_),Nr(C_,x_,"esm2017");const S_=Er({apiKey:"AIzaSyDcT3yh1gr9CXEvasuSysXaEMP999zXVdE",authDomain:"thepregames-820b5.firebaseapp.com",projectId:"thepregames-820b5",storageBucket:"thepregames-820b5.appspot.com",messagingSenderId:"221437646464",appId:"1:221437646464:web:8579731c0f4be020cbf865",measurementId:"G-4CLEKG0NLC",databaseURL:"https://thepregames-820b5-default-rtdb.firebaseio.com/"}),k_=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();e=hn(e);const t=Cr(e,Qv);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Cr(e,Qv);if(n.isInitialized()){const e=n.getImmediate();if(sn(t,n.getOptions()))return e;throw Yv.create("already-initialized")}const r=n.initialize({options:t})}(e)}(S_),Lu(S_)),E_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr(),t=arguments.length>1?arguments[1]:void 0;const n=Cr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Ft("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=hn(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Kd("Cannot call useEmulator() after instance has already been initialized.");const s=e._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Kd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new hf(hf.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:zt(r.mockUserToken,e.app.options.projectId);i=new hf(t)}!function(e,t,n,r){e.repoInfo_=new yf("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(s,t,n,i)}(n,...e)}return n}(S_),T_=k_,N_="ProPursuitForm_pageContainer__0Rw+Y",I_="ProPursuitForm_formPopup__f5tg8",P_="ProPursuitForm_formContainer__H1mEx",D_="ProPursuitForm_playerLeagues__vuE9p",j_="ProPursuitForm_playerPool__y+Pak",R_="ProPursuitForm_playerSelection__GC0S0",O_="ProPursuitForm_radioButtons__RsqXW",L_="ProPursuitForm_radioButton__U9TLt",M_="ProPursuitForm_active__ItcpF",F_="ProPursuitForm_ppfTitleRow__t4AWn",B_="ProPursuitForm_ppfTitle__uDoUM",U_="ProPursuitForm_instructionsIcon__XrM0P",z_="ProPursuitForm_submitButton__95Xmu",V_="ProPursuitForm_inputText__7yYZ9",H_="ProPursuitForm_formButtonGroup__rXhJp",q_=n(7077),W_=e=>{let{onClose:n,playerData:r,playerNames:s,nhlPlayerNames:i,nbaPlayerNames:o,nflPlayerNames:a,mlbPlayerNames:l}=e;const[c,u]=(0,t.useState)(["All"]),[h,d]=(0,t.useState)(["All"]),[f,p]=(0,t.useState)("Auto"),[m,g]=(0,t.useState)(null),[y,v]=(0,t.useState)(!1);(0,t.useEffect)((()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"})),[]);const _=e=>{const t=e.target.value,n=(e=>{const t=e.split(" - ")[0],n=r.nhlPlayers.find((e=>e.name===t)),s=r.nbaPlayers.find((e=>e.name===t)),i=r.nflPlayers.find((e=>e.name===t)),o=r.mlbPlayers.find((e=>e.name===t));return n||s||i||o||null})(t),s={NHL:i,NBA:o,NFL:a,MLB:l},u=c.includes("All")?["NHL","NBA","NFL","MLB"]:c.filter((e=>"All"!==e));if(!u.some((e=>s[e].includes(t)))){const e=u.join(" or ");return alert("Player is not in ".concat(e,": A random player will be selected if you submit")),void g(null)}if(!(h.includes("All")||(!h.includes("Fantasy Relevant")||null!==n&&void 0!==n&&n.fantasy_relevant)&&(!h.includes("Starter")||null!==n&&void 0!==n&&n.starter))){const e=h.join(" ");return alert("Player does not meet ".concat(e," criteria")),void g(null)}g(t)},b=()=>{const e={all:{leagues:["NHL","NBA","NFL","MLB"],playerLists:{NHL:i,NBA:o,NFL:a,MLB:l}},NHL_NBA_NFL_MLB:{leagues:["NHL","NBA","NFL","MLB"],playerLists:{NHL:i,NBA:o,NFL:a,MLB:l}},NHL_NBA:{leagues:["NHL","NBA"],playerLists:{NHL:i,NBA:o}},NHL_NFL:{leagues:["NHL","NFL"],playerLists:{NHL:i,NFL:a}},NBA_NFL:{leagues:["NBA","NFL"],playerLists:{NBA:o,NFL:a}},NHL:{leagues:["NHL"],playerLists:{NHL:i}},NBA:{leagues:["NBA"],playerLists:{NBA:o}},NFL:{leagues:["NFL"],playerLists:{NFL:a}},MLB:{leagues:["MLB"],playerLists:{MLB:l}}},t=(c.includes("All")?["NHL","NBA","NFL","MLB"]:c.filter((e=>"All"!==e))).sort().join("_"),n=(e[t]||e.all).leagues.flatMap((e=>r["".concat(e.toLowerCase(),"Players")].filter(h.includes("All")?()=>!0:h.includes("Fantasy Relevant")?e=>null===e||void 0===e?void 0:e.fantasy_relevant:h.includes("Starter")?e=>null===e||void 0===e?void 0:e.starter:()=>!0)));if(0===n.length)return"No players available";const s=n[Math.floor(Math.random()*n.length)],u=s.team?"team":"Team";return"".concat(s.name," - (").concat(s[u],")")};return(0,Ue.jsx)("div",{className:N_,children:(0,Ue.jsx)("div",{className:I_,children:(0,Ue.jsxs)("div",{className:P_,children:[(0,Ue.jsx)(at,{className:U_,onClick:()=>v(!0)}),(0,Ue.jsx)("div",{className:F_,children:(0,Ue.jsx)("h1",{className:B_,children:"Pro Pursuit"})}),y&&(0,Ue.jsx)(yt,{gameTitle:"Pro Pursuit",subheader:"Like Wordle, but for your favourite sports players!",icon:q_,instructionsText:"8 Guesses to guess the random player! \nRules - Starter: (NFL: #1 player on depth chart (3WR's, 2RB's), (NHL: any player who played over 12 avgTOI, (NBA: any player who started over 30 games), (MLB: 50gp). Fantasy Relevant will include: (NFL a starter who is only from fantasy positions QB, WR, TE, RB), (NHL: D >0.4ppg, F >0.5ppg, G >0.89 save%),\n(NBA: >10 mpg)",onClose:()=>v(!1)}),(0,Ue.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=m||b();n(c,h,f,t)},children:[(0,Ue.jsxs)("div",{className:D_,children:[(0,Ue.jsx)("label",{children:"Player Leagues:"}),(0,Ue.jsx)("div",{className:O_,children:["NHL","NBA","NFL","MLB","All"].map((e=>(0,Ue.jsxs)("label",{className:"".concat(L_," ").concat(c.includes(e)?M_:""),children:[(0,Ue.jsx)("input",{type:"checkbox",name:"league",value:e,checked:c.includes(e),onChange:()=>(e=>{c.includes(e)?u(c.filter((t=>t!==e))):u([...c,e])})(e)}),(0,Ue.jsx)("span",{children:e})]},e)))})]}),(0,Ue.jsxs)("div",{className:j_,children:[(0,Ue.jsx)("label",{children:"Player Pool:"}),(0,Ue.jsx)("div",{className:O_,children:["All","Fantasy Relevant","Starter"].map((e=>(0,Ue.jsxs)("label",{className:"".concat(L_," ").concat(h.includes(e)?M_:""),children:[(0,Ue.jsx)("input",{type:"checkbox",name:"pool",value:e,checked:h.includes(e),onChange:()=>(e=>{h.includes(e)?d(h.filter((t=>t!==e))):d([...h,e])})(e)}),(0,Ue.jsx)("span",{children:e})]},e)))})]}),(0,Ue.jsxs)("div",{className:R_,children:[(0,Ue.jsx)("label",{children:"Player Selection:"}),(0,Ue.jsx)("div",{className:O_,children:["Auto","User"].map((e=>(0,Ue.jsxs)("label",{className:"".concat(L_," ").concat(f===e?M_:""),children:[(0,Ue.jsx)("input",{type:"radio",name:"selection",value:e,required:!0,checked:f===e,onChange:()=>p(e)}),(0,Ue.jsx)("span",{children:e})]},e)))})]}),(()=>{if("User"!==f)return null;const e={all:{leagues:["NHL","NBA","NFL","MLB"],playerLists:[i,o,a,l],dataPrefix:"all"},NHL_NBA_NFL_MLB:{leagues:["NHL","NBA","NFL","MLB"],playerLists:[i,o,a,l],dataPrefix:"all2"},NHL_NBA:{leagues:["NHL","NBA"],playerLists:[i,o],dataPrefix:"nhlNba"},NHL_NFL:{leagues:["NHL","NFL"],playerLists:[i,a],dataPrefix:"nhlNfl"},NBA_NFL:{leagues:["NBA","NFL"],playerLists:[o,a],dataPrefix:"nbaNfl"},NHL:{leagues:["NHL"],playerLists:[i],dataPrefix:"nhl"},NBA:{leagues:["NBA"],playerLists:[o],dataPrefix:"nba"},NFL:{leagues:["NFL"],playerLists:[a],dataPrefix:"nfl"},MLB:{leagues:["MLB"],playerLists:[l],dataPrefix:"mlb"}},t=e[(c.includes("All")?["NHL","NBA","NFL","MLB"]:c).sort().join("_")]||e.all,n=h.includes("All")?"all":h.includes("Fantasy Relevant")?"fr":h.includes("Starter")?"s":"all",s="".concat(t.dataPrefix,"_").concat(n,"_players");return(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"player-name",children:"Enter Player:"}),(0,Ue.jsx)("input",{type:"text",list:s,id:"player-name",placeholder:"Enter Player",onChange:_,className:V_}),(0,Ue.jsx)("datalist",{id:s,children:("all"===n?t.leagues.flatMap((e=>r["".concat(e.toLowerCase(),"Players")])):t.leagues.flatMap((e=>{const t=r["".concat(e.toLowerCase(),"Players")],s="fr"===n?"fantasy_relevant":"starter";return t.filter((e=>e[s]))}))).map(((e,t)=>(0,Ue.jsx)("option",{value:"".concat(e.name," - (").concat(e.team,")")},t)))})]})})(),(0,Ue.jsx)("div",{className:H_,children:(0,Ue.jsx)("button",{type:"submit",className:z_,children:"Submit"})})]})]})})})},K_=n(7077),Q_=n(8082),G_=e=>{let{isWinning:t,playerName:n,numGuesses:r}=e;const s=t?"Congratulations, you got it in ".concat(r," guesses!"):"Better Luck Next Time!",i="The player was ".concat(n),o=Q_;return(0,Ue.jsx)("div",{className:kd.toastContainer,children:(0,Ue.jsxs)("div",{className:kd.toast,children:[(0,Ue.jsx)("div",{className:kd.toastHeader,children:s}),(0,Ue.jsx)("img",{className:kd.toastIcon,src:o,alt:t?"Winning":"Losing"}),(0,Ue.jsx)("div",{className:kd.toastBody,children:i}),(0,Ue.jsx)("div",{className:kd.toastButtons,children:(0,Ue.jsx)("button",{onClick:()=>window.location.reload(),className:kd.toastButton,children:"Restart"})})]})})},X_=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(!0),[i,o]=(0,t.useState)([]),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[h,d]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)([]),[y,v]=(0,t.useState)([]),[_,b]=(0,t.useState)(""),[w,A]=(0,t.useState)(!1),[C,x]=(0,t.useState)(!1),[S,k]=(0,t.useState)([]),[E,T]=(0,t.useState)(""),[N,I]=(0,t.useState)(!1),[P,D]=(0,t.useState)([]),[j,R]=(0,t.useState)(!1),O=(0,t.useRef)(null),L=(0,t.useRef)([]),M={offense:["Quarterback","Running Back","Wide Receiver","Tight End","Center","Guard","Offensive Tackle","Fullback"],defense:["Defensive Tackle","Defensive End","Linebacker","Cornerback","Safety"],special:["Punter","Place Kicker","Long Snapper"]},F={defense:["P"],offense:["C","1B","2B","SS","3B","OF","LF","CF","RF","DH","TWP"]},B={defense:["G","D"],offense:["C","LW","RW","F"]},U={offense:["PG","SG","SF","PF","C"]};(0,t.useEffect)((()=>{(async()=>{const e=(new Date).getTime(),t=localStorage.getItem("lastFetchTime");if(t&&e-t<864e5){const e=JSON.parse(localStorage.getItem("playersData"));n(e),o(JSON.parse(localStorage.getItem("allPlayerNames"))),p(JSON.parse(localStorage.getItem("mlbPlayers"))),l(JSON.parse(localStorage.getItem("nflPlayers"))),u(JSON.parse(localStorage.getItem("nhlPlayers"))),d(JSON.parse(localStorage.getItem("nbaPlayers")))}else{const[t,r,s,i]=await Promise.all([rh(ju(T_,"nba_players")),rh(ju(T_,"nhl_players")),rh(ju(T_,"nfl_players")),rh(ju(T_,"mlb_players"))]),a=t.docs.map((e=>e.data())),c=r.docs.map((e=>e.data())),h=s.docs.map((e=>e.data())),f=i.docs.map((e=>e.data())),m=a.map((e=>"".concat(e.name," - (").concat(e.team,")"))),g=c.map((e=>"".concat(e.name," - (").concat(e.team,")"))),y=h.map((e=>"".concat(e.name," - (").concat(e.team,")"))),v=f.map((e=>"".concat(e.name," - (").concat(e.team,")"))),_=[...m,...g,...y,...v];n({nbaPlayers:a,nhlPlayers:c,nflPlayers:h,mlbPlayers:f}),o(_),d(m),u(g),l(y),p(v),localStorage.setItem("playersData",JSON.stringify({nbaPlayers:a,nhlPlayers:c,nflPlayers:h,mlbPlayers:f})),localStorage.setItem("allPlayerNames",JSON.stringify(_)),localStorage.setItem("nbaPlayers",JSON.stringify(m)),localStorage.setItem("nhlPlayers",JSON.stringify(g)),localStorage.setItem("nflPlayers",JSON.stringify(y)),localStorage.setItem("mlbPlayers",JSON.stringify(v)),localStorage.setItem("lastFetchTime",e.toString())}})()}),[]);(0,t.useEffect)((()=>{const e=i.map((e=>{const[t,n]=e.split(" - "),r=n.replace("(","").replace(")",""),s=z(t,r);return{name:null===t||void 0===t?void 0:t.toLowerCase(),fullName:e,league:null===s||void 0===s?void 0:s.league,fantasy_relevant:null===s||void 0===s?void 0:s.fantasy_relevant,starter:null===s||void 0===s?void 0:s.starter}}));L.current=e}),[i]);const z=(t,n)=>{var r,s,i,o;const a=null===e||void 0===e||null===(r=e.nbaPlayers)||void 0===r?void 0:r.find((e=>e.name===t&&e.team===n)),l=null===e||void 0===e||null===(s=e.nhlPlayers)||void 0===s?void 0:s.find((e=>e.name===t&&e.team===n)),c=null===e||void 0===e||null===(i=e.nflPlayers)||void 0===i?void 0:i.find((e=>e.name===t&&e.team===n)),u=null===e||void 0===e||null===(o=e.mlbPlayers)||void 0===o?void 0:o.find((e=>e.name===t&&e.team===n));return a||l||c||u},V=e=>{var t,n,r,s,i,o,a,l,c,u;const h=e.split(" - ")[0],d=e.split(" - ")[1].replace("(","").replace(")",""),f=z(h,d),p=null!==(t=null===f||void 0===f?void 0:f.conference)&&void 0!==t?t:null===f||void 0===f?void 0:f.Conference,m=null!==(n=null===f||void 0===f?void 0:f.division)&&void 0!==n?n:null===f||void 0===f?void 0:f.Division,g=null!==(r=null===f||void 0===f?void 0:f.team)&&void 0!==r?r:null===f||void 0===f?void 0:f.Team,y=null!==(s=null===f||void 0===f?void 0:f.position)&&void 0!==s?s:null===f||void 0===f?void 0:f.Position,v=null!==(i=null===f||void 0===f?void 0:f.height)&&void 0!==i?i:null===f||void 0===f?void 0:f.Height,_=null!==(o=null===f||void 0===f?void 0:f.weight)&&void 0!==o?o:null===f||void 0===f?void 0:f.Weight,b=null!==(a=null===f||void 0===f?void 0:f.age)&&void 0!==a?a:null===f||void 0===f?void 0:f.Age,w=null!==(l=null!==(c=null===f||void 0===f?void 0:f.number)&&void 0!==c?c:null===f||void 0===f?void 0:f.jersey)&&void 0!==l?l:null===f||void 0===f?void 0:f.jerseyNumber,A=null!==(u=null===f||void 0===f?void 0:f.league)&&void 0!==u?u:null===f||void 0===f?void 0:f.League;k((e=>[...e,{guessPlayerName:h,guessLeague:A,guessConference:p,guessDivision:m,guessTeam:g,guessPosition:y,guessHeight:v,guessWeight:_,guessAge:b,guessNumber:w}]))},H=e=>{const t=String(e).replace(/\s|"/g,"").split("'");1===t.length&&t.push("0");const[n,r]=t.map(Number);return 12*n+r},q=e=>{let t;if("string"===typeof e&&(e=e.trim().replace(/\s|"/g,"")),"number"===typeof e)t=e;else if("string"===typeof e){const n=e.split("'");if(2===n.length){const[e,r]=n.map(Number);t=12*e+r}else t=Number(e)}if(isNaN(t)||t<0)return null;const n=Math.floor(t/12),r=t%12;return"".concat(n,"'").concat(r,'"')},W=(e,t,n)=>{const r=e=>null===e||void 0===e?void 0:e.toLowerCase().trim(),s=r(e),i=r(t);if(s===i)return!0;const o={NFL:M,MLB:F,NHL:B,NBA:U}[n];return!!o&&Object.values(o).some((e=>e.some((e=>r(e)===s))&&e.some((e=>r(e)===i))))};(0,t.useEffect)((()=>{if(S.length>0&&_){var e,t;const n=_.split(" - ")[0],r=_.split(" - ")[1].replace("(","").replace(")",""),s=S[S.length-1];(null===n||void 0===n?void 0:n.toLowerCase())===(null===(e=s.guessPlayerName)||void 0===e?void 0:e.toLowerCase())&&(null===r||void 0===r?void 0:r.toLowerCase())===(null===(t=s.guessTeam)||void 0===t?void 0:t.toLowerCase())&&A(!0)}}),[S,_]);const K=e=>{O.current&&!O.current.contains(e.target)&&I(!1)};(0,t.useEffect)((()=>(document.addEventListener("mouseup",K),()=>{document.removeEventListener("mouseup",K)})),[]);return(0,Ue.jsxs)("div",{className:kd.proPursuit,children:[(0,Ue.jsx)(ze,{}),j&&(0,Ue.jsx)(yt,{gameTitle:"Pro Pursuit",subheader:"Like Wordle, but for your favourite sports players!",icon:K_,instructionsText:"The dropdown will only list players that could be a possible answer.  After guessing, each category cell color indicates correct (green), wrong (red), or close (yellow).  Close means correct side of the ball for position or being within certain numerical ranges for height, weight, age, or number.",onClose:()=>R(!1)}),(8===S.length||w||C)&&(0,Ue.jsx)("div",{className:kd.toastBackdrop,children:(0,Ue.jsx)("div",{className:kd.toastContainer,children:(0,Ue.jsx)(G_,{isWinning:!C&&w,playerName:_,numGuesses:S.length})})}),r&&(0,Ue.jsx)(W_,{onClose:(e,t,n,r)=>{g(e),v(t),b(r),s(!1)},playerData:e,playerNames:i,nhlPlayerNames:c,nbaPlayerNames:h,nflPlayerNames:a,mlbPlayerNames:f}),(0,Ue.jsxs)("div",{className:kd.ppContainer,children:[(0,Ue.jsxs)("div",{className:kd.ppfTitleRow,children:[(0,Ue.jsx)("h1",{className:kd.ppTitle,children:"Pro Pursuit"}),(0,Ue.jsx)(at,{className:kd.instructionsBtnPp,onClick:()=>R(!0)})]}),(0,Ue.jsx)("div",{className:kd.ppDescription,children:(0,Ue.jsx)("p",{children:"ProPursuit is a game where you pick a player and try to guess them within 8 tries."})}),(0,Ue.jsx)("div",{className:kd.hrIconRow,children:(0,Ue.jsx)("img",{className:kd.hrIcon,src:K_,alt:"HR Icon"})}),(0,Ue.jsxs)("div",{className:kd.ppGame,children:[(0,Ue.jsxs)("div",{className:kd.ppGuess,children:[(0,Ue.jsxs)("div",{className:kd.ppGuessCounter,children:[(0,Ue.jsxs)("h5",{className:kd.guessCounter,children:["Guesses: ",S.length," / 8"]}),(0,Ue.jsx)("button",{className:kd.revealBtn,onClick:()=>{x(!0)},children:"Reveal Player"})]}),(0,Ue.jsxs)("div",{className:kd.ppGuessInput,ref:O,children:[(0,Ue.jsx)("input",{type:"text",id:"player-name",placeholder:"Enter Player",className:kd.ppGuessInputTag,value:E,onChange:e=>{var t;const n=null===(t=e.target.value)||void 0===t?void 0:t.toLowerCase();if(T(n),!n)return I(!1),void D([]);const r=L.current.filter((e=>{if(!e.name.includes(n))return!1;const t=[];return(0===y.length||y.includes("All"))&&t.push("All"),y.includes("Fantasy Relevant")&&null!==e&&void 0!==e&&e.fantasy_relevant&&t.push("Fantasy Relevant"),y.includes("Starter")&&null!==e&&void 0!==e&&e.starter&&t.push("Starter"),!(0!==m.length&&!m.includes(e.league)&&!m.includes("All")||!t.some((e=>y.includes(e))))})).map((e=>e.fullName));D(r),I(!0)},onClick:()=>I(!0),autoComplete:"off"}),N&&(0,Ue.jsx)("div",{className:kd.customDropdown,children:P.map(((e,t)=>(0,Ue.jsx)("div",{onClick:()=>(e=>{T(e),I(!1),V(e),T("")})(e),className:kd.dropdownItem,children:e},t)))})]})]}),(0,Ue.jsxs)("div",{className:kd.ppGrid,children:[(0,Ue.jsx)("div",{className:kd.gridHeader,children:"Name"}),(0,Ue.jsx)("div",{className:kd.gridHeader,children:"League"}),(0,Ue.jsx)("div",{className:kd.gridHeader,children:"Conference"}),(0,Ue.jsx)("div",{className:kd.gridHeader,children:"Division"}),(0,Ue.jsx)("div",{className:kd.gridHeader,children:"Team"}),(0,Ue.jsx)("div",{className:kd.gridHeader,children:"Position"}),(0,Ue.jsx)("div",{className:kd.gridHeader,children:"Height"}),(0,Ue.jsx)("div",{className:kd.gridHeader,children:"Weight"}),(0,Ue.jsx)("div",{className:kd.gridHeader,children:"Age"}),(0,Ue.jsx)("div",{className:kd.gridHeader,children:"Number"}),(()=>{var e,n,r,s,i,o,a,l,c,u;if(0===S.length||!_)return null;const h=_.split(" - ")[0],d=_.split(" - ")[1].replace("(","").replace(")",""),f=z(h,d),p=null!==(e=null===f||void 0===f?void 0:f.league)&&void 0!==e?e:null===f||void 0===f?void 0:f.League,m=null!==(n=null===f||void 0===f?void 0:f.conference)&&void 0!==n?n:null===f||void 0===f?void 0:f.Conference,g=null!==(r=null===f||void 0===f?void 0:f.division)&&void 0!==r?r:null===f||void 0===f?void 0:f.Division,y=null!==(s=null===f||void 0===f?void 0:f.team)&&void 0!==s?s:null===f||void 0===f?void 0:f.Team,v=null!==(i=null===f||void 0===f?void 0:f.position)&&void 0!==i?i:null===f||void 0===f?void 0:f.Position,b=null!==(o=null===f||void 0===f?void 0:f.height)&&void 0!==o?o:null===f||void 0===f?void 0:f.Height,w=null!==(a=null===f||void 0===f?void 0:f.weight)&&void 0!==a?a:null===f||void 0===f?void 0:f.Weight,A=null!==(l=null===f||void 0===f?void 0:f.age)&&void 0!==l?l:null===f||void 0===f?void 0:f.Age,C=null!==(c=null!==(u=null===f||void 0===f?void 0:f.number)&&void 0!==u?u:null===f||void 0===f?void 0:f.jersey)&&void 0!==c?c:null===f||void 0===f?void 0:f.jerseyNumber;return S.map(((e,n)=>{var r,s,i,o,a,l,c;return(0,Ue.jsxs)(t.Fragment,{children:[(0,Ue.jsx)("div",{className:(null===h||void 0===h?void 0:h.toLowerCase())===(null===(r=e.guessPlayerName)||void 0===r?void 0:r.toLowerCase())&&(null===d||void 0===d?void 0:d.toLowerCase())===(null===(s=e.guessTeam)||void 0===s?void 0:s.toLowerCase())?"".concat(kd.gridCell," ").concat(kd.guessRight):"".concat(kd.gridCell," ").concat(kd.guessWrong),children:e.guessPlayerName}),(0,Ue.jsx)("div",{className:(null===p||void 0===p?void 0:p.toLowerCase())===(null===(i=e.guessLeague)||void 0===i?void 0:i.toLowerCase())?"".concat(kd.gridCell," ").concat(kd.guessRight):"".concat(kd.gridCell," ").concat(kd.guessWrong),children:e.guessLeague}),(0,Ue.jsx)("div",{className:(null===m||void 0===m?void 0:m.toLowerCase())===(null===(o=e.guessConference)||void 0===o?void 0:o.toLowerCase())?"".concat(kd.gridCell," ").concat(kd.guessRight):"".concat(kd.gridCell," ").concat(kd.guessWrong),children:e.guessConference}),(0,Ue.jsx)("div",{className:(null===g||void 0===g?void 0:g.toLowerCase())===(null===(a=e.guessDivision)||void 0===a?void 0:a.toLowerCase())?"".concat(kd.gridCell," ").concat(kd.guessRight):"".concat(kd.gridCell," ").concat(kd.guessWrong),children:e.guessDivision}),(0,Ue.jsx)("div",{className:(null===y||void 0===y?void 0:y.toLowerCase())===(null===(l=e.guessTeam)||void 0===l?void 0:l.toLowerCase())?"".concat(kd.gridCell," ").concat(kd.guessRight):"".concat(kd.gridCell," ").concat(kd.guessWrong),children:e.guessTeam}),(0,Ue.jsx)("div",{className:(null===v||void 0===v?void 0:v.toLowerCase())===(null===(c=e.guessPosition)||void 0===c?void 0:c.toLowerCase())?"".concat(kd.gridCell," ").concat(kd.guessRight):W(v,e.guessPosition,p)?"".concat(kd.gridCell," ").concat(kd.guessClose):"".concat(kd.gridCell," ").concat(kd.guessWrong),children:e.guessPosition}),(0,Ue.jsxs)("div",{className:0===Math.abs(H(b)-H(e.guessHeight))?"".concat(kd.gridCell," ").concat(kd.guessRight):Math.abs(H(b)-H(e.guessHeight))<=2?"".concat(kd.gridCell," ").concat(kd.guessClose):"".concat(kd.gridCell," ").concat(kd.guessWrong),children:[q(e.guessHeight)," ",H(b)>H(e.guessHeight)?"\u2191":H(b)<H(e.guessHeight)?"\u2193":""]}),(0,Ue.jsxs)("div",{className:w===e.guessWeight?"".concat(kd.gridCell," ").concat(kd.guessRight):Math.abs(w-e.guessWeight)<=15?"".concat(kd.gridCell," ").concat(kd.guessClose):"".concat(kd.gridCell," ").concat(kd.guessWrong),children:[e.guessWeight," ",w>e.guessWeight?"\u2191":w<e.guessWeight?"\u2193":""]}),(0,Ue.jsxs)("div",{className:A===e.guessAge?"".concat(kd.gridCell," ").concat(kd.guessRight):Math.abs(A-e.guessAge)<=2?"".concat(kd.gridCell," ").concat(kd.guessClose):"".concat(kd.gridCell," ").concat(kd.guessWrong),children:[e.guessAge," ",A>e.guessAge?"\u2191":A<e.guessAge?"\u2193":""]}),(0,Ue.jsxs)("div",{className:parseInt(C)===parseInt(e.guessNumber)?"".concat(kd.gridCell," ").concat(kd.guessRight):Math.abs(parseInt(C)-parseInt(e.guessNumber))<=10?"".concat(kd.gridCell," ").concat(kd.guessClose):"".concat(kd.gridCell," ").concat(kd.guessWrong),children:[e.guessNumber," ",parseInt(C)>parseInt(e.guessNumber)?"\u2191":parseInt(C)<parseInt(e.guessNumber)?"\u2193":""]})]},"guess-".concat(n,"-").concat(e.guessPlayerName))}))})()]})]})]})]})},Y_="BlackJack_container__0CTwu",J_="BlackJack_blackjackContainer__0OJpt",Z_="BlackJack_gameIcon__YLDM+",$_="BlackJack_optionButtons__RGqL3",eb="BlackJack_button__48acm",tb="BlackJack_buttonIcon__JyuEL",nb="BlackJack_joinGameForm__8ikQw",rb="BlackJack_joinButton__NbmfY",sb=n(5675),ib=()=>{const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),a=ee();return(0,Ue.jsxs)("div",{className:Y_,children:[(0,Ue.jsx)(ze,{}),(0,Ue.jsxs)("div",{className:J_,children:[(0,Ue.jsx)("img",{src:sb,alt:"Blackjack Icon",className:Z_}),(0,Ue.jsx)("h1",{children:"Online Blackjack"}),(0,Ue.jsxs)("div",{className:$_,children:[(0,Ue.jsxs)("button",{className:eb,onClick:async()=>{const e=Math.random().toString(36).substring(2,8).toUpperCase();await Qy(qy(E_,"games/"+e),{host:!0,players:{},status:"waiting",createdAt:Date.now()}),s(e),a("/blackjack-dealer/".concat(e))},children:[(0,Ue.jsx)("span",{className:tb,children:"\ud83c\udfb0"}),"Create Game"]}),(0,Ue.jsxs)("button",{className:eb,onClick:()=>n("join"),children:[(0,Ue.jsx)("span",{className:tb,children:"\ud83d\udc65"}),"Join Game"]})]}),"join"===e&&(0,Ue.jsxs)("div",{className:nb,children:[(0,Ue.jsx)("input",{type:"text",placeholder:"Enter game code",value:r,onChange:e=>s(e.target.value)}),(0,Ue.jsx)("input",{type:"text",placeholder:"Enter your name",value:i,onChange:e=>o(e.target.value)}),(0,Ue.jsxs)("button",{className:"".concat(rb," ").concat(eb),onClick:async()=>{if(!i.trim())return void alert("Please enter your name.");const e=qy(E_,"games/"+r.toUpperCase());if((await Xy(e)).exists()){const e={name:i,joinedAt:Date.now()},t=Ky(qy(E_,"games/"+r.toUpperCase()+"/players")).key;await Qy(qy(E_,"games/"+r.toUpperCase()+"/players/"+t),e),localStorage.setItem("playerId",t),localStorage.setItem("playerName",i),a("/blackjack-player/".concat(r))}else alert("Game not found.")},children:[(0,Ue.jsx)("span",{className:tb,children:"\ud83d\udeaa"}),"Join Game"]})]})]})]})},ob={container:"Dealer_container__o8skE",dealerSection:"Dealer_dealerSection__JhBLm",dealerIcon:"Dealer_dealerIcon__M2odg",deck:"Dealer_deck__egH58",deckCard:"Dealer_deckCard__lnKGK",dealerHand:"Dealer_dealerHand__C1-fc",dealerCard:"Dealer_dealerCard__dJlRZ",cardFront:"Dealer_cardFront__v+ZjI",handValue:"Dealer_handValue__oFVBQ",gameControls:"Dealer_gameControls__dEGd8",gameCode:"Dealer_gameCode__1Nedh",buttons:"Dealer_buttons__vk066",button:"Dealer_button__gxF4L",cancelBtn:"Dealer_cancelBtn__fzgpa",startBtn:"Dealer_startBtn__ecKdh",turnIndicator:"Dealer_turnIndicator__LpYfR",playersSection:"Dealer_playersSection__J8yfa",playerCard:"Dealer_playerCard__bkv7F",active:"Dealer_active__JmqNM",pulse:"Dealer_pulse__Txj8p",playerIcon:"Dealer_playerIcon__s0vap",playerName:"Dealer_playerName__U3uPk",playerBet:"Dealer_playerBet__mXTnm",playerCards:"Dealer_playerCards__Fmz+0",card:"Dealer_card__gqovd",win:"Dealer_win__LIHz1",tie:"Dealer_tie__nqvEE",lose:"Dealer_lose__ICae6",dealerResult:"Dealer_dealerResult__jIMZe",resultText:"Dealer_resultText__2rSWP",endControls:"Dealer_endControls__cWtM6",restartBtn:"Dealer_restartBtn__XOv3L",leaveBtn:"Dealer_leaveBtn__U0xrX"},ab=n(611),lb=n(6483),cb=n(5375),ub=n(3708),hb=n(5375),db=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=["H","D","C","S"],n=["A","2","3","4","5","6","7","8","9","10","J","Q","K"];return{suit:t[Math.floor(Math.random()*t.length)],value:n[Math.floor(Math.random()*n.length)],faceUp:e}},fb=()=>{var e;const{gameCode:n}=te(),[r,s]=(0,t.useState)([]),[i,o]=(0,t.useState)("waiting"),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(null),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null),m=ee();(0,t.useEffect)((()=>{const e=$y(qy(E_,"games/".concat(n,"/players")),(e=>{const t=e.val(),n=t?Object.entries(t).map((e=>{let[t,n]=e;return At({id:t},n)})):[];s(n)}));return()=>e()}),[n]),(0,t.useEffect)((()=>{const e=$y(qy(E_,"games/".concat(n,"/status")),(e=>{const t=e.val();t&&o(t)}));return()=>e()}),[n]),(0,t.useEffect)((()=>{const e=$y(qy(E_,"games/".concat(n,"/dealer/hand")),(e=>{const t=e.val();l(t||[])}));return()=>e()}),[n]),(0,t.useEffect)((()=>{const e=$y(qy(E_,"games/".concat(n,"/currentTurn")),(e=>{u(e.val())}));return()=>e()}),[n]),(0,t.useEffect)((()=>{const e=$y(qy(E_,"games/".concat(n,"/dealer/result")),(e=>{p(e.val())}));return()=>e()}),[n]);const g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=0;for(const s of e){if(!t&&!s.faceUp)continue;let e=0;"J"===s.value||"Q"===s.value||"K"===s.value?e=10:"A"===s.value?(e=11,r++):e=parseInt(s.value,10),n+=e}for(;n>21&&r>0;)n-=10,r--;return n},y=e=>{let t=0,n=0;for(e.forEach(((e,r)=>{if(r>=2&&!e.faceUp)return;let s=0;"J"===e.value||"Q"===e.value||"K"===e.value?s=10:"A"===e.value?(s=11,n++):s=parseInt(e.value,10),t+=s}));t>21&&n>0;)t-=10,n--;return t},v=async()=>{if(0===r.length)return;const e=(t=c,r.findIndex((e=>e.id===t)));var t;-1!==e&&(e===r.length-1?await Qy(qy(E_,"games/".concat(n,"/currentTurn")),"dealer"):await Qy(qy(E_,"games/".concat(n,"/currentTurn")),r[e+1].id))};(0,t.useEffect)((()=>{if("inProgress"===i&&"dealer"!==c){const e=r.find((e=>e.id===c));if(e&&e.hand&&2===e.hand.length&&21===y(e.hand)){const t=e.bet||0;Qy(qy(E_,"games/".concat(n,"/players/").concat(e.id,"/result")),{outcome:"blackjack",drinks:1.5*t}),v()}}}),[c,i,r]);return(0,t.useEffect)((()=>{"inProgress"===i&&"dealer"===c&&(async()=>{if(h)return;d(!0),console.log("Finishing round...");const e=r.map((e=>{if(e.hand){const t=e.hand.map((e=>At(At({},e),{},{faceUp:!0})));return Qy(qy(E_,"games/".concat(n,"/players/").concat(e.id,"/hand")),t),At(At({},e),{},{hand:t})}return e}));s(e),console.log(r);let t=a.map((e=>At(At({},e),{},{faceUp:!0})));for(await Qy(qy(E_,"games/".concat(n,"/dealer/hand")),t);g(t)<17;){const e=db(!0);t=[...t,e],await Qy(qy(E_,"games/".concat(n,"/dealer/hand")),t)}const i=y(t);let o=0;for(const s of r){const e=y(s.hand||[]),t=s.bet||0;if(s.hand&&2===s.hand.length&&21===e){const e="blackjack",r=1.5*t;o+=r,await Qy(qy(E_,"games/".concat(n,"/players/").concat(s.id,"/result")),{outcome:e,drinks:r});continue}let r,a;e>21&&i>21?(r="tie",a=0):e>21?(r="lose",a=t):i>21||e>i?(r="win",a=t,o+=t):e<i?(r="lose",a=t):(r="tie",a=0),await Qy(qy(E_,"games/".concat(n,"/players/").concat(s.id,"/result")),{outcome:r,drinks:a})}await Qy(qy(E_,"games/".concat(n,"/dealer/result")),o),await Qy(qy(E_,"games/".concat(n,"/status")),"ended")})()}),[c,i]),(0,Ue.jsxs)("div",{className:ob.container,children:[(0,Ue.jsxs)("div",{className:ob.dealerSection,children:[(0,Ue.jsx)("img",{src:ab,alt:"Dealer",className:ob.dealerIcon}),(0,Ue.jsx)("div",{className:ob.deck,children:(0,Ue.jsx)("img",{src:cb,alt:"Deck",className:ob.deckCard})}),("inProgress"===i||"ended"===i)&&(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("div",{className:ob.dealerHand,children:a.map(((e,t)=>(0,Ue.jsx)("div",{className:ob.dealerCard,children:e.faceUp?(0,Ue.jsx)("div",{className:ob.cardFront,children:(0,Ue.jsx)(fh,{value:e.value,suit:e.suit,faceUp:!0,className:ob.cardFront,nonFlippable:!0},t)}):(0,Ue.jsx)("img",{src:hb,alt:"Card back",className:ob.card})},t)))}),a.length>0&&(0,Ue.jsxs)("p",{className:ob.handValue,children:["Dealer Hand Value: ",g(a)]})]})]}),(0,Ue.jsx)("div",{className:ob.gameControls,children:"waiting"===i&&(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("p",{className:ob.gameCode,children:["Game Code: ",n]}),(0,Ue.jsxs)("div",{className:ob.buttons,children:[(0,Ue.jsxs)("button",{onClick:()=>{s([]),o("waiting"),l([]),u(null),d(!1),Qy(qy(E_,"games/".concat(n)),null),m("/blackjack")},className:"".concat(ob.cancelBtn," ").concat(ob.button),children:[(0,Ue.jsx)("span",{className:ob.buttonIcon,children:"\ud83d\udeab"}),"Cancel Game"]}),(0,Ue.jsxs)("button",{onClick:async()=>{const e=(e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t})((()=>{const e=["H","D","C","S"],t=["A","2","3","4","5","6","7","8","9","10","J","Q","K"];let n=[];for(let r=0;r<8;r++)for(const s of e)for(const e of t)n.push({suit:s,value:e});return n})()),t=[...e],s=[At(At({},t.shift()),{},{faceUp:!0}),At(At({},t.shift()),{},{faceUp:!1})];for(const i of r){const e=[At(At({},t.shift()),{},{faceUp:!0}),At(At({},t.shift()),{},{faceUp:!0})];await Qy(qy(E_,"games/".concat(n,"/players/").concat(i.id,"/hand")),e),void 0===i.bet&&await Qy(qy(E_,"games/".concat(n,"/players/").concat(i.id,"/bet")),0)}await Qy(qy(E_,"games/".concat(n,"/dealer/hand")),s),r.length>0&&await Qy(qy(E_,"games/".concat(n,"/currentTurn")),r[0].id),await Qy(qy(E_,"games/".concat(n,"/status")),"inProgress"),console.log("Game started for",n)},className:"".concat(ob.startBtn," ").concat(ob.button),children:[(0,Ue.jsx)("span",{className:ob.buttonIcon,children:"\ud83c\udfae"}),"Start Game"]})]})]})}),"inProgress"===i&&c&&r.find((e=>e.id===c))&&(0,Ue.jsx)("div",{className:ob.turnIndicator,children:(0,Ue.jsxs)("p",{children:["\ud83c\udfb2 Current Turn: ",(null===(e=r.find((e=>e.id===c)))||void 0===e?void 0:e.name)||c]})}),"ended"===i&&null!==f&&(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("div",{className:ob.dealerResult,children:(0,Ue.jsxs)("p",{className:ob.resultText,children:["\ud83e\udd64 Dealer drinks ",f," drinks!"]})}),(0,Ue.jsxs)("div",{className:ob.endControls,children:[(0,Ue.jsxs)("button",{onClick:async()=>{await Qy(qy(E_,"games/".concat(n,"/dealer/hand")),[]),await Qy(qy(E_,"games/".concat(n,"/dealer/result")),null),await Qy(qy(E_,"games/".concat(n,"/currentTurn")),null),await Qy(qy(E_,"games/".concat(n,"/status")),"waiting");for(const e of r)await Qy(qy(E_,"games/".concat(n,"/players/").concat(e.id,"/hand")),[]),await Qy(qy(E_,"games/".concat(n,"/players/").concat(e.id,"/result")),null),await Qy(qy(E_,"games/".concat(n,"/players/").concat(e.id,"/bet")),null);d(!1),p(null),l([])},className:"".concat(ob.restartBtn," ").concat(ob.button),children:[(0,Ue.jsx)("span",{className:ob.buttonIcon,children:"\ud83d\udd04"}),"Restart Game"]}),(0,Ue.jsxs)("button",{onClick:()=>{Qy(qy(E_,"games/".concat(n)),null),m("/blackjack")},className:"".concat(ob.leaveBtn," ").concat(ob.button),children:[(0,Ue.jsx)("span",{className:ob.buttonIcon,children:"\ud83d\udeaa"}),"Leave Game"]})]})]}),(0,Ue.jsx)("div",{className:ob.playersSection,children:r.map((e=>{const t=e.hand?y(e.hand):0,n=t>21,r="ended"===i&&e.result?"win"===e.result.outcome||"blackjack"===e.result.outcome?ob.win:"tie"===e.result.outcome?ob.tie:"lose"===e.result.outcome?ob.lose:"":"";return(0,Ue.jsxs)("div",{className:"".concat(ob.playerCard," ").concat(e.id===c?ob.active:""," ").concat(r),children:[(0,Ue.jsx)("img",{src:lb,alt:"Player",className:ob.playerIcon}),(0,Ue.jsx)("p",{className:ob.playerName,children:e.name}),(0,Ue.jsxs)("p",{className:ob.playerBet,children:["Drinks Bet: ",void 0!==e.bet&&null!==e.bet?e.bet:""]}),(0,Ue.jsx)("div",{className:ob.playerCards,children:e.hand&&e.hand.length>0?e.hand.map(((e,t)=>(0,Ue.jsx)(fh,{value:e.value,suit:e.suit,faceUp:e.faceUp,className:ob.card,nonFlippable:!0},t))):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("img",{src:ub,alt:"Card 1",className:ob.card}),(0,Ue.jsx)("img",{src:ub,alt:"Card 2",className:ob.card})]})}),(0,Ue.jsxs)("p",{className:ob.handValue,children:["Hand Value: ",t," ",n&&(0,Ue.jsx)("span",{className:ob.bustMessage,children:"Busted!"})]})]},e.id)}))})]})},pb={container:"Player_container__aq9dv",playerCard:"Player_playerCard__xl1cO",playerIcon:"Player_playerIcon__Lgjxd",playerName:"Player_playerName__cQI7y",playerBet:"Player_playerBet__yyxyx",betForm:"Player_betForm__VwSfF",betInput:"Player_betInput__e3i5a",betButton:"Player_betButton__EXdKT",playerCards:"Player_playerCards__+g8aT",card:"Player_card__M8CBy",handValue:"Player_handValue__W2mwE",turnActions:"Player_turnActions__KSJDJ",turnMessage:"Player_turnMessage__ldf+m",actionButtons:"Player_actionButtons__jd9Ip",actionButton:"Player_actionButton__fPQjg",doubleConfirm:"Player_doubleConfirm__MewjB",doubleButtons:"Player_doubleButtons__Zof+w",bustMessage:"Player_bustMessage__r9OxT",shake:"Player_shake__pTEM0",waitingMessage:"Player_waitingMessage__RKm3v",result:"Player_result__fE6pF",resultText:"Player_resultText__Ted8M",win:"Player_win__5g-Z+",lose:"Player_lose__yzQbm",tie:"Player_tie__5EvRx",leaveButton:"Player_leaveButton__jz034"},mb=n(6483),gb=()=>{var e;const{gameCode:r}=te(),s=ee(),i=localStorage.getItem("playerId"),[o,a]=(0,t.useState)({name:"Your Name",hand:[],bet:void 0}),[l,c]=(0,t.useState)(""),[u,h]=(0,t.useState)([]),[d,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),[v,_]=(0,t.useState)(null);(0,t.useEffect)((()=>{if(!i)return;const e=$y(qy(E_,"games/".concat(r,"/players/").concat(i)),(e=>{const t=e.val();t&&a(t)}));return()=>e()}),[r,i]),(0,t.useEffect)((()=>{const e=$y(qy(E_,"games/".concat(r,"/players")),(e=>{const t=e.val();if(t){const e=Object.entries(t).map((e=>{let[t,n]=e;return At({id:t},n)}));e.sort(((e,t)=>e.joinedAt-t.joinedAt)),h(e)}}));return()=>e()}),[r]),(0,t.useEffect)((()=>{const e=$y(qy(E_,"games/".concat(r,"/currentTurn")),(e=>{f(e.val())}));return()=>e()}),[r]),(0,t.useEffect)((()=>{const e=$y(qy(E_,"games/".concat(r,"/status")),(e=>{_(e.val())}));return()=>e()}),[r]);const b=d===i,w=()=>{if(!u||0===u.length)return i;const e=u.findIndex((e=>e.id===i));return e===u.length-1?"dealer":u[e+1].id},A=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=["H","D","C","S"],n=["A","2","3","4","5","6","7","8","9","10","J","Q","K"];return{suit:t[Math.floor(Math.random()*t.length)],value:n[Math.floor(Math.random()*n.length)],faceUp:e}},C=async()=>{await Qy(qy(E_,"games/".concat(r,"/currentTurn")),w()),y(!1)},x=async e=>{const t=A(e),n=o.hand?[...o.hand,t]:[t];await Qy(qy(E_,"games/".concat(r,"/players/").concat(i,"/hand")),n);const s=o.bet||0;await Qy(qy(E_,"games/".concat(r,"/players/").concat(i,"/bet")),2*s),await Qy(qy(E_,"games/".concat(r,"/currentTurn")),w()),m(!1),y(!1)},S=(e=>{let t=0,n=0;for(e.forEach(((e,r)=>{if(r>=2&&!e.faceUp)return;let s=0;"J"===e.value||"Q"===e.value||"K"===e.value?s=10:"A"===e.value?(s=11,n++):s=parseInt(e.value,10),t+=s}));t>21&&n>0;)t-=10,n--;return t})(o.hand||[]);(0,t.useEffect)((()=>{b&&S>21&&!g&&(y(!0),setTimeout((()=>{C()}),2e3))}),[S,b,g]);return(0,Ue.jsxs)("div",{className:pb.container,children:[(0,Ue.jsxs)("div",{className:pb.playerCard,children:[(0,Ue.jsx)("img",{src:mb,alt:"Player",className:pb.playerIcon}),(0,Ue.jsx)("p",{className:pb.playerName,children:o.name}),void 0!==o.bet?(0,Ue.jsxs)("p",{className:pb.playerBet,children:["\ud83e\udd64 Drinks Bet: ",o.bet]}):(0,Ue.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=""===l?0:parseInt(l,10);await Qy(qy(E_,"games/".concat(r,"/players/").concat(i,"/bet")),t),c("")},className:pb.betForm,children:[(0,Ue.jsx)("input",{type:"number",value:l,onChange:e=>c(e.target.value),placeholder:"Enter drinks bet",className:pb.betInput}),(0,Ue.jsxs)("button",{type:"submit",className:pb.betButton,children:[(0,Ue.jsx)("span",{className:pb.buttonIcon,children:"\ud83d\udcb8"}),"Place Bet"]})]}),(0,Ue.jsx)("div",{className:pb.playerCards,children:o.hand&&o.hand.length>0?o.hand.map(((e,t)=>(0,Ue.jsx)(fh,{value:e.value,suit:e.suit,faceUp:e.faceUp,className:pb.card,nonFlippable:!0},t))):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("img",{src:n(3708),alt:"Card 1",className:pb.card}),(0,Ue.jsx)("img",{src:n(3708),alt:"Card 2",className:pb.card})]})}),(0,Ue.jsxs)("p",{className:pb.handValue,children:["\ud83c\udccf Hand Value: ",S]}),"ended"!==v?b?(0,Ue.jsx)(Ue.Fragment,{children:g?(0,Ue.jsx)("p",{className:pb.bustMessage,children:"\ud83d\udca5 Busted! Your hand exceeds 21."}):(0,Ue.jsxs)("div",{className:pb.turnActions,children:[(0,Ue.jsx)("p",{className:pb.turnMessage,children:"\ud83c\udfb2 It's your turn!"}),p?(0,Ue.jsxs)("div",{className:pb.doubleConfirm,children:[(0,Ue.jsx)("p",{children:"Double: Choose card orientation"}),(0,Ue.jsxs)("div",{className:pb.doubleButtons,children:[(0,Ue.jsxs)("button",{onClick:()=>x(!0),className:pb.actionButton,children:[(0,Ue.jsx)("span",{className:pb.buttonIcon,children:"\ud83d\udd3c"}),"Face-Up"]}),(0,Ue.jsxs)("button",{onClick:()=>x(!1),className:pb.actionButton,children:[(0,Ue.jsx)("span",{className:pb.buttonIcon,children:"\ud83d\udd3d"}),"Face-Down"]})]})]}):(0,Ue.jsxs)("div",{className:pb.actionButtons,children:[(0,Ue.jsxs)("button",{onClick:async()=>{const e=A(!0),t=o.hand?[...o.hand,e]:[e];await Qy(qy(E_,"games/".concat(r,"/players/").concat(i,"/hand")),t)},className:pb.actionButton,children:[(0,Ue.jsx)("span",{className:pb.buttonIcon,children:"\u2795"}),"Hit"]}),(0,Ue.jsxs)("button",{onClick:C,className:pb.actionButton,children:[(0,Ue.jsx)("span",{className:pb.buttonIcon,children:"\u270b"}),"Stand"]}),o.hand&&2===o.hand.length&&(0,Ue.jsxs)("button",{onClick:()=>{m(!0)},className:pb.actionButton,children:[(0,Ue.jsx)("span",{className:pb.buttonIcon,children:"\u23eb"}),"Double"]})]})]})}):(0,Ue.jsxs)("p",{className:pb.waitingMessage,children:["\u23f3 Waiting for ",null===(e=u.find((e=>e.id===d)))||void 0===e?void 0:e.name,"'s turn..."]}):o.result&&(0,Ue.jsxs)("div",{className:"".concat(pb.result," ").concat(pb[o.result.outcome]),children:["lose"===o.result.outcome&&(0,Ue.jsxs)("p",{className:pb.resultText,children:["\ud83c\udf79 Drink ",o.result.drinks," drinks!"]}),"win"===o.result.outcome&&(0,Ue.jsxs)("p",{className:pb.resultText,children:["\ud83c\udf89 You won! Dealer drinks ",o.result.drinks,"!"]}),"tie"===o.result.outcome&&(0,Ue.jsx)("p",{className:pb.resultText,children:"\ud83e\udd1d Push! No drinks."}),"blackjack"===o.result.outcome&&(0,Ue.jsxs)("p",{className:pb.resultText,children:["\u2660\ufe0f Blackjack! Dealer drinks ",o.result.drinks,"!"]})]})]}),(0,Ue.jsxs)("button",{onClick:async()=>{await Qy(qy(E_,"games/".concat(r,"/players/").concat(i)),null),s("/blackjack")},className:pb.leaveButton,children:[(0,Ue.jsx)("span",{className:pb.buttonIcon,children:"\ud83d\udeaa"}),"Leave Game"]})]})},yb={tournamentContainer:"Tournament_tournamentContainer__Mhkdg",nav:"Tournament_nav__qbS4M",navItem:"Tournament_navItem__LSBJG",active:"Tournament_active__TbiWN",content:"Tournament_content__E8q8s",teamsContainer:"Tournament_teamsContainer__mQAba",addTeam:"Tournament_addTeam__AGzeQ",addPlayerButton:"Tournament_addPlayerButton__yw+AJ",addTeamButton:"Tournament_addTeamButton__HtFzW",teamList:"Tournament_teamList__8LUcv",teamItem:"Tournament_teamItem__KymxB",teamHeader:"Tournament_teamHeader__uNh43",teamInfo:"Tournament_teamInfo__tMtkn",teamName:"Tournament_teamName__Ax8F2",teamCode:"Tournament_teamCode__19v0o",playerList:"Tournament_playerList__ykJB8",playerItem:"Tournament_playerItem__HhsCL",startButton:"Tournament_startButton__zjw3R",teamStats:"Tournament_teamStats__6RYxv",counter:"Tournament_counter__ZdJgt",selectedLogos:"Tournament_selectedLogos__RpsML",teamLogo:"Tournament_teamLogo__rSRyH",scheduleContainer:"Tournament_scheduleContainer__OG4rZ",tvColumn:"Tournament_tvColumn__SmErC",scrollColumn:"Tournament_scrollColumn__H0JFn",gameCard:"Tournament_gameCard__J24JU",completedGame:"Tournament_completedGame__K-MBO",gameInfo:"Tournament_gameInfo__43+fb",otRow:"Tournament_otRow__nNckU",teamRow:"Tournament_teamRow__eKR8G",scoreDisplay:"Tournament_scoreDisplay__8n2Fh",scoreInput:"Tournament_scoreInput__T8AoZ",gameActions:"Tournament_gameActions__7HoeJ",standingsContainer:"Tournament_standingsContainer__4Jt9d",standingsTable:"Tournament_standingsTable__peEqL",teamCell:"Tournament_teamCell__1cyBa",bracketContainer:"Tournament_bracketContainer__XTi+O",bracketGrid:"Tournament_bracketGrid__fZfF-",bracketColumn:"Tournament_bracketColumn__ebBIF",matchContainer:"Tournament_matchContainer__kviDS",matchRow:"Tournament_matchRow__cPeb9",teamSlot:"Tournament_teamSlot__kZk5Y",placeholderSlot:"Tournament_placeholderSlot__QL8IW",selectedTeam:"Tournament_selectedTeam__jqxpH",vsText:"Tournament_vsText__y+z21",winnerText:"Tournament_winnerText__74b4q",championBox:"Tournament_championBox__qK6TM",teamDisplay:"Tournament_teamDisplay__acToC",playerInput:"Tournament_playerInput__6qXw5"};async function vb(e,t){"4340"===prompt("Enter password for write access:")?await Gy(e,t):alert("Invalid password, update skipped.")}function _b(e){let{game:n,teams:r,onEditScore:s,onGameOver:i,onToggleOT:o}=e;const a=null===r||void 0===r?void 0:r[n.homeTeam],l=null===r||void 0===r?void 0:r[n.awayTeam],[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(n.homeScore),[f,p]=(0,t.useState)(n.awayScore),[m,g]=(0,t.useState)(Boolean(n.ot));if(!a||!l)return null;return(0,Ue.jsxs)("div",{className:"".concat(yb.gameCard," ").concat(n.completed?yb.completedGame:""),children:[(0,Ue.jsxs)("div",{className:yb.gameInfo,children:[(0,Ue.jsx)("div",{className:yb.otRow,children:(0,Ue.jsxs)("label",{children:[(0,Ue.jsx)("input",{type:"checkbox",checked:c?m:Boolean(n.ot),onChange:e=>{g(e.target.checked)},disabled:!c||n.completed}),"OT?"]})}),(0,Ue.jsxs)("div",{className:yb.teamRow,children:[(0,Ue.jsx)(Nb,{teamCode:a.code}),(0,Ue.jsx)("span",{children:a.name}),c?(0,Ue.jsx)("input",{type:"number",value:h,onChange:e=>d(e.target.value),disabled:n.completed,className:yb.scoreInput}):(0,Ue.jsx)("span",{className:yb.scoreDisplay,children:n.homeScore})]}),(0,Ue.jsxs)("div",{className:yb.teamRow,children:[(0,Ue.jsx)(Nb,{teamCode:l.code}),(0,Ue.jsx)("span",{children:l.name}),c?(0,Ue.jsx)("input",{type:"number",value:f,onChange:e=>p(e.target.value),disabled:n.completed,className:yb.scoreInput}):(0,Ue.jsx)("span",{className:yb.scoreDisplay,children:n.awayScore})]})]}),(0,Ue.jsxs)("div",{className:yb.gameActions,children:[!n.completed&&!c&&(0,Ue.jsx)("button",{onClick:()=>{u(!0)},children:"Edit Score"}),!n.completed&&c&&(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("button",{onClick:()=>{s(n.id,Number(h),Number(f)),o(n.id,m),u(!1)},children:"Submit"}),(0,Ue.jsx)("button",{onClick:()=>{d(n.homeScore),p(n.awayScore),g(Boolean(n.ot)),u(!1)},children:"Cancel"})]}),!n.completed&&(0,Ue.jsx)("button",{onClick:()=>i(n.id),children:"Game Over"}),n.completed&&(0,Ue.jsx)("span",{children:"Finished"})]})]})}const bb=e=>{let{teams:n}=e;const[r,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0);(0,t.useEffect)((()=>{if(!n||0===Object.keys(n).length)return;$y(qy(E_,"tournament/schedule"),(e=>{const t=e.val();console.log("Schedule data from Firebase:",t),t&&Object.keys(t).length>0?(s(Object.values(t).sort(((e,t)=>Number(e.completed)-Number(t.completed)))),o(!1)):a(Object.entries(n))}))}),[n]);const a=async e=>{const t=[];for(let s=0;s<e.length;s++)for(let n=s+1;n<e.length;n++){let r,i;(s+n)%2===0?(r=e[s][0],i=e[n][0]):(r=e[n][0],i=e[s][0]),t.push({id:"",homeTeam:r,awayTeam:i,tv:"",timeslot:0,completed:!1,homeScore:0,awayScore:0,ot:!1})}for(let s=t.length-1;s>0;s--){const e=Math.floor(Math.random()*(s+1));[t[s],t[e]]=[t[e],t[s]]}const n=Math.floor(t.length/2);for(let s=0;s<t.length;s++)t[s].tv=s<n?"main":"small";for(let s=0;s<t.length;s++)t[s].id="game_".concat(s),t[s].timeslot=s;const r=t;await Qy(qy(E_,"tournament/schedule"),r)},l=(e,t,n)=>{const r=e.split("_")[1];vb(qy(E_,"tournament/schedule/".concat(r)),{homeScore:t,awayScore:n})},c=e=>{const t=e.split("_")[1];vb(qy(E_,"tournament/schedule/".concat(t)),{completed:!0,timeslot:100})},u=(e,t)=>{const n=e.split("_")[1];vb(qy(E_,"tournament/schedule/".concat(n)),{ot:t})},h=r.filter((e=>"main"===e.tv)).sort(((e,t)=>e.timeslot===t.timeslot?Number(e.completed)-Number(t.completed):e.timeslot-t.timeslot)),d=r.filter((e=>"small"===e.tv)).sort(((e,t)=>e.timeslot===t.timeslot?Number(e.completed)-Number(t.completed):e.timeslot-t.timeslot));return i?(0,Ue.jsx)("div",{children:"Loading schedule..."}):(0,Ue.jsxs)("div",{className:yb.scheduleContainer,children:[(0,Ue.jsxs)("div",{className:yb.tvColumn,children:[(0,Ue.jsx)("h2",{children:"Main TV"}),(0,Ue.jsx)("div",{className:yb.scrollColumn,children:h.map((e=>(0,Ue.jsx)(_b,{game:e,teams:n,onEditScore:l,onGameOver:c,onToggleOT:u},e.id)))})]}),(0,Ue.jsxs)("div",{className:yb.tvColumn,children:[(0,Ue.jsx)("h2",{children:"Small TV"}),(0,Ue.jsx)("div",{className:yb.scrollColumn,children:d.map((e=>(0,Ue.jsx)(_b,{game:e,teams:n,onEditScore:l,onGameOver:c,onToggleOT:u},e.id)))})]})]})},wb=e=>{let{teams:n}=e;const[r,s]=(0,t.useState)([]),[i,o]=(0,t.useState)("PTS"),[a,l]=(0,t.useState)("desc");(0,t.useEffect)((()=>{if(!n||0===Object.keys(n).length)return void s([]);const e=$y(qy(E_,"tournament/schedule"),(e=>{const t=e.val();if(!t)return void s([]);const r=Cb(Object.values(t).filter((e=>!0===e.completed)),n);s(r)}));return()=>e()}),[n]);const c=e=>{i===e?l((e=>"asc"===e?"desc":"asc")):(o(e),l("name"===e?"asc":"desc"))},u=(0,t.useMemo)((()=>{const e=[...r];return e.sort(((e,t)=>{if("name"===i)return e.name<t.name?"asc"===a?-1:1:e.name>t.name?"asc"===a?1:-1:0;if("powerRank"===i)return e.powerRank<t.powerRank?"asc"===a?-1:1:e.powerRank>t.powerRank?"asc"===a?1:-1:0;{var n,r;const s=null!==(n=e[i])&&void 0!==n?n:0,o=null!==(r=t[i])&&void 0!==r?r:0;return s<o?"asc"===a?-1:1:s>o?"asc"===a?1:-1:0}})),e}),[r,i,a]);return(0,Ue.jsxs)("div",{className:yb.standingsContainer,children:[(0,Ue.jsx)("h2",{children:"Standings"}),(0,Ue.jsxs)("table",{className:yb.standingsTable,children:[(0,Ue.jsx)("thead",{children:(0,Ue.jsxs)("tr",{children:[(0,Ue.jsx)(Ab,{label:"Team",onClick:()=>c("name"),sortField:i,thisField:"name",sortDirection:a}),(0,Ue.jsx)(Ab,{label:"GP",onClick:()=>c("GP"),sortField:i,thisField:"GP",sortDirection:a}),(0,Ue.jsx)(Ab,{label:"W",onClick:()=>c("W"),sortField:i,thisField:"W",sortDirection:a}),(0,Ue.jsx)(Ab,{label:"L",onClick:()=>c("L"),sortField:i,thisField:"L",sortDirection:a}),(0,Ue.jsx)(Ab,{label:"OTL",onClick:()=>c("OTL"),sortField:i,thisField:"OTL",sortDirection:a}),(0,Ue.jsx)(Ab,{label:"PTS",onClick:()=>c("PTS"),sortField:i,thisField:"PTS",sortDirection:a}),(0,Ue.jsx)(Ab,{label:"GF",onClick:()=>c("GF"),sortField:i,thisField:"GF",sortDirection:a}),(0,Ue.jsx)(Ab,{label:"GA",onClick:()=>c("GA"),sortField:i,thisField:"GA",sortDirection:a}),(0,Ue.jsx)(Ab,{label:"Power Rank",onClick:()=>c("powerRank"),sortField:i,thisField:"powerRank",sortDirection:a})]})}),(0,Ue.jsx)("tbody",{children:u.map((e=>(0,Ue.jsxs)("tr",{children:[(0,Ue.jsxs)("td",{className:yb.teamCell,children:[(0,Ue.jsx)(Nb,{teamCode:e.code}),(0,Ue.jsx)("span",{children:e.name})]}),(0,Ue.jsx)("td",{children:e.GP}),(0,Ue.jsx)("td",{children:e.W}),(0,Ue.jsx)("td",{children:e.L}),(0,Ue.jsx)("td",{children:e.OTL}),(0,Ue.jsx)("td",{children:e.PTS}),(0,Ue.jsx)("td",{children:e.GF}),(0,Ue.jsx)("td",{children:e.GA}),(0,Ue.jsx)("td",{children:e.powerRank})]},e.teamKey)))})]})]})};function Ab(e){let{label:t,onClick:n,sortField:r,thisField:s,sortDirection:i}=e,o="";return r===s&&(o="asc"===i?" \u25b2":" \u25bc"),(0,Ue.jsxs)("th",{onClick:n,style:{cursor:"pointer",userSelect:"none"},children:[t,o]})}function Cb(e,t){const n={};for(const[s,i]of Object.entries(t))n[s]={teamKey:s,name:i.name,code:i.code,GP:0,W:0,L:0,OTL:0,PTS:0,GF:0,GA:0,homeW:0,awayW:0,homeL:0,awayL:0,homeOTL:0,awayOTL:0,opponents:[],Power:0,powerRank:0,SOS:0};for(const s of e){const{homeTeam:e,awayTeam:t,homeScore:r,awayScore:i,ot:o}=s,a=n[e],l=n[t];a&&l&&(a.GP++,l.GP++,a.GF+=r,a.GA+=i,l.GF+=i,l.GA+=r,a.opponents.push(t),l.opponents.push(e),r>i?(a.W++,a.homeW++,a.PTS+=2,o?(l.OTL++,l.awayOTL++,l.PTS++,l.L++,l.awayL++):(l.L++,l.awayL++)):i>r?(l.W++,l.awayW++,l.PTS+=2,o?(a.OTL++,a.homeOTL++,a.PTS++,a.L++,a.homeL++):(a.L++,a.homeL++)):(a.L++,a.homeL++,l.L++,l.awayL++))}for(const s in n){const e=n[s],t=e.GF-e.GA;e.Power=e.PTS+.05*t}for(const s in n){const e=n[s];let t=0;for(const r of e.opponents)t+=n[r].Power;e.SOS=e.opponents.length?t/e.opponents.length:0}for(const s in n){const e=n[s],t=.1*e.homeW,r=.2*e.awayW,i=.1*e.homeL,o=.05*e.awayL,a=.1*e.SOS;e.Power+=r+t-i-o+a}const r=Object.values(n).sort(((e,t)=>t.Power-e.Power));return r.forEach(((e,t)=>{e.powerRank=t+1})),Object.values(n)}const xb=e=>{let{teams:n}=e;const[r,s]=(0,t.useState)([]),[i,o]=(0,t.useState)({matchA:null,matchC:null,matchD:null,matchB:null,matchE:null,final:null});(0,t.useEffect)((()=>{if(!n||0===Object.keys(n).length)return;const e=$y(qy(E_,"tournament/schedule"),(e=>{const t=e.val();if(!t)return void s([]);const r=Cb(Object.values(t).filter((e=>!0===e.completed)),n);r.sort(((e,t)=>{if(t.PTS!==e.PTS)return t.PTS-e.PTS;if(t.W!==e.W)return t.W-e.W;const n=e.GF-e.GA,r=t.GF-t.GA;return r!==n?r-n:e.name.localeCompare(t.name)})),s(r.slice(0,7))}));return()=>e()}),[n]),(0,t.useEffect)((()=>{const e=$y(qy(E_,"tournament/bracket"),(e=>{const t=e.val();t&&o(t)}));return()=>e()}),[]);const a=(e,t)=>{o((n=>{const r=At(At({},n),{},{[e]:t});return async function(e,t){"4340"===prompt("Enter password for write access:")?await Qy(e,t):alert("Invalid password, update skipped.")}(qy(E_,"tournament/bracket"),r),r}))};if(r.length<7)return(0,Ue.jsxs)("div",{className:yb.bracketContainer,children:[(0,Ue.jsx)("h2",{children:"Playoff Bracket"}),(0,Ue.jsx)("p",{children:"Need at least 7 teams in the standings!"})]});const l=r[0],c=r[1],u=r[2],h=r[3],d=r[4],f=r[5],p=r[6],m=i.matchA,g=i.matchC,y=i.matchD,v=i.matchB,_=i.matchE,b=i.final;return(0,Ue.jsxs)("div",{className:yb.bracketContainer,children:[(0,Ue.jsx)("h2",{children:"Playoff Bracket"}),(0,Ue.jsxs)("div",{className:yb.bracketGrid,children:[(0,Ue.jsxs)("div",{className:yb.bracketColumn,children:[(0,Ue.jsx)(Sb,{label:"QF: (4 vs 5)",team1:h,team2:d,winner:m,matchKey:"matchA",onWinnerSelect:a}),(0,Ue.jsx)(Sb,{label:"QF: (2 vs 7)",team1:c,team2:p,winner:g,matchKey:"matchC",onWinnerSelect:a}),(0,Ue.jsx)(Sb,{label:"QF: (3 vs 6)",team1:u,team2:f,winner:y,matchKey:"matchD",onWinnerSelect:a})]}),(0,Ue.jsxs)("div",{className:yb.bracketColumn,children:[(0,Ue.jsx)(Sb,{label:"SF: (#1 vs A)",team1:l,team2:m,winner:v,matchKey:"matchB",onWinnerSelect:a}),(0,Ue.jsx)(Sb,{label:"SF: (C vs D)",team1:g,team2:y,winner:_,matchKey:"matchE",onWinnerSelect:a})]}),(0,Ue.jsxs)("div",{className:yb.bracketColumn,children:[(0,Ue.jsx)(Sb,{label:"Final",team1:v,team2:_,winner:b,matchKey:"final",onWinnerSelect:a}),b&&(0,Ue.jsxs)("div",{className:yb.championBox,children:[(0,Ue.jsx)("h3",{children:"Champion:"}),(0,Ue.jsx)(Eb,{team:b})]})]})]})]})};function Sb(e){let{label:t,team1:n,team2:r,winner:s,matchKey:i,onWinnerSelect:o}=e;return(0,Ue.jsxs)("div",{className:yb.matchContainer,children:[(0,Ue.jsx)("h4",{children:t}),(0,Ue.jsxs)("div",{className:yb.matchRow,children:[(0,Ue.jsx)(kb,{team:n,isWinner:(null===s||void 0===s?void 0:s.teamKey)===(null===n||void 0===n?void 0:n.teamKey),onClick:()=>n&&o(i,n)}),(0,Ue.jsx)("span",{className:yb.vsText,children:"vs."}),(0,Ue.jsx)(kb,{team:r,isWinner:(null===s||void 0===s?void 0:s.teamKey)===(null===r||void 0===r?void 0:r.teamKey),onClick:()=>r&&o(i,r)})]}),s&&(0,Ue.jsxs)("div",{className:yb.winnerText,children:["Winner: ",s.name]})]})}function kb(e){let{team:t,isWinner:n,onClick:r}=e;return t?(0,Ue.jsxs)("div",{className:"".concat(yb.teamSlot," ").concat(n?yb.selectedTeam:""),onClick:r,children:[(0,Ue.jsx)(Nb,{teamCode:t.code}),(0,Ue.jsx)("span",{children:t.name})]}):(0,Ue.jsx)("div",{className:yb.placeholderSlot,children:"TBD"})}function Eb(e){let{team:t}=e;return t?(0,Ue.jsxs)("div",{className:yb.teamDisplay,children:[(0,Ue.jsx)(Nb,{teamCode:t.code}),(0,Ue.jsx)("span",{children:t.name})]}):null}const Tb={CAR:"https://assets.nhle.com/logos/nhl/svg/CAR_dark.svg",CBJ:"https://assets.nhle.com/logos/nhl/svg/CBJ_dark.svg",NJD:"https://assets.nhle.com/logos/nhl/svg/NJD_dark.svg",NYI:"https://assets.nhle.com/logos/nhl/svg/NYI_dark.svg",NYR:"https://assets.nhle.com/logos/nhl/svg/NYR_dark.svg",PHI:"https://assets.nhle.com/logos/nhl/svg/PHI_dark.svg",PIT:"https://assets.nhle.com/logos/nhl/svg/PIT_dark.svg",WSH:"https://assets.nhle.com/logos/nhl/svg/WSH_dark.svg",BOS:"https://assets.nhle.com/logos/nhl/svg/BOS_dark.svg",BUF:"https://assets.nhle.com/logos/nhl/svg/BUF_dark.svg",DET:"https://assets.nhle.com/logos/nhl/svg/DET_dark.svg",FLA:"https://assets.nhle.com/logos/nhl/svg/FLA_dark.svg",MTL:"https://assets.nhle.com/logos/nhl/svg/MTL_dark.svg",OTT:"https://assets.nhle.com/logos/nhl/svg/OTT_dark.svg",TBL:"https://assets.nhle.com/logos/nhl/svg/TBL_dark.svg",TOR:"https://assets.nhle.com/logos/nhl/svg/TOR_dark.svg",CHI:"https://assets.nhle.com/logos/nhl/svg/CHI_dark.svg",COL:"https://assets.nhle.com/logos/nhl/svg/COL_dark.svg",DAL:"https://assets.nhle.com/logos/nhl/svg/DAL_dark.svg",MIN:"https://assets.nhle.com/logos/nhl/svg/MIN_dark.svg",NSH:"https://assets.nhle.com/logos/nhl/svg/NSH_dark.svg",STL:"https://assets.nhle.com/logos/nhl/svg/STL_dark.svg",UTA:"https://assets.nhle.com/logos/nhl/svg/UTA_dark.svg",WPG:"https://assets.nhle.com/logos/nhl/svg/WPG_dark.svg",ANA:"https://assets.nhle.com/logos/nhl/svg/ANA_dark.svg",ARI:"https://assets.nhle.com/logos/nhl/svg/ARI_dark.svg",CGY:"https://assets.nhle.com/logos/nhl/svg/CGY_dark.svg",EDM:"https://assets.nhle.com/logos/nhl/svg/EDM_dark.svg",LAK:"https://assets.nhle.com/logos/nhl/svg/LAK_dark.svg",SJS:"https://assets.nhle.com/logos/nhl/svg/SJS_dark.svg",SEA:"https://assets.nhle.com/logos/nhl/svg/SEA_dark.svg",VAN:"https://assets.nhle.com/logos/nhl/svg/VAN_dark.svg",VGK:"https://assets.nhle.com/logos/nhl/svg/VGK_dark.svg"},Nb=e=>{let{teamCode:t}=e;return(0,Ue.jsx)("img",{src:Tb[t],alt:t,className:yb.teamLogo})},Ib=e=>{let{selectedView:t,setSelectedView:n}=e;return(0,Ue.jsx)("nav",{className:yb.nav,children:[{id:"schedule",label:"Schedule"},{id:"bracket",label:"Bracket"},{id:"standings",label:"Standings"},{id:"teams",label:"Teams"}].map((e=>(0,Ue.jsx)("button",{className:"".concat(yb.navItem," ").concat(t===e.id?yb.active:""),onClick:()=>n(e.id),children:e.label},e.id)))})},Pb=e=>{let{teams:n}=e;const[r,s]=(0,t.useState)({name:"",players:[""],logoCode:""}),i=n?[...new Set(Object.values(n).map((e=>e.code)))]:[];return(0,Ue.jsxs)("div",{className:yb.teamsContainer,children:[(0,Ue.jsxs)("div",{className:yb.teamStats,children:[(0,Ue.jsxs)("div",{className:yb.counter,children:["Total Teams: ",n?Object.keys(n).length:0]}),(0,Ue.jsx)("div",{className:yb.selectedLogos,children:i.map((e=>(0,Ue.jsx)(Nb,{teamCode:e},e)))})]}),(0,Ue.jsx)("h2",{children:"Add New Team"}),(0,Ue.jsxs)("div",{className:yb.addTeam,children:[(0,Ue.jsx)("input",{type:"text",value:r.name,onChange:e=>s(At(At({},r),{},{name:e.target.value})),placeholder:"Team name",className:yb.teamInput}),(0,Ue.jsxs)("div",{className:yb.playerInputs,children:[r.players.map(((e,t)=>(0,Ue.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const n=[...r.players];n[e]=t,s(At(At({},r),{},{players:n}))})(t,e.target.value),placeholder:"Player ".concat(t+1),className:yb.playerInput},t))),r.players.length<5&&(0,Ue.jsx)("button",{type:"button",onClick:()=>{r.players.length<5&&s(At(At({},r),{},{players:[...r.players,""]}))},className:yb.addPlayerButton,children:"+ Add Player"})]}),(0,Ue.jsxs)("select",{value:r.logoCode,onChange:e=>s(At(At({},r),{},{logoCode:e.target.value})),className:yb.logoSelect,children:[(0,Ue.jsx)("option",{value:"",children:"Select Team Logo"}),Object.keys(Tb).map((e=>(0,Ue.jsx)("option",{value:e,children:e},e)))]}),(0,Ue.jsx)("button",{onClick:async()=>{const e=r.players.filter((e=>""!==e.trim()));if(r.name.trim()&&e.length>0&&r.logoCode){const t={name:r.name.trim(),players:e,code:r.logoCode,logo:Tb[r.logoCode],timestamp:Date.now()},n=qy(E_,"tournament/teams");await async function(e,t){"4340"===prompt("Enter password for write access:")?await Ky(e,t):alert("Invalid password, update skipped.")}(n,t),s({name:"",players:[""],logoCode:""})}},className:yb.addTeamButton,children:"Add Team"})]}),(0,Ue.jsx)("h3",{children:"Registered Teams"}),(0,Ue.jsx)("ul",{className:yb.teamList,children:n&&Object.values(n).map(((e,t)=>(0,Ue.jsxs)("li",{className:yb.teamItem,children:[(0,Ue.jsxs)("div",{className:yb.teamHeader,children:[(0,Ue.jsx)(Nb,{teamCode:e.code}),(0,Ue.jsxs)("div",{className:yb.teamInfo,children:[(0,Ue.jsx)("span",{className:yb.teamName,children:e.name}),(0,Ue.jsxs)("span",{className:yb.teamCode,children:["(",e.code,")"]})]})]}),(0,Ue.jsx)("ul",{className:yb.playerList,children:e.players.map(((e,t)=>(0,Ue.jsx)("li",{className:yb.playerItem,children:e},t)))})]},t)))})]})},Db=()=>{const[e,n]=(0,t.useState)("schedule"),[r,s]=(0,t.useState)(null);(0,t.useEffect)((()=>{$y(qy(E_,"tournament"),(e=>{const t=e.val();s(t)}))}),[]);return(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)(ze,{}),(0,Ue.jsxs)("div",{className:yb.tournamentContainer,children:[(0,Ue.jsx)("h1",{children:"Tournament Manager"}),(0,Ue.jsx)(Ib,{selectedView:e,setSelectedView:n}),(0,Ue.jsx)("div",{className:yb.content,children:(()=>{switch(e){case"schedule":return(0,Ue.jsx)(bb,{teams:null===r||void 0===r?void 0:r.teams});case"teams":return(0,Ue.jsx)(Pb,{teams:null===r||void 0===r?void 0:r.teams});case"bracket":return(0,Ue.jsx)(xb,{teams:null===r||void 0===r?void 0:r.teams});case"standings":return(0,Ue.jsx)(wb,{teams:null===r||void 0===r?void 0:r.teams});default:return(0,Ue.jsx)("div",{children:"Select a view"})}})()}),!(null!==r&&void 0!==r&&r.started)&&(0,Ue.jsx)("button",{className:yb.startButton,onClick:async()=>{const e=qy(E_,"tournament");await vb(e,{started:!0})},children:"Start Tournament"})]})]})},jb=()=>(0,Ue.jsxs)("div",{style:{padding:"2rem",textAlign:"center"},children:[(0,Ue.jsx)("h1",{children:"404 - Page Not Found"}),(0,Ue.jsx)("p",{children:"Sorry, the page you are looking for does not exist."})]});class Rb extends t.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error",e,t)}render(){return this.state.hasError?(0,Ue.jsxs)("div",{style:{padding:"2rem",textAlign:"center"},children:[(0,Ue.jsx)("h1",{children:"Something went wrong."}),(0,Ue.jsx)("p",{children:"Please try again later."})]}):this.props.children}}const Ob=Rb,Lb=()=>(0,Ue.jsx)(Ae,{children:(0,Ue.jsx)(Ob,{children:(0,Ue.jsxs)(_e,{children:[(0,Ue.jsx)(ye,{path:"/",element:(0,Ue.jsx)(Qe,{})}),(0,Ue.jsx)(ye,{path:"powerhourform",element:(0,Ue.jsx)(ah,{})}),(0,Ue.jsx)(ye,{path:"powerhour",element:(0,Ue.jsx)(dh,{})}),(0,Ue.jsx)(ye,{path:"ridethebus/5-card-classic",element:(0,Ue.jsx)(Uh,{})}),(0,Ue.jsx)(ye,{path:"ridethebus/4-card-classic",element:(0,Ue.jsx)(Xh,{})}),(0,Ue.jsx)(ye,{path:"horserace",element:(0,Ue.jsx)(md,{})}),(0,Ue.jsx)(ye,{path:"aroundtheworld",element:(0,Ue.jsx)(Sd,{})}),(0,Ue.jsx)(ye,{path:"propursuit",element:(0,Ue.jsx)(X_,{})}),(0,Ue.jsx)(ye,{path:"blackjack",element:(0,Ue.jsx)(ib,{})}),(0,Ue.jsx)(ye,{path:"blackjack-dealer/:gameCode",element:(0,Ue.jsx)(fb,{})}),(0,Ue.jsx)(ye,{path:"blackjack-player/:gameCode",element:(0,Ue.jsx)(gb,{})}),(0,Ue.jsx)(ye,{path:"tournament",element:(0,Ue.jsx)(Db,{})}),(0,Ue.jsx)(ye,{path:"*",element:(0,Ue.jsx)(jb,{})})]})})});s.createRoot(document.getElementById("root")).render((0,Ue.jsx)(Lb,{}))})()})();
//# sourceMappingURL=main.e474574b.js.map